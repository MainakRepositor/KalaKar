var colorsForPicker=["#D24D57","#F22613","#D91E18","#96281B","#EF4836","#D64541","#C0392B","#CF000F","#E74C3C","#DB0A5B","#F64747","#F1A9A0","#D2527F","#E08283","#F62459","#E26A6A","#DCC6E0","#663399","#674172","#AEA8D3","#913D88","#9A12B3","#BF55EC","#BE90D4","#8E44AD","#9B59B6","#446CB3","#E4F1FE","#4183D7","#59ABE3","#81CFE0","#52B3D9","#C5EFF7","#22A7F0","#3498DB","#2C3E50","#19B5FE","#336E7B","#22313F","#6BB9F0","#1E8BC3","#3A539B","#34495E","#67809F","#2574A9","#1F3A93","#89C4F4","#4B77BE","#5C97BF","#4ECDC4","#A2DED0","#87D37C","#90C695","#26A65B","#03C9A9","#68C3A3","#65C6BB","#1BBC9B","#1BA39C","#66CC99","#36D7B7","#C8F7C5","#86E2D5","#2ECC71","#16a085","#3FC380","#019875","#03A678","#4DAF7C","#2ABB9B","#00B16A","#1E824C","#049372","#26C281","#FDE3A7","#F89406","#EB9532","#E87E04","#F4B350","#F2784B","#EB974E","#F5AB35","#D35400","#F39C12","#F9690E","#F9BF3B","#F27935","#E67E22","#ececec","#6C7A89","#D2D7D3","#EEEEEE","#BDC3C7","#ECF0F1","#95A5A6","#DADFE1","#ABB7B7","#F2F1EF","#BFBFBF","#E6E2AF","#A7A37E","#EFECCA","#046380","#002F2F","#468966","#FFF0A5","#FFB03B","#B64926","#8E2800","#1E1E20"],edGradients={1:{type:"linear",x1:-80,y1:0,x2:80,y2:0,colorStops:{0:"#ffe47b",1:"rgb(111,154,211)"}},2:{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#ff4040",1:"#e6399b"}},3:{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"rgb(166,111,213)",.5:"rgba(106, 72, 215, 0.5)",1:"#200772"}},4:{type:"radial",r1:100,r2:10,x1:0,y1:0,x2:0,y2:0,colorStops:{0:"#FF4F4F",1:"rgb(255, 239, 64)"}},5:{type:"radial",r1:100,r2:10,x1:0,y1:0,x2:20,y2:20,colorStops:{0:"#ffe47b",.5:"rgb(111,154,211)",1:"rgb(166,111,213)"}},6:{type:"radial",r1:50,r2:80,x1:45,y1:45,x2:52,y2:50,colorStops:{0:"rgb(155, 237, 0)",1:"rgba(0, 164, 128,0.4)"}},7:{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"#9ecb2d",.5:"#72aa00",1:"#bfd255"}},8:{type:"radial",r1:100,r2:50,x1:30,y1:0,x2:0,y2:0,colorStops:{0:"#aebcbf",1:"#0a0809"}},9:{type:"linear",x1:-80,y1:0,x2:80,y2:0,colorStops:{0:"#ffffff",1:"#f6f6f6"}},10:{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#fefcea",1:"#f1da36"}},11:{type:"linear",x1:-90,y1:-90,x2:90,y2:90,colorStops:{0:"rgb(166,111,213)",.5:"rgba(106, 72, 215, 0.5)",1:"#ff1a00"}},12:{type:"linear",x1:0,y1:-120,x2:0,y2:120,colorStops:{0:"#b7deed",1:"#21b4e2"}},13:{type:"linear",x1:-80,y1:100,x2:80,y2:-100,colorStops:{0:"#ffe47b",1:"rgb(111,154,211)"}}};!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(se.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return U.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return Q.each(t.match(fe)||[],function(t,n){e[n]=!0}),e}function a(){J.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function c(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(xe,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?Q.parseJSON(n):n}catch(r){}be.set(t,e,n)}else n=void 0;return n}function l(){return!0}function u(){return!1}function h(){try{return J.activeElement}catch(t){}}function d(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=je.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n=0,i=t.length;i>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function g(t,e){var n,i,r,o,a,s,c,l;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),a=ve.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)Q.event.add(e,r,l[r][n])}be.hasData(t)&&(s=be.access(t),c=Q.extend({},s),be.set(e,c))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_e.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(e,n){var i,r=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:Q.css(r[0],"display");return r.detach(),o}function x(t){var e=J,n=Fe[t];return n||(n=y(t,e),"none"!==n&&n||(Re=(Re||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Re[0].contentDocument,e.write(),e.close(),n=y(t,e),Re.detach()),Fe[t]=n),n}function w(t,e,n){var i,r,o,a,s=t.style;return n=n||ze(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),We.test(a)&&Be.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function $(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Ge.length;r--;)if(e=Ge[r]+n,e in t)return e;return i}function _(t,e,n){var i=Ve.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function E(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(t,n+Ce[o],!0,r)),i?("content"===n&&(a-=Q.css(t,"padding"+Ce[o],!0,r)),"margin"!==n&&(a-=Q.css(t,"border"+Ce[o]+"Width",!0,r))):(a+=Q.css(t,"padding"+Ce[o],!0,r),"padding"!==n&&(a+=Q.css(t,"border"+Ce[o]+"Width",!0,r)));return a}function S(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ze(t),a="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=w(t,e,o),(0>r||null==r)&&(r=t.style[e]),We.test(r))return r;i=a&&(K.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+E(t,e,n||(a?"border":"content"),i,o)+"px"}function T(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&$e(i)&&(o[a]=ve.access(i,"olddisplay",x(i.nodeName)))):(r=$e(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Q.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function A(t,e,n,i,r){return new A.prototype.init(t,e,n,i,r)}function k(){return setTimeout(function(){Ke=void 0}),Ke=Q.now()}function M(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Ce[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function O(t,e,n){for(var i,r=(nn[e]||[]).concat(nn["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function P(t,e,n){var i,r,o,a,s,c,l,u,h=this,d={},f=t.style,p=t.nodeType&&$e(t),m=ve.get(t,"fxshow");n.queue||(s=Q._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=Q.css(t,"display"),u="none"===l?ve.get(t,"olddisplay")||x(t.nodeName):l,"inline"===u&&"none"===Q.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Ze.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}d[i]=m&&m[i]||Q.style(t,i)}else l=void 0;if(Q.isEmptyObject(d))"inline"===("none"===l?x(t.nodeName):l)&&(f.display=l);else{m?"hidden"in m&&(p=m.hidden):m=ve.access(t,"fxshow",{}),o&&(m.hidden=!p),p?Q(t).show():h.done(function(){Q(t).hide()}),h.done(function(){var e;ve.remove(t,"fxshow");for(e in d)Q.style(t,e,d[e])});for(i in d)a=O(p?m[i]:0,i,h),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function I(t,e){var n,i,r,o,a;for(n in t)if(i=Q.camelCase(n),r=e[i],o=t[n],Q.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=Q.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function D(t,e,n){var i,r,o=0,a=en.length,s=Q.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Ke||k(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,c=l.tweens.length;c>a;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),1>o&&c?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ke||k(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Q.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),u=l.props;for(I(u,l.opts.specialEasing);a>o;o++)if(i=en[o].call(l,t,u,l.opts))return i;return Q.map(u,O,l),Q.isFunction(l.opts.start)&&l.opts.start.call(t,l),Q.fx.timer(Q.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(fe)||[];if(Q.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function j(t,e,n,i){function r(s){var c;return o[s]=!0,Q.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var o={},a=t===xn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function H(t,e){var n,i,r=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Q.extend(!0,t,i),t}function L(t,e,n){for(var i,r,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function R(t,e,n,i){var r,o,a,s,c,l={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(a=l[c+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,i){var r;if(Q.isArray(e))Q.each(e,function(e,r){n||En.test(t)?i(t,r):F(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Q.type(e))i(t,e);else for(r in e)F(t+"["+r+"]",e[r],n,i)}function B(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],z=W.slice,q=W.concat,V=W.push,U=W.indexOf,Y={},X=Y.toString,G=Y.hasOwnProperty,K={},J=t.document,Z="2.1.3",Q=function(t,e){return new Q.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,ie=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:z.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:W.sort,splice:W.splice},Q.extend=Q.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(Q.isPlainObject(i)||(r=Q.isArray(i)))?(r?(r=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!G.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[X.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,ie)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?Q.merge(i,"string"==typeof t?[t]:t):V.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:U.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),c=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&c.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&c.push(r);return q.apply([],c)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(i=z.call(arguments,2),r=function(){return t.apply(e||this,i.concat(z.call(arguments)))},r.guid=t.guid=t.guid||Q.guid++,r):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var re=function(t){function e(t,e,n,i){var r,o,a,s,c,l,h,f,p,m;if((e?e.ownerDocument||e:F)!==P&&O(e),e=e||P,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&D){if(11!==s&&(r=be.exec(t)))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&L(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&w.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(a)),n}if(w.qsa&&(!N||!N.test(t))){if(f=h=R,p=e,m=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=E(t),(h=e.getAttribute("id"))?f=h.replace(xe,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",c=l.length;c--;)l[c]=f+d(l[c]);p=ye.test(t)&&u(e.parentNode)||e,m=l.join(",")}if(m)try{return Z.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return T(t.replace(ce,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[R]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)C.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=W++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,c,l=[B,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[R]||(e[R]={}),(s=c[i])&&s[0]===B&&s[1]===o)return l[2]=s[2];if(c[i]=l,l[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,a=[],s=0,c=t.length,l=null!=e;c>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),l&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[R]&&(r=v(r)),o&&!o[R]&&(o=v(o,a)),i(function(i,a,s,c){var l,u,h,d=[],f=[],p=a.length,v=i||m(e||"*",s.nodeType?[s]:s,[]),b=!t||!i&&e?v:g(v,d,t,s,c),y=n?o||(i?t:p||r)?[]:a:b;if(n&&n(b,y,s,c),r)for(l=g(y,f),r(l,[],s,c),u=l.length;u--;)(h=l[u])&&(y[f[u]]=!(b[f[u]]=h));if(i){if(o||t){if(o){for(l=[],u=y.length;u--;)(h=y[u])&&l.push(b[u]=h);o(null,y=[],l,c)}for(u=y.length;u--;)(h=y[u])&&(l=o?te(i,h):d[u])>-1&&(i[l]=!(a[l]=h))}}else y=g(y===a?y.splice(p,y.length):y),o?o(null,a,y,c):Z.apply(a,y)})}function b(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,c=f(function(t){return t===e},a,!0),l=f(function(t){return te(e,t)>-1},a,!0),u=[function(t,n,i){var r=!o&&(i||n!==A)||((e=n).nodeType?c(t,n,i):l(t,n,i));return e=null,r}];r>s;s++)if(n=C.relative[t[s].type])u=[f(p(u),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[R]){for(i=++s;r>i&&!C.relative[t[i].type];i++);return v(s>1&&p(u),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ce,"$1"),n,i>s&&b(t.slice(s,i)),r>i&&b(t=t.slice(i)),r>i&&d(t))}u.push(n)}return p(u)}function y(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,c,l){var u,h,d,f=0,p="0",m=i&&[],v=[],b=A,y=i||o&&C.find.TAG("*",l),x=B+=null==b?1:Math.random()||.1,w=y.length;for(l&&(A=a!==P&&a);p!==w&&null!=(u=y[p]);p++){if(o&&u){for(h=0;d=t[h++];)if(d(u,a,s)){c.push(u);break}l&&(B=x)}r&&((u=!d&&u)&&f--,i&&m.push(u))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(c));v=g(v)}Z.apply(c,v),l&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(c)}return l&&(B=x,A=b),m};return r?i(a):a}var x,w,C,$,_,E,S,T,A,k,M,O,P,I,D,N,j,H,L,R="sizzle"+1*new Date,F=t.document,B=0,W=0,z=n(),q=n(),V=n(),U=function(t,e){return t===e&&(M=!0),0},Y=1<<31,X={}.hasOwnProperty,G=[],K=G.pop,J=G.push,Z=G.push,Q=G.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ce=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},$e=function(){O()};try{Z.apply(G=Q.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(_e){Z={apply:G.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,I=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",$e,!1):n.attachEvent&&n.attachEvent("onunload",$e)),D=!_(i),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName),w.getById=r(function(t){return I.appendChild(t).id=R,!i.getElementsByName||!i.getElementsByName(R).length}),w.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(we,Ce);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(we,Ce);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=w.getElementsByClassName&&function(t,e){return D?e.getElementsByClassName(t):void 0},j=[],N=[],(w.qsa=ve.test(i.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+R+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||N.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=ve.test(H=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){w.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),j.push("!=",ae)}),N=N.length&&new RegExp(N.join("|")),j=j.length&&new RegExp(j.join("|")),e=ve.test(I.compareDocumentPosition),L=e||ve.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&L(F,t)?-1:e===i||e.ownerDocument===F&&L(F,e)?1:k?te(k,t)-te(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,c=[t],l=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:k?te(k,t)-te(k,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)c.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;c[r]===l[r];)r++;return r?a(c[r],l[r]):c[r]===F?-1:l[r]===F?1:0},i):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&O(t),n=n.replace(he,"='$1']"),!(!w.matchesSelector||!D||j&&j.test(n)||N&&N.test(n)))try{var i=H.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&O(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&O(t);var n=C.attrHandle[e.toLowerCase()],i=n&&X.call(C.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==i?i:w.attributes||!D?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!w.detectDuplicates,k=!w.sortStable&&t.slice(0),t.sort(U),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return k=null,t},$=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=$(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=$(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,Ce),t[3]=(t[3]||t[4]||t[5]||"").replace(we,Ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&de.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,Ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!c&&!s;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(u=g[R]||(g[R]={}),l=u[t]||[],f=l[0]===B&&l[1],d=l[0]===B&&l[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[B,f,d];break}}else if(b&&(l=(e[R]||(e[R]={}))[t])&&l[0]===B)d=l[1];else for(;(h=++f&&h&&h[m]||(d=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(b&&((h[R]||(h[R]={}))[t]=[B,d]),h!==e)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=te(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(ce,"$1"));return r[R]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(we,Ce),function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}}),lang:i(function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,Ce).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=c(x);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,E=e.tokenize=function(t,n){var i,r,o,a,s,c,l,u=q[t+" "];if(u)return n?0:u.slice(0);for(s=t,c=[],l=C.preFilter;s;){(!i||(r=le.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ce," ")}),s=s.slice(i.length));
for(a in C.filter)!(r=pe[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):q(t,c).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=b(e[n]),o[R]?i.push(o):r.push(o);o=V(t,y(r,i)),o.selector=t}return o},T=e.select=function(t,e,n,i){var r,o,a,s,c,l="function"==typeof t&&t,h=!i&&E(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&D&&C.relative[o[1].type]){if(e=(C.find.ID(a.matches[0].replace(we,Ce),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((c=C.find[s])&&(i=c(a.matches[0].replace(we,Ce),ye.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return Z.apply(n,i),n;break}}return(l||S(t,h))(i,e,!D,n,ye.test(t)&&u(e.parentNode)||e),n},w.sortStable=R.split("").sort(U).join("")===R,w.detectDuplicates=!!M,O(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Q.find=re,Q.expr=re.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=re.uniqueSort,Q.text=re.getText,Q.isXMLDoc=re.isXML,Q.contains=re.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Q.find.matchesSelector(i,t)?[i]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(r[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,r[e],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&oe.test(t)?Q(t):t||[],!1).length}});var ce,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=Q.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:le.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ce).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),ae.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof ce.ready?ce.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ue.prototype=Q.fn,ce=Q(J);var he=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Q(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=oe.test(t)||"string"!=typeof t?Q(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?U.call(Q(t),this[0]):U.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,i){var r=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),this.length>1&&(de[t]||Q.unique(r),he.test(t)&&r.reverse()),this.pushStack(r)}});var fe=/\S+/g,pe={};Q.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):Q.extend({},t);var e,n,i,r,a,s,c=[],l=!t.once&&[],u=function(o){for(e=t.memory&&o,n=!0,s=r||0,r=0,a=c.length,i=!0;c&&a>s;s++)if(c[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,c&&(l?l.length&&u(l.shift()):e?c=[]:h.disable())},h={add:function(){if(c){var n=c.length;!function o(e){Q.each(e,function(e,n){var i=Q.type(n);"function"===i?t.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=c.length:e&&(r=n,u(e))}return this},remove:function(){return c&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,c,n))>-1;)c.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?Q.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=l=e=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,e||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],i?l.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var a=Q.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,i):i}},r={};return i.pipe=i.then,Q.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=z.call(arguments),a=o.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,c=1===s?t:Q.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?z.call(arguments):r,i===e?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(c.reject).progress(l(r,n,e)):--s;return s||c.resolveWith(i,o),c.promise()}});var me;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(me.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(e){return me||(me=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),me.promise(e)},Q.ready.promise();var ge=Q.access=function(t,e,n,i,r,o,a){var s=0,c=t.length,l=null==n;if("object"===Q.type(n)){r=!0;for(s in n)Q.access(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,Q.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(Q(t),n)})),e))for(;c>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):c?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?i=e.concat(e.map(Q.camelCase)):(r=Q.camelCase(e),e in a?i=[e,r]:(i=r,i=i in a?[i]:i.match(fe)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new s,be=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Q.extend({hasData:function(t){return be.hasData(t)||ve.hasData(t)},data:function(t,e,n){return be.access(t,e,n)},removeData:function(t,e){be.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=be.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),c(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){be.set(this,t)}):ge(this,function(e){var n,i=Q.camelCase(t);if(o&&void 0===e){if(n=be.get(o,t),void 0!==n)return n;if(n=be.get(o,i),void 0!==n)return n;if(n=c(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,i);be.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&be.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){be.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ve.get(t,e),n&&(!i||Q.isArray(n)?i=ve.access(t,e,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),i=n.length,r=n.shift(),o=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Q.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ve.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=["Top","Right","Bottom","Left"],$e=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},_e=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ee="undefined";K.focusinBubbles="onfocusin"in t;var Se=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,ke=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,f,p,m,g=ve.get(t);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Q.guid++),(c=g.events)||(c=g.events={}),(a=g.handle)||(a=g.handle=function(e){return typeof Q!==Ee&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(fe)||[""],l=e.length;l--;)s=ke.exec(e[l])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(h=Q.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=Q.event.special[f]||{},u=Q.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=c[f])||(d=c[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(f,a,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),Q.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,f,p,m,g=ve.hasData(t)&&ve.get(t);if(g&&(c=g.events)){for(e=(e||"").match(fe)||[""],l=e.length;l--;)if(s=ke.exec(e[l])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=Q.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&h.teardown.call(t,p,g.handle)!==!1||Q.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)Q.event.remove(t,f+e[l],n,i,!0);Q.isEmptyObject(c)&&(delete g.handle,ve.remove(t,"events"))}},trigger:function(e,n,i,r){var o,a,s,c,l,u,h,d=[i||J],f=G.call(e,"type")?e.type:e,p=G.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Ae.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,e=e[Q.expando]?e:new Q.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Q.makeArray(n,[e]),h=Q.event.special[f]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!Q.isWindow(i)){for(c=h.delegateType||f,Ae.test(c+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(i.ownerDocument||J)&&d.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=d[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||f,u=(ve.get(a,"events")||{})[e.type]&&ve.get(a,"handle"),u&&u.apply(a,n),u=l&&a[l],u&&u.apply&&Q.acceptData(a)&&(e.result=u.apply(a,n),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Q.acceptData(i)||l&&Q.isFunction(i[f])&&!Q.isWindow(i)&&(s=i[l],s&&(i[l]=null),Q.event.triggered=f,i[f](),Q.event.triggered=void 0,s&&(i[l]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,i,r,o,a=[],s=z.call(arguments),c=(ve.get(this,"events")||{})[t.type]||[],l=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=Q.event.handlers.call(this,t,c),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,c=t.target;if(s&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(i=[],n=0;s>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Q(r,this).index(c)>=0:Q.find(r,this,null,[c]).length),i[r]&&i.push(o);i.length&&a.push({elem:c,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||J,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Te.test(r)?this.mouseHooks:Se.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new Q.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,e):Q.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:u):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!Q.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,e);r||i.addEventListener(t,n,!0),ve.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,e)-1;r?ve.access(i,e,r):(i.removeEventListener(t,n,!0),ve.remove(i,e))}}}),Q.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=u;else if(!i)return this;return 1===r&&(o=i,i=function(t){return Q().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Q(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=u),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Pe=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,je=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,Q.extend({clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),c=Q.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=v(s),o=v(t),i=0,r=o.length;r>i;i++)b(o[i],a[i]);if(e)if(n)for(o=o||v(t),a=a||v(s),i=0,r=o.length;r>i;i++)g(o[i],a[i]);else g(t,s);return a=v(s,"script"),a.length>0&&m(a,!c&&v(t,"script")),s},buildFragment:function(t,e,n,i){for(var r,o,a,s,c,l,u=e.createDocumentFragment(),h=[],d=0,f=t.length;f>d;d++)if(r=t[d],r||0===r)if("object"===Q.type(r))Q.merge(h,r.nodeType?[r]:r);else if(Pe.test(r)){for(o=o||u.appendChild(e.createElement("div")),a=(Oe.exec(r)||["",""])[1].toLowerCase(),s=Le[a]||Le._default,o.innerHTML=s[1]+r.replace(Me,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;Q.merge(h,o.childNodes),o=u.firstChild,o.textContent=""}else h.push(e.createTextNode(r));for(u.textContent="",d=0;r=h[d++];)if((!i||-1===Q.inArray(r,i))&&(c=Q.contains(r.ownerDocument,r),o=v(u.appendChild(r),"script"),c&&m(o),n))for(l=0;r=o[l++];)Ne.test(r.type||"")&&n.push(r);return u},cleanData:function(t){for(var e,n,i,r,o=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(r=n[ve.expando],r&&(e=ve.cache[r]))){if(e.events)for(i in e.events)o[i]?Q.event.remove(n,i):Q.removeEvent(n,i,e.handle);ve.cache[r]&&delete ve.cache[r]}delete be.cache[n[be.expando]]}}}),Q.fn.extend({text:function(t){return ge(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Q.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return ge(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ie.test(t)&&!Le[(Oe.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Me,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=q.apply([],t);var n,i,r,o,a,s,c=0,l=this.length,u=this,h=l-1,d=t[0],m=Q.isFunction(d);if(m||l>1&&"string"==typeof d&&!K.checkClone&&De.test(d))return this.each(function(n){var i=u.eq(n);m&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Q.map(v(n,"script"),f),o=r.length;l>c;c++)a=n,c!==h&&(a=Q.clone(a,!0,!0),o&&Q.merge(r,v(a,"script"))),e.call(this[c],a,c);if(o)for(s=r[r.length-1].ownerDocument,Q.map(r,p),c=0;o>c;c++)a=r[c],Ne.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(He,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,i=[],r=Q(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(r[a])[e](n),V.apply(i,n.get());return this.pushStack(i)}});var Re,Fe={},Be=/^margin/,We=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),ze=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(o)}var n,i,r=J.documentElement,o=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),e}}))}(),Q.swap=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r};var qe=/^(none|table(?!-c[ea]).+)/,Ve=new RegExp("^("+we+")(.*)$","i"),Ue=new RegExp("^([+-])=("+we+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Q.camelCase(e),c=t.style;return e=Q.cssProps[s]||(Q.cssProps[s]=$(c,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e]:(o=typeof n,"string"===o&&(r=Ue.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Q.css(t,e)),o="number"),void(null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(c[e]=n))))}},css:function(t,e,n,i){var r,o,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=$(t.style,s)),a=Q.cssHooks[e]||Q.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=w(t,e,i)),"normal"===r&&e in Xe&&(r=Xe[e]),""===n||n?(o=parseFloat(r),n===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,i){return n?qe.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Ye,function(){return S(t,e,i)}):S(t,e,i):void 0},set:function(t,n,i){var r=i&&ze(t);return _(t,n,i?E(t,e,i,"border-box"===Q.css(t,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=C(K.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Ce[i]+e]=o[i]||o[i-2]||o[0];return r}},Be.test(t)||(Q.cssHooks[t+e].set=_)}),Q.fn.extend({css:function(t,e){return ge(this,function(t,e,n){var i,r,o={},a=0;if(Q.isArray(e)){for(i=ze(t),r=e.length;r>a;a++)o[e[a]]=Q.css(t,e[a],!1,i);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$e(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=A,A.prototype={constructor:A,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,n=A.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t
},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=A.prototype.init,Q.fx.step={};var Ke,Je,Ze=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[P],nn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Qe.exec(e),o=r&&r[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==o&&+i)&&Qe.exec(Q.css(n.elem,t)),s=1,c=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,Q.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--c)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};Q.Animation=Q.extend(D,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),Q.speed=function(t,e,n){var i=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.fn.extend({fadeTo:function(t,e,n,i){return this.filter($e).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Q.isEmptyObject(t),o=Q.speed(e,n,i),a=function(){var e=D(this,Q.extend({},t),o);(r||ve.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Q.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&tn.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=Q.timers,a=i?i.length:0;for(n.finish=!0,Q.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(M(e,!0),t,i,r)}}),Q.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Ke=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Ke=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Je||(Je=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Je),Je=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=J.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var rn,on,an=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return ge(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var i,r,o=t.nodeType;return t&&3!==o&&8!==o&&2!==o?typeof t.getAttribute===Ee?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),i=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?on:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=Q.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e)):void 0},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(fe);if(o&&1===t.nodeType)for(;n=o[r++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||Q.find.attr;an[e]=function(t,e,i){var r,o;return i||(o=an[e],an[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,an[e]=o),r}});var sn=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return ge(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(o=1!==a||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,r=Q.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||sn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var cn=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,c=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(fe)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=Q.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,c=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(fe)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=t?Q.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=Q(this),o=t.match(fe)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Ee||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(cn," ").indexOf(e)>=0)return!0;return!1}});var ln=/\r/g;Q.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=Q.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Q(this).val()):t,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)):void 0}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,c=0>r?s:o?r:0;s>c;c++)if(n=i[c],!(!n.selected&&c!==r||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=Q.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=Q.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var un=Q.now(),hn=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var dn=/#.*$/,fn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gn=/^(?:GET|HEAD)$/,vn=/^\/\//,bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yn={},xn={},wn="*/".concat("*"),Cn=t.location.href,$n=bn.exec(Cn.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cn,type:"GET",isLocal:mn.test($n[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,Q.ajaxSettings),e):H(Q.ajaxSettings,t)},ajaxPrefilter:N(yn),ajaxTransport:N(xn),ajax:function(t,e){function n(t,e,n,a){var c,u,v,b,x,C=e;2!==y&&(y=2,s&&clearTimeout(s),i=void 0,o=a||"",w.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(b=L(h,w,n)),b=R(h,b,w,c),c?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Q.lastModified[r]=x),x=w.getResponseHeader("etag"),x&&(Q.etag[r]=x)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,u=b.data,v=b.error,c=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(e||C)+"",c?p.resolveWith(d,[u,C,w]):p.rejectWith(d,[w,C,v]),w.statusCode(g),g=void 0,l&&f.trigger(c?"ajaxSuccess":"ajaxError",[w,h,c?u:v]),m.fireWith(d,[w,C]),l&&(f.trigger("ajaxComplete",[w,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,c,l,u,h=Q.ajaxSetup({},e),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?Q(d):Q.event,p=Q.Deferred(),m=Q.Callbacks("once memory"),g=h.statusCode||{},v={},b={},y=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!a)for(a={};e=pn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return i&&i.abort(e),n(0,e),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||Cn)+"").replace(dn,"").replace(vn,$n[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(fe)||[""],null==h.crossDomain&&(c=bn.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]===$n[1]&&c[2]===$n[2]&&(c[3]||("http:"===c[1]?"80":"443"))===($n[3]||("http:"===$n[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),j(yn,h,e,w),2===y)return w;l=Q.event&&h.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!gn.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(hn.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=fn.test(r)?r.replace(fn,"$1_="+un++):r+(hn.test(r)?"&":"?")+"_="+un++)),h.ifModified&&(Q.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&w.setRequestHeader("If-None-Match",Q.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+wn+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)w.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===y))return w.abort();x="abort";for(u in{success:1,error:1,complete:1})w[u](h[u]);if(i=j(xn,h,e,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},h.timeout));try{y=1,i.send(v,n)}catch(C){if(!(2>y))throw C;n(-1,C)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,i,r){return Q.isFunction(n)&&(r=r||i,i=n,n=void 0),Q.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var _n=/%20/g,En=/\[\]$/,Sn=/\r?\n/g,Tn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,i=[],r=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){r(this.name,this.value)});else for(n in t)F(n,t[n],e,r);return i.join("&").replace(_n,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&An.test(this.nodeName)&&!Tn.test(t)&&(this.checked||!_e.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Sn,"\r\n")}}):{name:e.name,value:n.replace(Sn,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var kn=0,Mn={},On={0:200,1223:204},Pn=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Mn)Mn[t]()}),K.cors=!!Pn&&"withCredentials"in Pn,K.ajax=Pn=!!Pn,Q.ajaxTransport(function(t){var e;return K.cors||Pn&&!t.crossDomain?{send:function(n,i){var r,o=t.xhr(),a=++kn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete Mn[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(On[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Mn[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var In=[],Dn=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=In.pop()||Q.expando+"_"+un++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Dn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Dn,"$1"+r):e.jsonp!==!1&&(e.url+=(hn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||Q.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,In.push(r)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||J;var i=ae.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=Q.buildFragment([t],e,r),r&&r.length&&Q(r).remove(),Q.merge([],i.childNodes))};var Nn=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Nn)return Nn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>=0&&(i=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&Q.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?Q("<div>").append(Q.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var jn=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var i,r,o,a,s,c,l,u=Q.css(t,"position"),h=Q(t),d={};"static"===u&&(t.style.position="relative"),s=h.offset(),o=Q.css(t,"top"),c=Q.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1,l?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):h.css(d)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,Q.contains(e,i)?(typeof i.getBoundingClientRect!==Ee&&(r=i.getBoundingClientRect()),n=B(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(i=t.offset()),i.top+=Q.css(t[0],"borderTopWidth",!0),i.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Q.css(n,"marginTop",!0),left:e.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||jn;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||jn})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;Q.fn[e]=function(r){return ge(this,function(e,r,o){var a=B(e);return void 0===o?a?a[n]:e[r]:void(a?a.scrollTo(i?t.pageXOffset:o,i?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=C(K.pixelPosition,function(t,n){return n?(n=w(t,e),We.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Q.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return ge(this,function(e,n,i){var r;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?Q.css(e,n,a):Q.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Hn=t.jQuery,Ln=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Ln),e&&t.jQuery===Q&&(t.jQuery=Hn),Q},typeof e===Ee&&(t.jQuery=t.$=Q),Q}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']")[0],!!a&&n(a)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var i=0,r=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(a){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,a,s,c={},l=e.split(".")[0];return e=e.split(".")[1],r=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(c[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(c[e]=i)}),a.prototype=t.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||e:e},c,{constructor:a,namespace:l,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),a=0,s=o.length;s>a;a++)for(n in o[a])i=o[a][n],o[a].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=r.call(arguments,1),c=this;return a?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(c=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s),n!==r&&void 0!==n?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var c=i.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+o.eventNamespace,u=c[2];u?r.delegate(u,l,s):n.bind(l,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})
},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});var o=(t.widget,!1);t(document).mouseup(function(){o=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(i){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),c=t.pageX,l=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(c=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(c=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,c=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(c=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,c,l,u,h,d,f,p=i.options,m=p.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)c=i.snapElements[d].left-i.margins.left,l=c+i.snapElements[d].width,u=i.snapElements[d].top-i.margins.top,h=u+i.snapElements[d].height,c-m>v||g>l+m||u-m>y||b>h+m||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(u-y)<=m,o=Math.abs(h-b)<=m,a=Math.abs(c-v)<=m,s=Math.abs(l-g)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),f=r||o||a||s,"outer"!==p.snapMode&&(r=Math.abs(u-b)<=m,o=Math.abs(h-y)<=m,a=Math.abs(c-g)<=m,s=Math.abs(l-v)<=m,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||o||a||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||a||s||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,a=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable,t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,c=s+t.height,l=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+l>s&&c>i+l,d="y"===this.options.axis||e+u>o&&a>e+u,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<c},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)
},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,r,o,a,s=[],c=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(o=t(l[i],this.document[0]),r=o.length-1;r>=0;r--)a=t.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&c.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(c.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=c.length-1;i>=0;i--)c[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,c,l,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(a=h[n][1],s=h[n][0],i=0,l=s.length;l>i;i++)c=t(s[i]),c.data(this.widgetName+"-item",a),u.push({item:c,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,a,s,c,l,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,u=d.floating||this._isFloating(this.currentItem),a=u?"left":"top",s=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(c=this.items[i].item.offset()[a],l=!1,e[h]-c>this.items[i][s]/2&&(l=!0),Math.abs(e[h]-c)<r&&(r=Math.abs(e[h]-c),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(t){"use strict";var e,n=t.Uint8Array,i=t.HTMLCanvasElement,r=i&&i.prototype,o=/\s*;\s*base64\s*(?:;|$)/i,a="toDataURL",s=function(t){for(var i,r,o,a=t.length,s=new n(a/4*3|0),c=0,l=0,u=[0,0],h=0,d=0;a--;)r=t.charCodeAt(c++),i=e[r-43],255!==i&&i!==o&&(u[1]=u[0],u[0]=r,d=d<<6|i,h++,4===h&&(s[l++]=d>>>16,61!==u[1]&&(s[l++]=d>>>8),61!==u[0]&&(s[l++]=d),h=0));return s};n&&(e=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),i&&!r.toBlob&&(r.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)return void t(this.mozGetAsFile("canvas",e));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e))return void t(this.msToBlob());var i,r=Array.prototype.slice.call(arguments,1),c=this[a].apply(this,r),l=c.indexOf(","),u=c.substring(l+1),h=o.test(c.substring(0,l));Blob.fake?(i=new Blob,i.encoding=h?"base64":"URI",i.data=u,i.size=u.length):n&&(i=h?new Blob([s(u)],{type:e}):new Blob([decodeURIComponent(u)],{type:e})),t(i)},r.toBlobHD=r.toDataURLHD?function(){a="toDataURLHD";var t=this.toBlob();return a="toDataURL",t}:r.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(n){var i=e.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",u=0,h=500,d=function(e){var i=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?i():setTimeout(i,h)},f=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){c(o)}}},p=function(e,c){var h,p,m,g=this,v=e.type,b=!1,y=function(){f(g,"writestart progress write writeend".split(" "))},x=function(){if((b||!h)&&(h=n().createObjectURL(e)),p)p.location.href=h;else{var i=t.open(h,"_blank");void 0==i&&"undefined"!=typeof safari&&(t.location.href=h)}g.readyState=g.DONE,y(),d(h)},w=function(t){return function(){return g.readyState!==g.DONE?t.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return g.readyState=g.INIT,c||(c="download"),r?(h=n().createObjectURL(e),i.href=h,i.download=c,o(i),g.readyState=g.DONE,y(),void d(h)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)&&(e=new Blob(["﻿",e],{type:e.type})),t.chrome&&v&&v!==l&&(m=e.slice||e.webkitSlice,e=m.call(e,0,e.size,l),b=!0),a&&"download"!==c&&(c+=".download"),(v===l||a)&&(p=t),s?(u+=e.size,void s(t.TEMPORARY,u,w(function(t){t.root.getDirectory("saved",C,w(function(t){var n=function(){t.getFile(c,C,w(function(t){t.createWriter(w(function(n){n.onwriteend=function(e){p.location.href=t.toURL(),g.readyState=g.DONE,f(g,"writeend",e),d(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=g["on"+t]}),n.write(e),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),x)}),x)};t.getFile(c,{create:!1},w(function(t){t.remove(),n()}),w(function(t){t.code===t.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},m=p.prototype,g=function(t,e){return new p(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(t){var e={init:function(n){var i=t.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",cssStyle:"light-theme",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,onPageClick:function(){},onInit:function(){}},n||{}),r=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage?i.currentPage-1:i.invertPageOrder?i.pages-1:0,i.halfDisplayed=i.displayedPages/2,this.each(function(){r.addClass(i.cssStyle+" simple-pagination").data("pagination",i),e._draw.call(r)}),i.onInit(),this},selectPage:function(t){return e._selectPage.call(this,t-1),this},prevPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1):t.currentPage>0&&e._selectPage.call(this,t.currentPage-1),this},nextPage:function(){var t=this.data("pagination");return t.invertPageOrder?t.currentPage>0&&e._selectPage.call(this,t.currentPage-1):t.currentPage<t.pages-1&&e._selectPage.call(this,t.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(t){var n=this.data("pagination");return n.currentPage=t-1,this.data("pagination",n),e._draw.call(this),this},redraw:function(){return e._draw.call(this),this},disable:function(){var t=this.data("pagination");return t.disabled=!0,this.data("pagination",t),e._draw.call(this),this},enable:function(){var t=this.data("pagination");return t.disabled=!1,this.data("pagination",t),e._draw.call(this),this},updateItems:function(t){var n=this.data("pagination");n.items=t,n.pages=e._getPages(n),this.data("pagination",n),e._draw.call(this)},updateItemsOnPage:function(t){var n=this.data("pagination");return n.itemsOnPage=t,n.pages=e._getPages(n),this.data("pagination",n),e._selectPage.call(this,0),this},_draw:function(){var n,i,r=this.data("pagination"),o=e._getInterval(r);e.destroy.call(this),i="function"==typeof this.prop?this.prop("tagName"):this.attr("tagName");var a="UL"===i?this:t("<ul></ul>").appendTo(this);if(r.prevText&&e._appendItem.call(this,r.invertPageOrder?r.currentPage+1:r.currentPage-1,{text:r.prevText,classes:"prev"}),r.nextText&&r.nextAtFront&&e._appendItem.call(this,r.invertPageOrder?r.currentPage-1:r.currentPage+1,{text:r.nextText,classes:"next"}),r.invertPageOrder){if(o.end<r.pages&&r.edges>0){var s=Math.max(r.pages-r.edges,o.end);for(n=r.pages-1;n>=s;n--)e._appendItem.call(this,n);r.pages-r.edges>o.end&&r.pages-r.edges-o.end!=1?a.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):r.pages-r.edges-o.end==1&&e._appendItem.call(this,o.end)}}else if(o.start>0&&r.edges>0){var c=Math.min(r.edges,o.start);for(n=0;c>n;n++)e._appendItem.call(this,n);r.edges<o.start&&o.start-r.edges!=1?a.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):o.start-r.edges==1&&e._appendItem.call(this,r.edges)}if(r.invertPageOrder)for(n=o.end-1;n>=o.start;n--)e._appendItem.call(this,n);else for(n=o.start;n<o.end;n++)e._appendItem.call(this,n);if(r.invertPageOrder){if(o.start>0&&r.edges>0){r.edges<o.start&&o.start-r.edges!=1?a.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):o.start-r.edges==1&&e._appendItem.call(this,r.edges);var c=Math.min(r.edges,o.start);for(n=c-1;n>=0;n--)e._appendItem.call(this,n)}}else if(o.end<r.pages&&r.edges>0){r.pages-r.edges>o.end&&r.pages-r.edges-o.end!=1?a.append('<li class="disabled"><span class="ellipse">'+r.ellipseText+"</span></li>"):r.pages-r.edges-o.end==1&&e._appendItem.call(this,o.end);var s=Math.max(r.pages-r.edges,o.end);for(n=s;n<r.pages;n++)e._appendItem.call(this,n)}r.nextText&&!r.nextAtFront&&e._appendItem.call(this,r.invertPageOrder?r.currentPage-1:r.currentPage+1,{text:r.nextText,classes:"next"})},_getPages:function(t){var e=Math.ceil(t.items/t.itemsOnPage);return e||1},_getInterval:function(t){return{start:Math.ceil(t.currentPage>t.halfDisplayed?Math.max(Math.min(t.currentPage-t.halfDisplayed,t.pages-t.displayedPages),0):0),end:Math.ceil(t.currentPage>t.halfDisplayed?Math.min(t.currentPage+t.halfDisplayed,t.pages):Math.min(t.displayedPages,t.pages))}},_appendItem:function(n,i){var r,o,a=this,s=a.data("pagination"),c=t("<li></li>"),l=a.find("ul");n=0>n?0:n<s.pages?n:s.pages-1,r={text:n+1,classes:""},s.labelMap.length&&s.labelMap[n]&&(r.text=s.labelMap[n]),r=t.extend(r,i||{}),n==s.currentPage||s.disabled?(c.addClass(s.disabled?"disabled":"active"),o=t('<span class="current">'+r.text+"</span>")):(o=t('<a href="'+s.hrefTextPrefix+(n+1)+s.hrefTextSuffix+'" class="page-link">'+r.text+"</a>"),o.click(function(t){return e._selectPage.call(a,n,t)})),r.classes&&o.addClass(r.classes),c.append(o),l.length?l.append(c):a.append(c)},_selectPage:function(t,n){var i=this.data("pagination");return i.currentPage=t,i.selectOnClick&&e._draw.call(this),i.onPageClick(t+1,n)}};t.fn.pagination=function(n){return e[n]&&"_"!=n.charAt(0)?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.pagination"):e.init.apply(this,arguments)}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t:t(jQuery)}(function(t,e){"use strict";function n(e,n,i,r){for(var o=[],a=0;a<e.length;a++){var s=e[a];if(s){var c=tinycolor(s),l=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(n,s)?" sp-thumb-active":"";var u=c.toString(r.preferredFormat||"rgb"),h=m?"background-color:"+c.toRgbString():"filter:"+c.toFilter();o.push('<span title="'+u+'" data-color="'+c.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var d="sp-clear-display";o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+o.join("")+"</div>"}function i(){for(var t=0;t<f.length;t++)f[t]&&f[t].hide()}function r(e,n){var i=t.extend({},d,e);return i.callbacks={move:l(i.move,n),change:l(i.change,n),show:l(i.show,n),hide:l(i.hide,n),beforeShow:l(i.beforeShow,n)},i}function o(o,s){function l(){if(V.showPaletteOnly&&(V.showPalette=!0),je.text(V.showPaletteOnly?V.togglePaletteMoreText:V.togglePaletteLessText),V.palette){he=V.palette.slice(0),de=t.isArray(he[0])?he:[he],fe={};for(var e=0;e<de.length;e++)for(var n=0;n<de[e].length;n++){var i=tinycolor(de[e][n]).toRgbString();fe[i]=!0}}we.toggleClass("sp-flat",U),we.toggleClass("sp-input-disabled",!V.showInput),we.toggleClass("sp-alpha-enabled",V.showAlpha),we.toggleClass("sp-clear-enabled",Ge),we.toggleClass("sp-buttons-disabled",!V.showButtons),we.toggleClass("sp-palette-buttons-disabled",!V.togglePaletteOnly),we.toggleClass("sp-palette-disabled",!V.showPalette),we.toggleClass("sp-palette-only",V.showPaletteOnly),we.toggleClass("sp-initial-disabled",!V.showInitial),we.addClass(V.className).addClass(V.containerClassName),R()}function d(){function e(e){return e.data&&e.data.ignore?(P(t(e.target).closest(".sp-thumb-el").data("color")),N()):(P(t(e.target).closest(".sp-thumb-el").data("color")),N(),L(!0),V.hideAfterPaletteSelect&&M()),!1}if(p&&we.find("*:not(input)").attr("unselectable","on"),l(),Re&&ye.after(Fe).hide(),Ge||De.hide(),U)ye.after(we).hide();else{var n="parent"===V.appendTo?ye.parent():t(V.appendTo);1!==n.length&&(n=t("body")),n.append(we)}y(),Be.bind("click.spectrum touchstart.spectrum",function(e){xe||T(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(ye.is(":disabled")||V.disabled===!0)&&z(),we.click(c),Me.change(S),Me.bind("paste",function(){setTimeout(S,1)}),Me.keydown(function(t){13==t.keyCode&&S()}),Ie.text(V.cancelText),Ie.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),O(),M()}),De.attr("title",V.clearText),De.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Xe=!0,N(),U&&L(!0)}),Ne.text(V.chooseText),Ne.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),D()&&(L(!0),M())}),je.text(V.showPaletteOnly?V.togglePaletteMoreText:V.togglePaletteLessText),je.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),V.showPaletteOnly=!V.showPaletteOnly,V.showPaletteOnly||U||we.css("left","-="+(Ce.outerWidth(!0)+5)),l()}),u(Ae,function(t,e,n){ue=t/re,Xe=!1,n.shiftKey&&(ue=Math.round(10*ue)/10),N()},_,E),u(Ee,function(t,e){se=parseFloat(e/ne),Xe=!1,V.showAlpha||(ue=1),N()},_,E),u($e,function(t,e,n){if(n.shiftKey){if(!ve){var i=ce*Q,r=te-le*te,o=Math.abs(t-i)>Math.abs(e-r);ve=o?"x":"y"}}else ve=null;var a=!ve||"x"===ve,s=!ve||"y"===ve;a&&(ce=parseFloat(t/Q)),s&&(le=parseFloat((te-e)/te)),Xe=!1,V.showAlpha||(ue=1),N()},_,E),ze?(P(ze),j(),Ue=Ve||tinycolor(ze).format,x(ze)):j(),U&&A();var i=p?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Oe.delegate(".sp-thumb-el",i,e),Pe.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}function y(){if(X&&window.localStorage){try{var e=window.localStorage[X].split(",#");e.length>1&&(delete window.localStorage[X],t.each(e,function(t,e){x(e)}))}catch(n){}try{pe=window.localStorage[X].split(";")}catch(n){}}}function x(e){if(Y){var n=tinycolor(e).toRgbString();if(!fe[n]&&-1===t.inArray(n,pe))for(pe.push(n);pe.length>me;)pe.shift();if(X&&window.localStorage)try{window.localStorage[X]=pe.join(";")}catch(i){}}}function w(){var t=[];if(V.showPalette)for(var e=0;e<pe.length;e++){var n=tinycolor(pe[e]).toRgbString();fe[n]||t.push(pe[e])}return t.reverse().slice(0,V.maxSelectionSize)}function C(){var e=I(),i=t.map(de,function(t,i){return n(t,e,"sp-palette-row sp-palette-row-"+i,V)});y(),pe&&i.push(n(w(),e,"sp-palette-row sp-palette-row-selection",V)),Oe.html(i.join(""))}function $(){if(V.showInitial){var t=qe,e=I();Pe.html(n([t,e],e,"sp-palette-row-initial",V))}}function _(){(0>=te||0>=Q||0>=ne)&&R(),we.addClass(ge),ve=null,ye.trigger("dragstart.spectrum",[I()])}function E(){we.removeClass(ge),ye.trigger("dragstop.spectrum",[I()])}function S(){var t=Me.val();if(null!==t&&""!==t||!Ge){var e=tinycolor(t);e.isValid()?(P(e),L(!0)):Me.addClass("sp-validation-error")}else P(null),L(!0)}function T(){Z?M():A()}function A(){var e=t.Event("beforeShow.spectrum");return Z?void R():(ye.trigger(e,[I()]),void(K.beforeShow(I())===!1||e.isDefaultPrevented()||(i(),Z=!0,t(be).bind("click.spectrum",k),t(window).bind("resize.spectrum",J),Fe.addClass("sp-active"),we.removeClass("sp-hidden"),R(),j(),qe=I(),$(),K.show(qe),ye.trigger("show.spectrum",[qe]))))}function k(t){2!=t.button&&(Ye?L(!0):O(),M())}function M(){Z&&!U&&(Z=!1,t(be).unbind("click.spectrum",k),t(window).unbind("resize.spectrum",J),Fe.removeClass("sp-active"),we.addClass("sp-hidden"),K.hide(I()),ye.trigger("hide.spectrum",[I()]))}function O(){P(qe,!0)}function P(t,e){if(tinycolor.equals(t,I()))return void j();var n,i;!t&&Ge?Xe=!0:(Xe=!1,n=tinycolor(t),i=n.toHsv(),se=i.h%360/360,ce=i.s,le=i.v,ue=i.a),j(),n&&n.isValid()&&!e&&(Ue=Ve||n.getFormat())}function I(t){return t=t||{},Ge&&Xe?null:tinycolor.fromRatio({h:se,s:ce,v:le,a:Math.round(100*ue)/100},{format:t.format||Ue})}function D(){return!Me.hasClass("sp-validation-error")}function N(){j(),K.move(I()),ye.trigger("move.spectrum",[I()])}function j(){Me.removeClass("sp-validation-error"),H();var t=tinycolor.fromRatio({h:se,s:1,v:1});$e.css("background-color",t.toHexString());var e=Ue;1>ue&&(0!==ue||"name"!==e)&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var n=I({format:e}),i="";if(We.removeClass("sp-clear-display"),We.css("background-color","transparent"),!n&&Ge)We.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(m||1===n.alpha?We.css("background-color",o):(We.css("background-color","transparent"),We.css("filter",n.toFilter())),V.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),c="linear-gradient(left, "+s+", "+r+")";p?Te.css("filter",tinycolor(s).toFilter({gradientType:1},r)):(Te.css("background","-webkit-"+c),Te.css("background","-moz-"+c),Te.css("background","-ms-"+c),Te.css("background","linear-gradient(to right, "+s+", "+r+")"))}i=n.toString(e)}V.showInput&&Me.val(i),V.showPalette&&C(),$()}function H(){var t=ce,e=le;if(Ge&&Xe)ke.hide(),Se.hide(),_e.hide();else{ke.show(),Se.show(),_e.show();var n=t*Q,i=te-e*te;n=Math.max(-ee,Math.min(Q-ee,n-ee)),i=Math.max(-ee,Math.min(te-ee,i-ee)),_e.css({top:i+"px",left:n+"px"});var r=ue*re;ke.css({left:r-oe/2+"px"});var o=se*ne;Se.css({top:o-ae+"px"})}}function L(t){var e=I(),n="",i=!tinycolor.equals(e,qe);e&&(n=e.toString(Ue),x(e)),He&&ye.val(n),t&&i&&(K.change(e),ye.trigger("change",[e]))}function R(){Q=$e.width(),te=$e.height(),ee=_e.height(),ie=Ee.width(),ne=Ee.height(),ae=Se.height(),re=Ae.width(),oe=ke.width(),U||(we.css("position","absolute"),we.offset(V.offset?V.offset:a(we,Be))),H(),V.showPalette&&C(),ye.trigger("reflow.spectrum")
}function F(){ye.show(),Be.unbind("click.spectrum touchstart.spectrum"),we.remove(),Fe.remove(),f[Ke.id]=null}function B(n,i){return n===e?t.extend({},V):i===e?V[n]:(V[n]=i,void l())}function W(){xe=!1,ye.attr("disabled",!1),Be.removeClass("sp-disabled")}function z(){M(),xe=!0,ye.attr("disabled",!0),Be.addClass("sp-disabled")}function q(t){V.offset=t,R()}var V=r(s,o),U=V.flat,Y=V.showSelectionPalette,X=V.localStorageKey,G=V.theme,K=V.callbacks,J=h(R,10),Z=!1,Q=0,te=0,ee=0,ne=0,ie=0,re=0,oe=0,ae=0,se=0,ce=0,le=0,ue=1,he=[],de=[],fe={},pe=V.selectionPalette.slice(0),me=V.maxSelectionSize,ge="sp-dragging",ve=null,be=o.ownerDocument,ye=(be.body,t(o)),xe=!1,we=t(b,be).addClass(G),Ce=we.find(".sp-picker-container"),$e=we.find(".sp-color"),_e=we.find(".sp-dragger"),Ee=we.find(".sp-hue"),Se=we.find(".sp-slider"),Te=we.find(".sp-alpha-inner"),Ae=we.find(".sp-alpha"),ke=we.find(".sp-alpha-handle"),Me=we.find(".sp-input"),Oe=we.find(".sp-palette"),Pe=we.find(".sp-initial"),Ie=we.find(".sp-cancel"),De=we.find(".sp-clear"),Ne=we.find(".sp-choose"),je=we.find(".sp-palette-toggle"),He=ye.is("input"),Le=He&&g&&"color"===ye.attr("type"),Re=He&&!U,Fe=Re?t(v).addClass(G).addClass(V.className).addClass(V.replacerClassName):t([]),Be=Re?Fe:ye,We=Fe.find(".sp-preview-inner"),ze=V.color||He&&ye.val(),qe=!1,Ve=V.preferredFormat,Ue=Ve,Ye=!V.showButtons||V.clickoutFiresChange,Xe=!ze,Ge=V.allowEmpty&&!Le;d();var Ke={show:A,hide:M,toggle:T,reflow:R,option:B,enable:W,disable:z,offset:q,set:function(t){P(t),L()},get:I,destroy:F,container:we};return Ke.id=f.push(Ke)-1,Ke}function a(e,n){var i=0,r=e.outerWidth(),o=e.outerHeight(),a=n.outerHeight(),s=e[0].ownerDocument,c=s.documentElement,l=c.clientWidth+t(s).scrollLeft(),u=c.clientHeight+t(s).scrollTop(),h=n.offset();return h.top+=a,h.left-=Math.min(h.left,h.left+r>l&&l>r?Math.abs(h.left+r-l):0),h.top-=Math.min(h.top,h.top+o>u&&u>o?Math.abs(o+a-i):i),h}function s(){}function c(t){t.stopPropagation()}function l(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function u(e,n,i,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function a(t){if(u){if(p&&l.documentMode<9&&!t.button)return c();var i=t.originalEvent&&t.originalEvent.touches,r=i?i[0].pageX:t.pageX,a=i?i[0].pageY:t.pageY,s=Math.max(0,Math.min(r-h.left,f)),g=Math.max(0,Math.min(a-h.top,d));m&&o(t),n.apply(e,[s,g,t])}}function s(n){var r=n.which?3==n.which:2==n.button;r||u||i.apply(e,arguments)!==!1&&(u=!0,d=t(e).height(),f=t(e).width(),h=t(e).offset(),t(l).bind(g),t(l.body).addClass("sp-dragging"),m||a(n),o(n))}function c(){u&&(t(l).unbind(g),t(l.body).removeClass("sp-dragging"),r.apply(e,arguments)),u=!1}n=n||function(){},i=i||function(){},r=r||function(){};var l=document,u=!1,h={},d=0,f=0,m="ontouchstart"in window,g={};g.selectstart=o,g.dragstart=o,g["touchmove mousemove"]=a,g["touchend mouseup"]=c,t(e).bind("touchstart mousedown",s)}function h(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,t.apply(r,o)};n&&clearTimeout(i),(n||!i)&&(i=setTimeout(a,e))}}var d={beforeShow:s,move:s,change:s,show:s,hide:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},f=[],p=!!/msie/i.exec(window.navigator.userAgent),m=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),g=function(){var e=t("<input type='color' value='!' />")[0];return"color"===e.type&&"!"!==e.value}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var t="";if(p)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var n=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=f[t(this).data(y)];if(r){var o=r[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=r.get():"container"==e?n=r.container:"option"==e?n=r.option.apply(r,i):"destroy"==e?(r.destroy(),t(this).removeData(y)):o.apply(r,i)}}),n}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),i=o(this,n);t(this).data(y,i.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=u,t.fn.spectrum.defaults=d,t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){g||t("input[type=color]").spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},r=1,a=!1,s=!1;return"string"==typeof t&&(t=P(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=k(t.s),t.v=k(t.v),n=o(t.h,t.s,t.v),a=!0,s="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=k(t.s),t.l=k(t.l),n=i(t.h,t.s,t.l),a=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=C(r),{ok:a,format:t.format||s,r:L(255,R(n.r,0)),g:L(255,R(n.g,0)),b:L(255,R(n.b,0)),a:r}}function e(t,e,n){return{r:255*$(t,255),g:255*$(e,255),b:255*$(n,255)}}function n(t,e,n){t=$(t,255),e=$(e,255),n=$(n,255);var i,r,o=R(t,e,n),a=L(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var c=o-a;switch(r=s>.5?c/(2-o-a):c/(o+a),o){case t:i=(e-n)/c+(n>e?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:s}}function i(t,e,n){function i(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var r,o,a;if(t=$(t,360),e=$(e,100),n=$(n,100),0===e)r=o=a=n;else{var s=.5>n?n*(1+e):n+e-n*e,c=2*n-s;r=i(c,s,t+1/3),o=i(c,s,t),a=i(c,s,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function r(t,e,n){t=$(t,255),e=$(e,255),n=$(n,255);var i,r,o=R(t,e,n),a=L(t,e,n),s=o,c=o-a;if(r=0===o?0:c/o,o==a)i=0;else{switch(o){case t:i=(e-n)/c+(n>e?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:s}}function o(t,e,n){t=6*$(t,360),e=$(e,100),n=$(n,100);var i=j.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),c=i%6,l=[n,a,o,o,s,n][c],u=[s,n,n,a,o,o][c],h=[o,o,s,n,n,a][c];return{r:255*l,g:255*u,b:255*h}}function a(t,e,n,i){var r=[A(H(t).toString(16)),A(H(e).toString(16)),A(H(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(t,e,n,i){var r=[A(M(i)),A(H(t).toString(16)),A(H(e).toString(16)),A(H(n).toString(16))];return r.join("")}function c(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s-=e/100,n.s=_(n.s),B(n)}function l(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s+=e/100,n.s=_(n.s),B(n)}function u(t){return B(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l+=e/100,n.l=_(n.l),B(n)}function d(t,e){e=0===e?0:e||10;var n=B(t).toRgb();return n.r=R(0,L(255,n.r-H(255*-(e/100)))),n.g=R(0,L(255,n.g-H(255*-(e/100)))),n.b=R(0,L(255,n.b-H(255*-(e/100)))),B(n)}function f(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l-=e/100,n.l=_(n.l),B(n)}function p(t,e){var n=B(t).toHsl(),i=(H(n.h)+e)%360;return n.h=0>i?360+i:i,B(n)}function m(t){var e=B(t).toHsl();return e.h=(e.h+180)%360,B(e)}function g(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+120)%360,s:e.s,l:e.l}),B({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+90)%360,s:e.s,l:e.l}),B({h:(n+180)%360,s:e.s,l:e.l}),B({h:(n+270)%360,s:e.s,l:e.l})]}function b(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+72)%360,s:e.s,l:e.l}),B({h:(n+216)%360,s:e.s,l:e.l})]}function y(t,e,n){e=e||6,n=n||30;var i=B(t).toHsl(),r=360/n,o=[B(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(B(i));return o}function x(t,e){e=e||6;for(var n=B(t).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(B({h:i,s:r,v:o})),o=(o+s)%1;return a}function w(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function $(t,e){S(t)&&(t="100%");var n=T(t);return t=L(e,R(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),j.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function _(t){return L(1,R(0,t))}function E(t){return parseInt(t,16)}function S(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function T(t){return"string"==typeof t&&-1!=t.indexOf("%")}function A(t){return 1==t.length?"0"+t:""+t}function k(t){return 1>=t&&(t=100*t+"%"),t}function M(t){return Math.round(255*parseFloat(t)).toString(16)}function O(t){return E(t)/255}function P(t){t=t.replace(I,"").replace(D,"").toLowerCase();var e=!1;if(W[t])t=W[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=q.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=q.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=q.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=q.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=q.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=q.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=q.hex8.exec(t))?{a:O(n[1]),r:E(n[2]),g:E(n[3]),b:E(n[4]),format:e?"name":"hex8"}:(n=q.hex6.exec(t))?{r:E(n[1]),g:E(n[2]),b:E(n[3]),format:e?"name":"hex"}:(n=q.hex3.exec(t))?{r:E(n[1]+""+n[1]),g:E(n[2]+""+n[2]),b:E(n[3]+""+n[3]),format:e?"name":"hex"}:!1}var I=/^[\s,#]+/,D=/\s+$/,N=0,j=Math,H=j.round,L=j.min,R=j.max,F=j.random,B=function V(e,n){if(e=e?e:"",n=n||{},e instanceof V)return e;if(!(this instanceof V))return new V(e,n);var i=t(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=H(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=i.ok,this._tc_id=N++};B.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=C(t),this._roundA=H(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=H(360*t.h),n=H(100*t.s),i=H(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=H(360*t.h),i=H(100*t.s),r=H(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return a(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return s(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*$(this._r,255))+"%",g:H(100*$(this._g,255))+"%",b:H(100*$(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*$(this._r,255))+"%, "+H(100*$(this._g,255))+"%, "+H(100*$(this._b,255))+"%)":"rgba("+H(100*$(this._r,255))+"%, "+H(100*$(this._g,255))+"%, "+H(100*$(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:z[a(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+s(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=B(t);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},B.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:k(t[i]));t=n}return B(t,e)},B.equals=function(t,e){return t&&e?B(t).toRgbString()==B(e).toRgbString():!1},B.random=function(){return B.fromRatio({r:F(),g:F(),b:F()})},B.mix=function(t,e,n){n=0===n?0:n||50;var i,r=B(t).toRgb(),o=B(e).toRgb(),a=n/100,s=2*a-1,c=o.a-r.a;i=s*c==-1?s:(s+c)/(1+s*c),i=(i+1)/2;var l=1-i,u={r:o.r*i+r.r*l,g:o.g*i+r.g*l,b:o.b*i+r.b*l,a:o.a*a+r.a*(1-a)};return B(u)},B.readability=function(t,e){var n=B(t),i=B(e),r=n.toRgb(),o=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),c=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:c}},B.isReadable=function(t,e){var n=B.readability(t,e);return n.brightness>125&&n.color>500},B.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var a=B.readability(t,e[o]),s=a.brightness>125&&a.color>500,c=3*(a.brightness/125)+a.color/500;(s&&!r||s&&r&&c>i||!s&&!r&&c>i)&&(r=s,i=c,n=B(e[o]))}return n};var W=B.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=B.hexNames=w(W),q=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=B}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),!function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(u(t,n),e)}function o(t,e,n){return Array.isArray(t)?(a(t,n[e],n),!0):!1}function a(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function s(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function c(t,e){return s(t,e,!0)}function l(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&s(i,n)}function u(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ue?t.apply(e?e[0]||i:i,e):t}function d(t,e){return t===i?e:t}function f(t,e,n){a(v(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){a(v(e),function(e){t.removeEventListener(e,n,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];b(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function w(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),a=0;a<ce.length;){if(n=ce[a],r=n?n+o:e,r in t)return r;a++}return i}function C(){return pe++}function $(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function E(t){var e,n=t.options.inputClass;return new(e=n?n:ve?R:be?W:ge?q:L)(t,S)}function S(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&_e&&i-r===0,a=e&(Se|Te)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,T(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=M(e)),r>1&&!n.firstMultiple?n.firstMultiple=M(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=O(i);e.timeStamp=fe(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(s,c),e.distance=D(s,c),A(n,e),e.offsetDirection=I(e.deltaX,e.deltaY),e.scale=a?H(a.pointers,i):1,e.rotation=a?j(a.pointers,i):0,k(n,e);var l=t.element;m(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function A(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};(e.eventType===_e||o.eventType===Se)&&(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function k(t,e){var n,r,o,a,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=Te&&(c>$e||s.velocity===i)){var l=s.deltaX-e.deltaX,u=s.deltaY-e.deltaY,h=P(c,l,u);r=h.x,o=h.y,n=de(h.x)>de(h.y)?h.x:h.y,a=I(l,u),t.lastInterval=e}else n=s.velocity,r=s.velocityX,o=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=a}function M(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:he(t.pointers[n].clientX),clientY:he(t.pointers[n].clientY)},n++;return{timeStamp:fe(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:he(n/e),y:he(i/e)}}function P(t,e,n){return{x:e/t||0,y:n/t||0}}function I(t,e){return t===e?Ae:de(t)>=de(e)?t>0?ke:Me:e>0?Oe:Pe}function D(t,e,n){n||(n=je);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function N(t,e,n){n||(n=je);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function j(t,e){return N(e[1],e[0],He)-N(t[1],t[0],He)}function H(t,e){return D(e[0],e[1],He)/D(t[0],t[1],He)}function L(){this.evEl=Re,this.evWin=Fe,this.allow=!0,this.pressed=!1,_.apply(this,arguments)}function R(){this.evEl=ze,this.evWin=qe,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Ue,this.evWin=Ye,this.started=!1,_.apply(this,arguments)}function B(t,e){var n=y(t.touches),i=y(t.changedTouches);return e&(Se|Te)&&(n=x(n.concat(i),"identifier",!0)),[n,i]}function W(){this.evTarget=Ge,this.targetIds={},_.apply(this,arguments)}function z(t,e){var n=y(t.touches),i=this.targetIds;if(e&(_e|Ee)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=y(t.changedTouches),s=[],c=this.target;if(o=n.filter(function(t){return m(t.target,c)}),e===_e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(Se|Te)&&delete i[a[r].identifier],r++;return s.length?[x(o.concat(s),"identifier",!0),s]:void 0}function q(){_.apply(this,arguments);var t=u(this.handler,this);this.touch=new W(this.manager,t),this.mouse=new L(this.manager,t)}function V(t,e){this.manager=t,this.set(e)}function U(t){if(g(t,en))return en;var e=g(t,nn),n=g(t,rn);return e&&n?nn+" "+rn:e||n?e?nn:rn:g(t,tn)?tn:Qe}function Y(t){this.id=C(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=on,this.simultaneous={},this.requireFail=[]}function X(t){return t&un?"cancel":t&cn?"end":t&sn?"move":t&an?"start":""}function G(t){return t==Pe?"down":t==Oe?"up":t==ke?"left":t==Me?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function J(){Y.apply(this,arguments)}function Z(){J.apply(this,arguments),this.pX=null,this.pY=null}function Q(){J.apply(this,arguments)}function te(){Y.apply(this,arguments),this._timer=null,this._input=null}function ee(){J.apply(this,arguments)}function ne(){J.apply(this,arguments)}function ie(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(t,e){return e=e||{},e.recognizers=d(e.recognizers,re.defaults.preset),new oe(t,e)}function oe(t,e){e=e||{},this.options=c(e,re.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=E(this),this.touchAction=new V(this,this.options.touchAction),ae(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ae(t,e){var n=t.element;a(t.options.cssProps,function(t,i){n.style[w(n.style,i)]=e?t:""})}function se(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ce=["","webkit","moz","MS","ms","o"],le=e.createElement("div"),ue="function",he=Math.round,de=Math.abs,fe=Date.now,pe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in t,ve=w(t,"PointerEvent")!==i,be=ge&&me.test(navigator.userAgent),ye="touch",xe="pen",we="mouse",Ce="kinect",$e=25,_e=1,Ee=2,Se=4,Te=8,Ae=1,ke=2,Me=4,Oe=8,Pe=16,Ie=ke|Me,De=Oe|Pe,Ne=Ie|De,je=["x","y"],He=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f($(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p($(this.element),this.evWin,this.domHandler)}};var Le={mousedown:_e,mousemove:Ee,mouseup:Se},Re="mousedown",Fe="mousemove mouseup";l(L,_,{handler:function(t){var e=Le[t.type];e&_e&&0===t.button&&(this.pressed=!0),e&Ee&&1!==t.which&&(e=Se),this.pressed&&this.allow&&(e&Se&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:we,srcEvent:t}))}});var Be={pointerdown:_e,pointermove:Ee,pointerup:Se,pointercancel:Te,pointerout:Te},We={2:ye,3:xe,4:we,5:Ce},ze="pointerdown",qe="pointermove pointerup pointercancel";t.MSPointerEvent&&(ze="MSPointerDown",qe="MSPointerMove MSPointerUp MSPointerCancel"),l(R,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Be[i],o=We[t.pointerType]||t.pointerType,a=o==ye,s=b(e,t.pointerId,"pointerId");r&_e&&(0===t.button||a)?0>s&&(e.push(t),s=e.length-1):r&(Se|Te)&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Ve={touchstart:_e,touchmove:Ee,touchend:Se,touchcancel:Te},Ue="touchstart",Ye="touchstart touchmove touchend touchcancel";l(F,_,{handler:function(t){var e=Ve[t.type];if(e===_e&&(this.started=!0),this.started){var n=B.call(this,t,e);e&(Se|Te)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ye,srcEvent:t})}}});var Xe={touchstart:_e,touchmove:Ee,touchend:Se,touchcancel:Te},Ge="touchstart touchmove touchend touchcancel";l(W,_,{handler:function(t){var e=Xe[t.type],n=z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ye,srcEvent:t})}}),l(q,_,{handler:function(t,e,n){var i=n.pointerType==ye,r=n.pointerType==we;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Se|Te)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=w(le.style,"touchAction"),Je=Ke!==i,Ze="compute",Qe="auto",tn="manipulation",en="none",nn="pan-x",rn="pan-y";V.prototype={set:function(t){t==Ze&&(t=this.compute()),Je&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),U(t.join(" "))},preventDefaults:function(t){if(!Je){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=g(i,en),o=g(i,rn),a=g(i,nn);return r||o&&n&Ie||a&&n&De?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var on=1,an=2,sn=4,cn=8,ln=cn,un=16,hn=32;Y.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=K(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?X(i):""),t)}var n=this,i=this.state;cn>i&&e(!0),e(),i>=cn&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=hn)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(hn|on)))return!1;t++}return!0},recognize:function(t){var e=s({},t);return h(this.options.enable,[this,e])?(this.state&(ln|un|hn)&&(this.state=on),this.state=this.process(e),void(this.state&(an|sn|cn|un)&&this.tryEmit(e))):(this.reset(),void(this.state=hn))},process:function(){},getTouchAction:function(){},reset:function(){}},l(J,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(an|sn),r=this.attrTest(t);return i&&(n&Te||!r)?e|un:i||r?n&Se?e|cn:e&an?e|sn:an:hn}}),l(Z,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ne},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ie&&e.push(rn),t&De&&e.push(nn),e
},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&Ie?(r=0===o?Ae:0>o?ke:Me,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?Ae:0>a?Oe:Pe,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&an||!(this.state&an)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(Q,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&an)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(te,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Qe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Se|Te)&&!o)this.reset();else if(t.eventType&_e)this.reset(),this._timer=r(function(){this.state=ln,this.tryEmit()},e.time,this);else if(t.eventType&Se)return ln;return hn},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ln&&(t&&t.eventType&Se?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=fe(),this.manager.emit(this.options.event,this._input)))}}),l(ee,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&an)}}),l(ne,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ie|De,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Ie|De)?e=t.velocity:n&Ie?e=t.velocityX:n&De&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&de(e)>this.options.velocity&&t.eventType&Se},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(ie,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[tn]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&_e&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=Se)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,s=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;var c=this.count%e.taps;if(0===c)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ln,this.tryEmit()},e.interval,this),an):ln}return hn},failTimeout:function(){return this._timer=r(function(){this.state=hn},this.options.interval,this),hn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ln&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.4",re.defaults={domEvents:!1,touchAction:Ze,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[Q,{enable:!1},["rotate"]],[ne,{direction:Ie}],[Z,{direction:Ie},["swipe"]],[ie],[ie,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var dn=1,fn=2;oe.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?fn:dn},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ln)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===fn||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(an|sn|cn)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Y)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(b(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return a(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return a(v(t),function(t){e?n[t].splice(b(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&se(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(re,{INPUT_START:_e,INPUT_MOVE:Ee,INPUT_END:Se,INPUT_CANCEL:Te,STATE_POSSIBLE:on,STATE_BEGAN:an,STATE_CHANGED:sn,STATE_ENDED:cn,STATE_RECOGNIZED:ln,STATE_CANCELLED:un,STATE_FAILED:hn,DIRECTION_NONE:Ae,DIRECTION_LEFT:ke,DIRECTION_RIGHT:Me,DIRECTION_UP:Oe,DIRECTION_DOWN:Pe,DIRECTION_HORIZONTAL:Ie,DIRECTION_VERTICAL:De,DIRECTION_ALL:Ne,Manager:oe,Input:_,TouchAction:V,TouchInput:W,MouseInput:L,PointerEventInput:R,TouchMouseInput:q,SingleTouchInput:F,Recognizer:Y,AttrRecognizer:J,Tap:ie,Pan:Z,Swipe:ne,Pinch:Q,Rotate:ee,Press:te,on:f,off:p,each:a,merge:c,extend:s,inherit:l,bindFn:u,prefixed:w}),typeof define==ue&&define.amd?define(function(){return re}):"undefined"!=typeof module&&module.exports?module.exports=re:t[n]=re}(window,document,"Hammer"),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,s=c.call(arguments,1),l=0,h=0,d=0,f=0,p=0,m=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*d,d=0),l=0===d?h:d,"deltaY"in a&&(d=-1*a.deltaY,l=d),"deltaX"in a&&(h=a.deltaX,0===d&&(l=-1*h)),0!==d||0!==h){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");l*=g,d*=g,h*=g}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");l*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!o||o>f)&&(o=f,i(a,f)&&(o/=40)),i(a,f)&&(l/=40,h/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/o),h=Math[h>=1?"floor":"ceil"](h/o),d=Math[d>=1?"floor":"ceil"](d/o),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=o,e.offsetX=p,e.offsetY=m,e.deltaMode=0,s.unshift(e,l,h,d),r&&clearTimeout(r),r=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function n(){o=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(t.event.fixHooks)for(var l=a.length;l;)t.event.fixHooks[a[--l]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),!function(t,e,n){!function(e){var i="function"==typeof define&&define.amd,r="https:"==n.location.protocol?"https:":"http:",o="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";i||t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+r+"//"+o+"%3E%3C/script%3E")),e()}(function(){var i,r="mCustomScrollbar",o="mCS",a=".mCustomScrollbar",s={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},c=0,l={},u=e.attachEvent&&!e.addEventListener?1:0,h=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],f={init:function(e){var e=t.extend(!0,{},s,e),n=p.call(this);if(e.live){var i=e.liveSelector||this.selector||a,r=t(i);if("off"===e.live)return void g(i);l[i]=setTimeout(function(){r.mCustomScrollbar(e),"once"===e.live&&r.length&&g(i)},500)}else g(i);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":v(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=b(e.scrollButtons.scrollType),m(e),t(n).each(function(){var n=t(this);if(!n.data(o)){n.data(o,{idx:++c,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null});var i=n.data(o),r=i.opt,a=n.data("mcs-axis"),s=n.data("mcs-scrollbar-position"),l=n.data("mcs-theme");a&&(r.axis=a),s&&(r.scrollbarPosition=s),l&&(r.theme=l,m(r)),y.call(this),t("#mCSB_"+i.idx+"_container img:not(."+d[2]+")").addClass(d[2]),f.update.call(null,n)}})},update:function(e,n){var i=e||p.call(this);return t(i).each(function(){var e=t(this);if(e.data(o)){var i=e.data(o),r=i.opt,a=t("#mCSB_"+i.idx+"_container"),s=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(!a.length)return;i.tweenRunning&&X(e),e.hasClass(d[3])&&e.removeClass(d[3]),e.hasClass(d[4])&&e.removeClass(d[4]),$.call(this),w.call(this),"y"===r.axis||r.advanced.autoExpandHorizontalScroll||a.css("width",x(a.children())),i.overflowed=T.call(this),O.call(this),r.autoDraggerLength&&_.call(this),E.call(this),k.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==r.axis&&(i.overflowed[0]?s[0].height()>s[0].parent().height()?A.call(this):(G(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(A.call(this),"y"===r.axis?M.call(this):"yx"===r.axis&&i.overflowed[1]&&G(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(i.overflowed[1]?s[1].width()>s[1].parent().width()?A.call(this):(G(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(A.call(this),"x"===r.axis?M.call(this):"yx"===r.axis&&i.overflowed[0]&&G(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&i&&(2===n&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===n&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this)),U.call(this)}})},scrollTo:function(e,n){if("undefined"!=typeof e&&null!=e){var i=p.call(this);return t(i).each(function(){var i=t(this);if(i.data(o)){var r=i.data(o),a=r.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},c=t.extend(!0,{},s,n),l=q.call(this,e),u=c.scrollInertia>0&&c.scrollInertia<17?17:c.scrollInertia;l[0]=V.call(this,l[0],"y"),l[1]=V.call(this,l[1],"x"),c.moveDragger&&(l[0]*=r.scrollRatio.y,l[1]*=r.scrollRatio.x),c.dur=u,setTimeout(function(){null!==l[0]&&"undefined"!=typeof l[0]&&"x"!==a.axis&&r.overflowed[0]&&(c.dir="y",c.overwrite="all",G(i,l[0].toString(),c)),null!==l[1]&&"undefined"!=typeof l[1]&&"y"!==a.axis&&r.overflowed[1]&&(c.dir="x",c.overwrite="none",G(i,l[1].toString(),c))},c.timeout)}})}},stop:function(){var e=p.call(this);return t(e).each(function(){var e=t(this);e.data(o)&&X(e)})},disable:function(e){var n=p.call(this);return t(n).each(function(){var n=t(this);n.data(o)&&(n.data(o),U.call(this,"remove"),M.call(this),e&&A.call(this),O.call(this,!0),n.addClass(d[3]))})},destroy:function(){var e=p.call(this);return t(e).each(function(){var n=t(this);if(n.data(o)){var i=n.data(o),a=i.opt,s=t("#mCSB_"+i.idx),c=t("#mCSB_"+i.idx+"_container"),l=t(".mCSB_"+i.idx+"_scrollbar");a.live&&g(a.liveSelector||t(e).selector),U.call(this,"remove"),M.call(this),A.call(this),n.removeData(o),Q(this,"mcs"),l.remove(),c.find("img."+d[2]).removeClass(d[2]),s.replaceWith(c.contents()),n.removeClass(r+" _"+o+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},p=function(){return"object"!=typeof t(this)||t(this).length<1?a:this},m=function(e){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],i=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],r=["minimal","minimal-dark"],o=["minimal","minimal-dark"],a=["minimal","minimal-dark"];e.autoDraggerLength=t.inArray(e.theme,n)>-1?!1:e.autoDraggerLength,e.autoExpandScrollbar=t.inArray(e.theme,i)>-1?!1:e.autoExpandScrollbar,e.scrollButtons.enable=t.inArray(e.theme,r)>-1?!1:e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,o)>-1?!0:e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,a)>-1?"outside":e.scrollbarPosition},g=function(t){l[t]&&(clearTimeout(l[t]),Q(l,t))},v=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},b=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},y=function(){var e=t(this),n=e.data(o),i=n.opt,a=i.autoExpandScrollbar?" "+d[1]+"_expand":"",s=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],c="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===i.axis?s[0]+s[1]:"x"===i.axis?s[1]:s[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=i.autoHideScrollbar?" "+d[6]:"",f="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&e.css("width",i.setWidth),i.setHeight&&e.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,e.addClass(r+" _"+o+"_"+n.idx+h+f).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+c+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /></div>");var p=t("#mCSB_"+n.idx),m=t("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||m.css("width",x(m.children())),"outside"===i.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),p.addClass("mCSB_outside").after(l)):(p.addClass("mCSB_inside").append(l),m.wrap(u)),C.call(this);var g=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(e){return Math.max.apply(Math,e.map(function(){return t(this).outerWidth(!0)}).get())},w=function(){var e=t(this),n=e.data(o),i=n.opt,r=t("#mCSB_"+n.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&r.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),position:"relative"}).unwrap()},C=function(){var e=t(this),n=e.data(o),i=n.opt,r=t(".mCSB_"+n.idx+"_scrollbar:first"),a=ne(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+a+" />"],c=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&r.prepend(c[0]).append(c[1]).next(".mCSB_scrollTools").prepend(c[2]).append(c[3])},$=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=e.css("max-height")||"none",a=-1!==r.indexOf("%"),s=e.css("box-sizing");if("none"!==r){var c=a?e.parent().height()*parseInt(r)/100:parseInt(r);"border-box"===s&&(c-=e.innerHeight()-e.height()+(e.outerHeight()-e.innerHeight())),i.css("max-height",Math.round(c))}},_=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[i.height()/r.outerHeight(!1),i.width()/r.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],l=u&&c[1]<c[0]?c[0]:c[1],h=u&&c[3]<c[2]?c[2]:c[3];a[0].css({height:l,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),a[1].css({width:h,"max-width":a[1].parent().width()-10})},E=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[r.outerHeight(!1)-i.height(),r.outerWidth(!1)-i.width()],c=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];n.scrollRatio={y:c[0],x:c[1]}},S=function(t,e,n){var i=n?d[0]+"_expanded":"",r=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(d[0]+" "+i),r.toggleClass(d[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(d[0]),r.removeClass(d[1])):(t.addClass(d[0]),r.addClass(d[1])))},T=function(){var e=t(this),n=e.data(o),i=t("#mCSB_"+n.idx),r=t("#mCSB_"+n.idx+"_container"),a=null==n.overflowed?r.height():r.outerHeight(!1),s=null==n.overflowed?r.width():r.outerWidth(!1);return[a>i.height(),s>i.width()]},A=function(){var e=t(this),n=e.data(o),i=n.opt,r=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(X(e),("x"!==i.axis&&!n.overflowed[0]||"y"===i.axis&&n.overflowed[0])&&(s[0].add(a).css("top",0),G(e,"_resetY")),"y"!==i.axis&&!n.overflowed[1]||"x"===i.axis&&n.overflowed[1]){var c=dx=0;"rtl"===n.langDir&&(c=r.width()-a.outerWidth(!1),dx=Math.abs(c/n.scrollRatio.x)),a.css("left",c),s[1].css("left",dx),G(e,"_resetX")}},k=function(){function e(){a=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(a),j.call(n[0])):e()},100)}var n=t(this),i=n.data(o),r=i.opt;if(!i.bindEvents){if(I.call(this),r.contentTouchScroll&&D.call(this),N.call(this),r.mouseWheel.enable){var a;e()}L.call(this),F.call(this),r.advanced.autoScrollOnFocus&&R.call(this),r.scrollButtons.enable&&B.call(this),r.keyboard.enable&&W.call(this),i.bindEvents=!0}},M=function(){var e=t(this),i=e.data(o),r=i.opt,a=o+"_"+i.idx,s=".mCSB_"+i.idx+"_scrollbar",c=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+s+" ."+d[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+s+">a"),l=t("#mCSB_"+i.idx+"_container");r.advanced.releaseDraggableSelectors&&c.add(t(r.advanced.releaseDraggableSelectors)),i.bindEvents&&(t(n).unbind("."+a),c.each(function(){t(this).unbind("."+a)}),clearTimeout(e[0]._focusTimeout),Q(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),Q(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Q(l[0],"onCompleteTimeout"),i.bindEvents=!1)},O=function(e){var n=t(this),i=n.data(o),r=i.opt,a=t("#mCSB_"+i.idx+"_container_wrapper"),s=a.length?a:t("#mCSB_"+i.idx+"_container"),c=[t("#mCSB_"+i.idx+"_scrollbar_vertical"),t("#mCSB_"+i.idx+"_scrollbar_horizontal")],l=[c[0].find(".mCSB_dragger"),c[1].find(".mCSB_dragger")];"x"!==r.axis&&(i.overflowed[0]&&!e?(c[0].add(l[0]).add(c[0].children("a")).css("display","block"),s.removeClass(d[8]+" "+d[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&l[0].css("display","none"),s.removeClass(d[10])):(c[0].css("display","none"),s.addClass(d[10])),s.addClass(d[8]))),"y"!==r.axis&&(i.overflowed[1]&&!e?(c[1].add(l[1]).add(c[1].children("a")).css("display","block"),s.removeClass(d[9]+" "+d[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&l[1].css("display","none"),s.removeClass(d[11])):(c[1].css("display","none"),s.addClass(d[11])),s.addClass(d[9]))),i.overflowed[0]||i.overflowed[1]?n.removeClass(d[5]):n.addClass(d[5])},P=function(t){var e=t.type;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return[n.pageY,n.pageX,i>1];default:return[t.pageY,t.pageX,!1]}},I=function(){function e(t){var e=m.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}}function i(t,e,n,i){if(m[0].idleTimer=d.scrollInertia<233?250:0,r.attr("id")===p[1])var o="x",a=(r[0].offsetLeft-e+i)*l.scrollRatio.x;else var o="y",a=(r[0].offsetTop-t+n)*l.scrollRatio.y;G(c,a.toString(),{dir:o,drag:!0})}var r,a,s,c=t(this),l=c.data(o),d=l.opt,f=o+"_"+l.idx,p=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],m=t("#mCSB_"+l.idx+"_container"),g=t("#"+p[0]+",#"+p[1]),v=d.advanced.releaseDraggableSelectors?g.add(t(d.advanced.releaseDraggableSelectors)):g;g.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(i){if(i.stopImmediatePropagation(),i.preventDefault(),te(i)){h=!0,u&&(n.onselectstart=function(){return!1}),e(!1),X(c),r=t(this);var o=r.offset(),l=P(i)[0]-o.top,f=P(i)[1]-o.left,p=r.height()+o.top,m=r.width()+o.left;p>l&&l>0&&m>f&&f>0&&(a=l,s=f),S(r,"active",d.autoExpandScrollbar)}}).bind("touchmove."+f,function(t){t.stopImmediatePropagation(),t.preventDefault();var e=r.offset(),n=P(t)[0]-e.top,o=P(t)[1]-e.left;i(a,s,n,o)}),t(n).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(t){if(r){var e=r.offset(),n=P(t)[0]-e.top,o=P(t)[1]-e.left;if(a===n)return;i(a,s,n,o)}}).add(v).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){r&&(S(r,"active",d.autoExpandScrollbar),r=null),h=!1,u&&(n.onselectstart=null),e(!0)})},D=function(){function e(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function n(t,e,n,i,r,o){t&&G(y,t.toString(),{dur:e,scrollEasing:n,dir:i,overwrite:r,drag:o})}var r,a,s,c,l,u,d,f,p,m,g,v,b,y=t(this),x=y.data(o),w=x.opt,C=o+"_"+x.idx,$=t("#mCSB_"+x.idx),_=t("#mCSB_"+x.idx+"_container"),E=[t("#mCSB_"+x.idx+"_dragger_vertical"),t("#mCSB_"+x.idx+"_dragger_horizontal")],S=[],T=[],A=0,k="yx"===w.axis?"none":"all",M=[];_.bind("touchstart."+C+" pointerdown."+C+" MSPointerDown."+C,function(t){if(!ee(t)||h||P(t)[2])return void(i=0);i=1,v=0,b=0;var e=_.offset();r=P(t)[0]-e.top,a=P(t)[1]-e.left,M=[P(t)[0],P(t)[1]]}).bind("touchmove."+C+" pointermove."+C+" MSPointerMove."+C,function(t){if(ee(t)&&!h&&!P(t)[2]&&(t.stopImmediatePropagation(),!b||v)){u=J();var e=$.offset(),i=P(t)[0]-e.top,o=P(t)[1]-e.left,s="mcsLinearOut";if(S.push(i),T.push(o),M[2]=Math.abs(P(t)[0]-M[0]),M[3]=Math.abs(P(t)[1]-M[1]),x.overflowed[0])var c=E[0].parent().height()-E[0].height(),l=r-i>0&&i-r>-(c*x.scrollRatio.y)&&(2*M[3]<M[2]||"yx"===w.axis);if(x.overflowed[1])var d=E[1].parent().width()-E[1].width(),f=a-o>0&&o-a>-(d*x.scrollRatio.x)&&(2*M[2]<M[3]||"yx"===w.axis);l||f?(t.preventDefault(),v=1):b=1,m="yx"===w.axis?[r-i,a-o]:"x"===w.axis?[null,a-o]:[r-i,null],_[0].idleTimer=250,x.overflowed[0]&&n(m[0],A,s,"y","all",!0),x.overflowed[1]&&n(m[1],A,s,"x",k,!0)}}),$.bind("touchstart."+C+" pointerdown."+C+" MSPointerDown."+C,function(t){if(!ee(t)||h||P(t)[2])return void(i=0);i=1,t.stopImmediatePropagation(),X(y),l=J();var e=$.offset();s=P(t)[0]-e.top,c=P(t)[1]-e.left,S=[],T=[]}).bind("touchend."+C+" pointerup."+C+" MSPointerUp."+C,function(t){if(ee(t)&&!h&&!P(t)[2]){t.stopImmediatePropagation(),v=0,b=0,d=J();var i=$.offset(),r=P(t)[0]-i.top,o=P(t)[1]-i.left;if(!(d-u>30)){p=1e3/(d-l);var a="mcsEaseOut",y=2.5>p,C=y?[S[S.length-2],T[T.length-2]]:[0,0];f=y?[r-C[0],o-C[1]]:[r-s,o-c];var E=[Math.abs(f[0]),Math.abs(f[1])];p=y?[Math.abs(f[0]/4),Math.abs(f[1]/4)]:[p,p];var A=[Math.abs(_[0].offsetTop)-f[0]*e(E[0]/p[0],p[0]),Math.abs(_[0].offsetLeft)-f[1]*e(E[1]/p[1],p[1])];m="yx"===w.axis?[A[0],A[1]]:"x"===w.axis?[null,A[1]]:[A[0],null],g=[4*E[0]+w.scrollInertia,4*E[1]+w.scrollInertia];var M=parseInt(w.contentTouchScroll)||0;m[0]=E[0]>M?m[0]:0,m[1]=E[1]>M?m[1]:0,x.overflowed[0]&&n(m[0],g[0],a,"y",k,!1),x.overflowed[1]&&n(m[1],g[1],a,"x",k,!1)}}})},N=function(){function r(){return e.getSelection?e.getSelection().toString():n.selection&&"Control"!=n.selection.type?n.selection.createRange().text:0}function a(t,e,n){d.type=n&&s?"stepped":"stepless",d.scrollAmount=10,z(c,t,e,"mcsLinearOut",n?60:null)}var s,c=t(this),l=c.data(o),u=l.opt,d=l.sequential,f=o+"_"+l.idx,p=t("#mCSB_"+l.idx+"_container"),m=p.parent();p.bind("mousedown."+f,function(){i||s||(s=1,h=!0)}).add(n).bind("mousemove."+f,function(t){if(!i&&s&&r()){var e=p.offset(),n=P(t)[0]-e.top+p[0].offsetTop,o=P(t)[1]-e.left+p[0].offsetLeft;n>0&&n<m.height()&&o>0&&o<m.width()?d.step&&a("off",null,"stepped"):("x"!==u.axis&&l.overflowed[0]&&(0>n?a("on",38):n>m.height()&&a("on",40)),"y"!==u.axis&&l.overflowed[1]&&(0>o?a("on",37):o>m.width()&&a("on",39)))}}).bind("mouseup."+f,function(){i||(s&&(s=0,a("off",null)),h=!1)})},j=function(){function e(t){var e=null;try{var n=t.contentDocument||t.contentWindow.document;e=n.body.innerHTML}catch(i){}return null!==e}var n=t(this),i=n.data(o);if(i){var r=i.opt,a=o+"_"+i.idx,s=t("#mCSB_"+i.idx),c=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],l=t("#mCSB_"+i.idx+"_container").find("iframe"),h=s;l.length&&l.each(function(){var n=this;e(n)&&(h=h.add(t(n).contents().find("body")))}),h.bind("mousewheel."+a,function(e,o){if(X(n),!H(n,e.target)){var a="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):u&&e.deltaFactor<100?100:e.deltaFactor||100;if("x"===r.axis||"x"===r.mouseWheel.axis)var l="x",h=[Math.round(a*i.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],d="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=s.width()?.9*s.width():h[0],f=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,m=c[1].parent().width()-c[1].width(),g=e.deltaX||e.deltaY||o;else var l="y",h=[Math.round(a*i.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],d="auto"!==r.mouseWheel.scrollAmount?h[1]:h[0]>=s.height()?.9*s.height():h[0],f=Math.abs(t("#mCSB_"+i.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,m=c[0].parent().height()-c[0].height(),g=e.deltaY||o;"y"===l&&!i.overflowed[0]||"x"===l&&!i.overflowed[1]||(r.mouseWheel.invert&&(g=-g),r.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==p||0>g&&p!==m||r.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),G(n,(f-g*d).toString(),{dir:l}))}})}},H=function(e,n){var i=n.nodeName.toLowerCase(),r=e.data(o).opt.mouseWheel.disableOver,a=["select","textarea"];return t.inArray(i,r)>-1&&!(t.inArray(i,a)>-1&&!t(n).is(":focus"))},L=function(){var e=t(this),n=e.data(o),i=o+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container"),a=r.parent(),s=t(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(){h=!0}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){h=!1}).bind("click."+i,function(i){if(t(i.target).hasClass(d[12])||t(i.target).hasClass("mCSB_draggerRail")){X(e);var o=t(this),s=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",l=i.pageX>s.offset().left?-1:1,u=Math.abs(r[0].offsetLeft)-.9*l*a.width()}else{if(!n.overflowed[0])return;var c="y",l=i.pageY>s.offset().top?-1:1,u=Math.abs(r[0].offsetTop)-.9*l*a.height()}G(e,u.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},R=function(){var e=t(this),i=e.data(o),r=i.opt,a=o+"_"+i.idx,s=t("#mCSB_"+i.idx+"_container"),c=s.parent();s.bind("focusin."+a,function(){var i=t(n.activeElement),o=s.find(".mCustomScrollBox").length,a=0;i.is(r.advanced.autoScrollOnFocus)&&(X(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=o?(a+17)*o:0,e[0]._focusTimeout=setTimeout(function(){var t=[ie(i)[0],ie(i)[1]],n=[s[0].offsetTop,s[0].offsetLeft],o=[n[0]+t[0]>=0&&n[0]+t[0]<c.height()-i.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<c.width()-i.outerWidth(!1)],l="yx"!==r.axis||o[0]||o[1]?"all":"none";"x"===r.axis||o[0]||G(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:a}),"y"===r.axis||o[1]||G(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:a})},e[0]._focusTimer))})},F=function(){var e=t(this),n=e.data(o),i=o+"_"+n.idx,r=t("#mCSB_"+n.idx+"_container").parent();r.bind("scroll."+i,function(){(0!==r.scrollTop()||0!==r.scrollLeft())&&t(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},B=function(){var e=t(this),n=e.data(o),i=n.opt,r=n.sequential,a=o+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",c=t(s+">a");c.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(o){function a(t,n){r.scrollAmount=i.snapAmount||i.scrollButtons.scrollAmount,z(e,t,n)
}if(o.preventDefault(),te(o)){var s=t(this).attr("class");switch(r.type=i.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;h=!0,n.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;h=!1,r.dir&&a("off",s);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;a("on",s)}}})},W=function(){var e=t(this),i=e.data(o),r=i.opt,a=i.sequential,s=o+"_"+i.idx,c=t("#mCSB_"+i.idx),l=t("#mCSB_"+i.idx+"_container"),u=l.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']";c.attr("tabindex","0").bind("blur."+s+" keydown."+s+" keyup."+s,function(o){function s(t,n){a.type=r.keyboard.scrollType,a.scrollAmount=r.snapAmount||r.keyboard.scrollAmount,"stepped"===a.type&&i.tweenRunning||z(e,t,n)}switch(o.type){case"blur":i.tweenRunning&&a.dir&&s("off",null);break;case"keydown":case"keyup":var c=o.keyCode?o.keyCode:o.which,d="on";if("x"!==r.axis&&(38===c||40===c)||"y"!==r.axis&&(37===c||39===c)){if((38===c||40===c)&&!i.overflowed[0]||(37===c||39===c)&&!i.overflowed[1])return;"keyup"===o.type&&(d="off"),t(n.activeElement).is(h)||(o.preventDefault(),o.stopImmediatePropagation(),s(d,c))}else if(33===c||34===c){if((i.overflowed[0]||i.overflowed[1])&&(o.preventDefault(),o.stopImmediatePropagation()),"keyup"===o.type){X(e);var f=34===c?-1:1;if("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0])var p="x",m=Math.abs(l[0].offsetLeft)-.9*f*u.width();else var p="y",m=Math.abs(l[0].offsetTop)-.9*f*u.height();G(e,m.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===c||36===c)&&!t(n.activeElement).is(h)&&((i.overflowed[0]||i.overflowed[1])&&(o.preventDefault(),o.stopImmediatePropagation()),"keyup"===o.type)){if("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0])var p="x",m=35===c?Math.abs(u.width()-l.outerWidth(!1)):0;else var p="y",m=35===c?Math.abs(u.height()-l.outerHeight(!1)):0;G(e,m.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}})},z=function(e,n,i,r,a){function s(t){var n="stepped"!==h.type,i=a?a:t?n?m/1.5:g:1e3/60,o=t?n?7.5:40:2.5,c=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],u=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],d="x"===h.dir[0]?c[1]+h.dir[1]*u[1]*o:c[0]+h.dir[1]*u[0]*o,p="x"===h.dir[0]?c[1]+h.dir[1]*parseInt(h.scrollAmount):c[0]+h.dir[1]*parseInt(h.scrollAmount),v="auto"!==h.scrollAmount?p:d,b=r?r:t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",y=t?!0:!1;return t&&17>i&&(v="x"===h.dir[0]?c[1]:c[0]),G(e,v.toString(),{dir:h.dir[0],scrollEasing:b,dur:i,onComplete:y}),t?void(h.dir=!1):(clearTimeout(h.step),void(h.step=setTimeout(function(){s()},i)))}function c(){clearTimeout(h.step),Q(h,"step"),X(e)}var l=e.data(o),u=l.opt,h=l.sequential,f=t("#mCSB_"+l.idx+"_container"),p="stepped"===h.type?!0:!1,m=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(n){case"on":if(h.dir=[i===d[16]||i===d[15]||39===i||37===i?"x":"y",i===d[13]||i===d[15]||38===i||37===i?-1:1],X(e),ne(i)&&"stepped"===h.type)return;s(p);break;case"off":c(),(p||l.tweenRunning&&h.dir)&&s(!0)}},q=function(e){var n=t(this).data(o).opt,i=[];return"function"==typeof e&&(e=e()),e instanceof Array?i=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(i[0]=e.y?e.y:e.x||"x"===n.axis?null:e,i[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},V=function(e,n){if(null!=e&&"undefined"!=typeof e){var i=t(this),r=i.data(o),a=r.opt,s=t("#mCSB_"+r.idx+"_container"),c=s.parent(),l=typeof e;n||(n="x"===a.axis?"x":"y");var u="x"===n?s.outerWidth(!1):s.outerHeight(!1),h="x"===n?s[0].offsetLeft:s[0].offsetTop,d="x"===n?"left":"top";switch(l){case"function":return e();case"object":var p=e.jquery?e:t(e);if(!p.length)return;return"x"===n?ie(p)[1]:ie(p)[0];case"string":case"number":if(ne(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(u*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(h-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var m=h+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==e.indexOf("px")&&ne(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(c.height()-s.outerHeight(!1));if("right"===e)return Math.abs(c.width()-s.outerWidth(!1));if("first"===e||"last"===e){var p=s.find(":"+e);return"x"===n?ie(p)[1]:ie(p)[0]}return t(e).length?"x"===n?ie(t(e))[1]:ie(t(e))[0]:(s.css(d,e),void f.update.call(null,i[0]))}}},U=function(e){function n(){clearTimeout(h[0].autoUpdate),h[0].autoUpdate=setTimeout(function(){return u.advanced.updateOnSelectorChange&&(p=a(),p!==x)?(s(3),void(x=p)):(u.advanced.updateOnContentResize&&(m=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),y()[0],y()[1]],(m[0]!==w[0]||m[1]!==w[1]||m[2]!==w[2]||m[3]!==w[3]||m[4]!==w[4]||m[5]!==w[5])&&(s(m[0]!==w[0]||m[1]!==w[1]),w=m)),u.advanced.updateOnImageLoad&&(g=i(),g!==C&&(h.find("img").each(function(){r(this)}),C=g)),void((u.advanced.updateOnSelectorChange||u.advanced.updateOnContentResize||u.advanced.updateOnImageLoad)&&n()))},60)}function i(){var t=0;return u.advanced.updateOnImageLoad&&(t=h.find("img").length),t}function r(e){function n(t,e){return function(){return e.apply(t,arguments)}}function i(){this.onload=null,t(e).addClass(d[2]),s(2)}if(t(e).hasClass(d[2]))return void s();var r=new Image;r.onload=n(r,i),r.src=e.src}function a(){u.advanced.updateOnSelectorChange===!0&&(u.advanced.updateOnSelectorChange="*");var e=0,n=h.find(u.advanced.updateOnSelectorChange);return u.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){e+=t(this).height()+t(this).width()}),e}function s(t){clearTimeout(h[0].autoUpdate),f.update.call(null,c[0],t)}var c=t(this),l=c.data(o),u=l.opt,h=t("#mCSB_"+l.idx+"_container");if(e)return clearTimeout(h[0].autoUpdate),void Q(h[0],"autoUpdate");var p,m,g,v=h.parent(),b=[t("#mCSB_"+l.idx+"_scrollbar_vertical"),t("#mCSB_"+l.idx+"_scrollbar_horizontal")],y=function(){return[b[0].is(":visible")?b[0].outerHeight(!0):0,b[1].is(":visible")?b[1].outerWidth(!0):0]},x=a(),w=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),y()[0],y()[1]],C=i();n()},Y=function(t,e,n){return Math.round(t/e)*e-n},X=function(e){var n=e.data(o),i=t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");i.each(function(){Z.call(this)})},G=function(e,n,i){function r(t){return c&&l.callbacks[t]&&"function"==typeof l.callbacks[t]}function a(){return[l.callbacks.alwaysTriggerOffsets||y>=x[0]+C,l.callbacks.alwaysTriggerOffsets||-$>=y]}function s(){var t=[f[0].offsetTop,f[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],r=[f.outerHeight(!1),f.outerWidth(!1)],o=[d.height(),d.width()];e[0].mcs={content:f,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(r[0])-o[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(r[1])-o[1])),direction:i.dir}}var c=e.data(o),l=c.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=t.extend(u,i),h=[i.dur,i.drag?0:i.dur],d=t("#mCSB_"+c.idx),f=t("#mCSB_"+c.idx+"_container"),p=f.parent(),m=l.callbacks.onTotalScrollOffset?q.call(e,l.callbacks.onTotalScrollOffset):[0,0],g=l.callbacks.onTotalScrollBackOffset?q.call(e,l.callbacks.onTotalScrollBackOffset):[0,0];if(c.trigger=i.trigger,(0!==p.scrollTop()||0!==p.scrollLeft())&&(t(".mCSB_"+c.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==n||c.contentReset.y||(r("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(e[0]),c.contentReset.y=1),"_resetX"!==n||c.contentReset.x||(r("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(e[0]),c.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!c.contentReset.y&&e[0].mcs||!c.overflowed[0]||(r("onOverflowY")&&l.callbacks.onOverflowY.call(e[0]),c.contentReset.x=null),!c.contentReset.x&&e[0].mcs||!c.overflowed[1]||(r("onOverflowX")&&l.callbacks.onOverflowX.call(e[0]),c.contentReset.x=null),l.snapAmount&&(n=Y(n,l.snapAmount,l.snapOffset)),i.dir){case"x":var v=t("#mCSB_"+c.idx+"_dragger_horizontal"),b="left",y=f[0].offsetLeft,x=[d.width()-f.outerWidth(!1),v.parent().width()-v.width()],w=[n,0===n?0:n/c.scrollRatio.x],C=m[1],$=g[1],_=C>0?C/c.scrollRatio.x:0,E=$>0?$/c.scrollRatio.x:0;break;case"y":var v=t("#mCSB_"+c.idx+"_dragger_vertical"),b="top",y=f[0].offsetTop,x=[d.height()-f.outerHeight(!1),v.parent().height()-v.height()],w=[n,0===n?0:n/c.scrollRatio.y],C=m[0],$=g[0],_=C>0?C/c.scrollRatio.y:0,E=$>0?$/c.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=x[1]?w=[x[0],x[1]]:w[0]=-w[0],e[0].mcs||(s(),r("onInit")&&l.callbacks.onInit.call(e[0])),clearTimeout(f[0].onCompleteTimeout),(c.tweenRunning||!(0===y&&w[0]>=0||y===x[0]&&w[0]<=x[0]))&&(K(v[0],b,Math.round(w[1]),h[1],i.scrollEasing),K(f[0],b,Math.round(w[0]),h[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!c.tweenRunning&&(r("onScrollStart")&&(s(),l.callbacks.onScrollStart.call(e[0])),c.tweenRunning=!0,S(v),c.cbOffsets=a())},onUpdate:function(){i.callbacks&&i.onUpdate&&r("whileScrolling")&&(s(),l.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===l.axis&&clearTimeout(f[0].onCompleteTimeout);var t=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){r("onScroll")&&(s(),l.callbacks.onScroll.call(e[0])),r("onTotalScroll")&&w[1]>=x[1]-_&&c.cbOffsets[0]&&(s(),l.callbacks.onTotalScroll.call(e[0])),r("onTotalScrollBack")&&w[1]<=E&&c.cbOffsets[1]&&(s(),l.callbacks.onTotalScrollBack.call(e[0])),c.tweenRunning=!1,f[0].idleTimer=0,S(v,"hide")},t)}}}))}},K=function(t,n,i,r,o,a,s){function c(){C.stop||(y||m.call(),y=J()-b,l(),y>=C.time&&(C.time=y>C.time?y+f-(y-C.time):y+f-1,C.time<y+1&&(C.time=y+1)),C.time<r?C.id=p(c):v.call())}function l(){r>0?(C.currVal=d(C.time,x,$,r,o),w[n]=Math.round(C.currVal)+"px"):w[n]=i+"px",g.call()}function u(){f=1e3/60,C.time=y+f,p=e.requestAnimationFrame?e.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},C.id=p(c)}function h(){null!=C.id&&(e.requestAnimationFrame?e.cancelAnimationFrame(C.id):clearTimeout(C.id),C.id=null)}function d(t,e,n,i,r){switch(r){case"linear":case"mcsLinear":return n*t/i+e;case"mcsLinearOut":return t/=i,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=i/2,1>t?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=i/2,1>t?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(-Math.pow(2,-10*t)+2)+e);case"easeInOut":case"mcsEaseInOut":return t/=i/2,1>t?n/2*t*t*t+e:(t-=2,n/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=i,t--,-n*(t*t*t*t-1)+e;case"easeOutStrong":return n*(-Math.pow(2,-10*t/i)+1)+e;case"easeOut":case"mcsEaseOut":default:var o=(t/=i)*t,a=o*t;return e+n*(.499999999999997*a*o+-2.5*o*o+5.5*a+-6.5*o+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var f,p,s=s||{},m=s.onStart||function(){},g=s.onUpdate||function(){},v=s.onComplete||function(){},b=J(),y=0,x=t.offsetTop,w=t.style,C=t._mTween[n];"left"===n&&(x=t.offsetLeft);var $=i-x;C.stop=0,"none"!==a&&h(),u()},J=function(){return e.performance&&e.performance.now?e.performance.now():e.performance&&e.performance.webkitNow?e.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var n=["top","left"],i=0;i<n.length;i++){var r=n[i];t._mTween[r].id&&(e.requestAnimationFrame?e.cancelAnimationFrame(t._mTween[r].id):clearTimeout(t._mTween[r].id),t._mTween[r].id=null,t._mTween[r].stop=1)}},Q=function(t,e){try{delete t[e]}catch(n){t[e]=null}},te=function(t){return!(t.which&&1!==t.which)},ee=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},ne=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ie=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]};t.fn[r]=function(e){return f[e]?f[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):f.init.apply(this,arguments)},t[r]=function(e){return f[e]?f[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):f.init.apply(this,arguments)},t[r].defaults=s,e[r]=!0,t(e).load(function(){t(a)[r](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,i,r=t(e),o=r.parents(".mCSB_container");return o.length?(n=o.parent(),i=[o[0].offsetTop,o[0].offsetLeft],i[0]+ie(r)[0]>=0&&i[0]+ie(r)[0]<n.height()-r.outerHeight(!1)&&i[1]+ie(r)[1]>=0&&i[1]+ie(r)[1]<n.width()-r.outerWidth(!1)):void 0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data(o);return n?n.overflowed[0]||n.overflowed[1]:void 0}})})})}(jQuery,window,document),function(t,e,n){"use strict";function i(t){return function(){var e,n=arguments[0];for(e="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.3.9/"+(t?t+"/":"")+n,n=1;n<arguments.length;n++){e=e+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,e+=r(i)}return Error(e)}}function r(t){if(null==t||$(t))return!1;var e=t.length;return t.nodeType===Bi&&e?!0:b(t)||Di(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var i,a;if(t)if(w(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Di(t)||r(t)){var s="object"!=typeof t;for(i=0,a=t.length;a>i;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);return t}function a(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function s(t){return function(e,n){t(n,e)}}function c(){return++Pi}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t){for(var e=t.$$hashKey,n=1,i=arguments.length;i>n;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),a=0,s=o.length;s>a;a++){var c=o[a];t[c]=r[c]}}return l(t,e),t}function h(t){return parseInt(t,10)}function d(){}function f(t){return t}function p(t){return function(){return t}}function m(t){return"undefined"==typeof t}function g(t){return"undefined"!=typeof t}function v(t){return null!==t&&"object"==typeof t}function b(t){return"string"==typeof t}function y(t){return"number"==typeof t}function x(t){return"[object Date]"===ki.call(t)}function w(t){return"function"==typeof t}function C(t){return"[object RegExp]"===ki.call(t)}function $(t){return t&&t.window===t}function _(t){return t&&t.$evalAsync&&t.$watch}function E(t){return"boolean"==typeof t}function S(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function T(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function A(t){return $i(t.nodeName||t[0]&&t[0].nodeName)}function k(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function M(t,e,n,i){if($(t)||_(t))throw Mi("cpws");if(e){if(t===e)throw Mi("cpi");if(n=n||[],i=i||[],v(t)){var r=n.indexOf(t);if(-1!==r)return i[r];n.push(t),i.push(e)}if(Di(t))for(var a=e.length=0;a<t.length;a++)r=M(t[a],null,n,i),v(t[a])&&(n.push(t[a]),i.push(r)),e.push(r);else{var s=e.$$hashKey;Di(e)?e.length=0:o(e,function(t,n){delete e[n]});for(a in t)t.hasOwnProperty(a)&&(r=M(t[a],null,n,i),v(t[a])&&(n.push(t[a]),i.push(r)),e[a]=r);l(e,s)}}else(e=t)&&(Di(t)?e=M(t,[],n,i):x(t)?e=new Date(t.getTime()):C(t)?(e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex):v(t)&&(r=Object.create(Object.getPrototypeOf(t)),e=M(t,r,n,i)));return e}function O(t,e){if(Di(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(v(t))for(n in e=e||{},t)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(e[n]=t[n]);return e||t}function P(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,r=typeof t;if(r==typeof e&&"object"==r){if(!Di(t)){if(x(t))return x(e)?P(t.getTime(),e.getTime()):!1;if(C(t)&&C(e))return t.toString()==e.toString();if(_(t)||_(e)||$(t)||$(e)||Di(e))return!1;r={};for(i in t)if("$"!==i.charAt(0)&&!w(t[i])){if(!P(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!w(e[i]))return!1;return!0}if(!Di(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!P(t[i],e[i]))return!1;return!0}}return!1}function I(t,e,n){return t.concat(Si.call(e,n))}function D(t,e){var n=2<arguments.length?Si.call(arguments,2):[];return!w(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,I(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function N(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:$(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":_(i)&&(r="$SCOPE"),r}function j(t,e){return"undefined"==typeof t?n:(y(e)||(e=e?2:null),JSON.stringify(t,N,e))}function H(t){return b(t)?JSON.parse(t):t}function L(t){t=yi(t).clone();try{t.empty()}catch(e){}var n=yi("<div>").append(t).html();try{return t[0].nodeType===Wi?$i(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+$i(e)})}catch(i){return $i(n)}}function R(t){try{return decodeURIComponent(t)}catch(e){}}function F(t){var e,n,i={};return o((t||"").split("&"),function(t){t&&(e=t.replace(/\+/g,"%20").split("="),n=R(e[0]),g(n)&&(t=g(e[1])?R(e[1]):!0,_i.call(i,n)?Di(i[n])?i[n].push(t):i[n]=[i[n],t]:i[n]=t))}),i}function B(t){var e=[];return o(t,function(t,n){Di(t)?o(t,function(t){e.push(z(n,!0)+(!0===t?"":"="+z(t,!0)))}):e.push(z(n,!0)+(!0===t?"":"="+z(t,!0)))}),e.length?e.join("&"):""}function W(t){return z(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function z(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function q(t,e){var n,i,r=Li.length;for(t=yi(t),i=0;r>i;++i)if(n=Li[i]+e,b(n=t.attr(n)))return n;return null}function V(t,e){var n,i,r={};o(Li,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,i=t.getAttribute(e))}),o(Li,function(e){e+="app";var r;!n&&(r=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(e))}),n&&(r.strictDi=null!==q(n,"strict-di"),e(n,i?[i]:[],r))}function U(n,i,r){v(r)||(r={}),r=u({strictDi:!1},r);var a=function(){if(n=yi(n),n.injector()){var t=n[0]===e?"document":L(n);throw Mi("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng"),t=Pe(i,r.strictDi),t.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},s=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!c.test(t.name)?a():(t.name=t.name.replace(c,""),void(Oi.resumeBootstrap=function(t){o(t,function(t){i.push(t)}),a()}))}function Y(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function X(t){if(t=Oi.element(t).injector(),!t)throw Mi("test");return t.get("$$testability")}function G(t,e){return e=e||"_",t.replace(Ri,function(t,n){return(n?e:"")+t.toLowerCase()})}function K(){var e;Fi||((xi=t.jQuery)&&xi.fn.on?(yi=xi,u(xi.fn,{scope:er.scope,isolateScope:er.isolateScope,controller:er.controller,injector:er.injector,inheritedData:er.inheritedData}),e=xi.cleanData,xi.cleanData=function(t){var n;if(Ii)Ii=!1;else for(var i,r=0;null!=(i=t[r]);r++)(n=xi._data(i,"events"))&&n.$destroy&&xi(i).triggerHandler("$destroy");e(t)}):yi=ce,Oi.element=yi,Fi=!0)}function J(t,e,n){if(!t)throw Mi("areq",e||"?",n||"required");return t}function Z(t,e,n){return n&&Di(t)&&(t=t[t.length-1]),J(w(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Q(t,e){if("hasOwnProperty"===t)throw Mi("badname",e)}function te(t,e,n){if(!e)return t;e=e.split(".");for(var i,r=t,o=e.length,a=0;o>a;a++)i=e[a],t&&(t=(r=t)[i]);return!n&&w(t)?D(r,t):t}function ee(t){var e=t[0];t=t[t.length-1];var n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==t);return yi(n)}function ne(){return Object.create(null)}function ie(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng");return t=e(t,"angular",Object),t.$$minErr=t.$$minErr||i,e(t,"module",function(){var t={};return function(i,o,a){if("hasOwnProperty"===i)throw r("badname","module");return o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),l}}if(!o)throw n("nomod",i);var e=[],r=[],s=[],c=t("$injector","invoke","push",r),l={_invokeQueue:e,_configBlocks:r,_runBlocks:s,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:c,run:function(t){return s.push(t),this}};return a&&c(a),l})}})}function re(e){u(e,{bootstrap:U,copy:M,extend:u,equals:P,element:yi,forEach:o,injector:Pe,noop:d,bind:D,toJson:j,fromJson:H,identity:f,isUndefined:m,isDefined:g,isString:b,isFunction:w,isObject:v,isNumber:y,isElement:S,isArray:Di,version:zi,isDate:x,lowercase:$i,uppercase:Ei,callbacks:{counter:0},getTestability:X,$$minErr:i,$$csp:Hi,reloadWithDebugInfo:Y}),wi=ie(t);try{wi("ngLocale")}catch(n){wi("ngLocale",[]).provider("$locale",nn)}wi("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:In}),t.provider("$compile",Re).directive({a:Ur,input:co,textarea:co,form:Kr,script:Xo,select:Jo,style:Qo,option:Zo,ngBind:ho,ngBindHtml:po,ngBindTemplate:fo,ngClass:go,ngClassEven:bo,ngClassOdd:vo,ngCloak:yo,ngController:xo,ngForm:Jr,ngHide:Wo,ngIf:$o,ngInclude:_o,ngInit:So,ngNonBindable:Lo,ngPluralize:Ro,ngRepeat:Fo,ngShow:Bo,ngStyle:zo,ngSwitch:qo,ngSwitchWhen:Vo,ngSwitchDefault:Uo,ngOptions:Ko,ngTransclude:Yo,ngModel:No,ngList:To,ngChange:mo,pattern:ea,ngPattern:ea,required:ta,ngRequired:ta,minlength:ia,ngMinlength:ia,maxlength:na,ngMaxlength:na,ngValue:uo,ngModelOptions:Ho}).directive({ngInclude:Eo}).directive(Yr).directive(wo),t.provider({$anchorScroll:Ie,$animate:hr,$browser:je,$cacheFactory:He,$controller:ze,$document:qe,$exceptionHandler:Ve,$filter:Vn,$interpolate:tn,$interval:en,$http:Ke,$httpBackend:Ze,$location:gn,$log:vn,$parse:Tn,$rootScope:Pn,$q:An,$$q:kn,$sce:Hn,$sceDelegate:jn,$sniffer:Ln,$templateCache:Le,$templateRequest:Rn,$$testability:Fn,$timeout:Bn,$window:qn,$$rAF:On,$$asyncCallback:De,$$jqLite:Te})}])}function oe(t){return t.replace(Ui,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Yi,"Moz$1")}function ae(t){return t=t.nodeType,t===Bi||!t||9===t}function se(t,e){var n,i,r=e.createDocumentFragment(),a=[];if(Ji.test(t)){for(n=n||r.appendChild(e.createElement("div")),i=(Zi.exec(t)||["",""])[1].toLowerCase(),i=tr[i]||tr._default,n.innerHTML=i[1]+t.replace(Qi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=I(a,n.childNodes),n=r.firstChild,n.textContent=""}else a.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",o(a,function(t){r.appendChild(t)}),r}function ce(t){if(t instanceof ce)return t;var n;if(b(t)&&(t=Ni(t),n=!0),!(this instanceof ce)){if(n&&"<"!=t.charAt(0))throw Gi("nosel");return new ce(t)}if(n){n=e;var i;t=(i=Ki.exec(t))?[n.createElement(i[1])]:(i=se(t,n))?i.childNodes:[]}be(this,t)}function le(t){return t.cloneNode(!0)}function ue(t,e){if(e||de(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)de(n[i])}function he(t,e,n,i){if(g(i))throw Gi("offargs");var r=(i=fe(t))&&i.events,a=i&&i.handle;if(a)if(e)o(e.split(" "),function(e){if(g(n)){var i=r[e];if(k(i||[],n),i&&0<i.length)return}t.removeEventListener(e,a,!1),delete r[e]});else for(e in r)"$destroy"!==e&&t.removeEventListener(e,a,!1),delete r[e]}function de(t,e){var i=t.ng339,r=i&&qi[i];r&&(e?delete r.data[e]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),he(t)),delete qi[i],t.ng339=n))}function fe(t,e){var i=t.ng339,i=i&&qi[i];return e&&!i&&(t.ng339=i=++Vi,i=qi[i]={events:{},data:{},handle:n}),i}function pe(t,e,n){if(ae(t)){var i=g(n),r=!i&&e&&!v(e),o=!e;if(t=(t=fe(t,!r))&&t.data,i)t[e]=n;else{if(o)return t;if(r)return t&&t[e];u(t,e)}}}function me(t,e){return t.getAttribute?-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" "):!1}function ge(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Ni((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ni(e)+" "," ")))})}function ve(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Ni(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Ni(n))}}function be(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function ye(t,e){return xe(t,"$"+(e||"ngController")+"Controller")}function xe(t,e,i){for(9==t.nodeType&&(t=t.documentElement),e=Di(e)?e:[e];t;){for(var r=0,o=e.length;o>r;r++)if((i=yi.data(t,e[r]))!==n)return i;t=t.parentNode||11===t.nodeType&&t.host}}function we(t){for(ue(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ce(t,e){e||ue(t);var n=t.parentNode;n&&n.removeChild(t)}function $e(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):yi(n).on("load",e)}function _e(t,e){var n=nr[e.toLowerCase()];return n&&ir[A(t)]&&n}function Ee(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&rr[e]}function Se(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},o>1&&(r=O(r));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||r[s].call(t,n)}};return n.elem=t,n}function Te(){this.$get=function(){return u(ce,{hasClass:function(t,e){return t.attr&&(t=t[0]),me(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),ve(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),ge(t,e)}})}}function Ae(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):(n=typeof t,n="function"==n||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||c)():n+":"+t)}function ke(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Me(t){return(t=t.toString().replace(cr,"").match(or))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Oe(t,e,n){var i;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw b(n)&&n||(n=t.name||Me(t)),lr("strictdi",n);e=t.toString().replace(cr,""),e=e.match(or),o(e[1].split(ar),function(t){t.replace(sr,function(t,e,n){i.push(n)})})}t.$inject=i}}else Di(t)?(e=t.length-1,Z(t[e],"fn"),i=t.slice(0,e)):Z(t,"fn",!0);return i}function Pe(t,e){function i(t){return function(e,n){return v(e)?void o(e,s(t)):t(e,n)}}function r(t,e){if(Q(t,"service"),(w(e)||Di(e))&&(e=x.instantiate(e)),!e.$get)throw lr("pget",t);return y[t+"Provider"]=e}function a(t,e){return function(){var n=$.invoke(e,this);if(m(n))throw lr("undef",t);return n}}function c(t,e,n){return r(t,{$get:!1!==n?a(t,e):e})}function l(t){var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=x.get(i[0]);r[i[1]].apply(r,i[2])}}if(!g.get(t)){g.put(t,!0);try{b(t)?(e=wi(t),n=n.concat(l(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):w(t)?n.push(x.invoke(t)):Di(t)?n.push(x.invoke(t)):Z(t,"module")}catch(r){throw Di(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),lr("modulerr",t,r.stack||r.message||r)}}}),n}function u(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===h)throw lr("cdep",e+" <- "+f.join(" <- "));return t[e]}try{return f.unshift(e),t[e]=h,t[e]=n(e,i)}catch(r){throw t[e]===h&&delete t[e],r}finally{f.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var a,s,c,l=[],u=Oe(t,e,o);for(s=0,a=u.length;a>s;s++){if(c=u[s],"string"!=typeof c)throw lr("itkn",c);l.push(r&&r.hasOwnProperty(c)?r[c]:i(c,o))}return Di(t)&&(t=t[a]),t.apply(n,l)}return{invoke:r,instantiate:function(t,e,n){var i=Object.create((Di(t)?t[t.length-1]:t).prototype);return t=r(t,i,e,n),v(t)||w(t)?t:i},get:i,annotate:Oe,has:function(e){return y.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var h={},f=[],g=new ke([],!0),y={$provide:{provider:i(r),factory:i(c),service:i(function(t,e){return c(t,["$injector",function(t){return t.instantiate(e)}])}),value:i(function(t,e){return c(t,p(e),!1)}),constant:i(function(t,e){Q(t,"constant"),y[t]=e,C[t]=e}),decorator:function(t,e){var n=x.get(t+"Provider"),i=n.$get;n.$get=function(){var t=$.invoke(i,n);return $.invoke(e,null,{$delegate:t})}}}},x=y.$injector=u(y,function(t,e){throw Oi.isString(e)&&f.push(e),lr("unpr",f.join(" <- "))}),C={},$=C.$injector=u(C,function(t,e){var i=x.get(t+"Provider",e);return $.invoke(i.$get,i,n,t)});return o(l(t),function(t){$.invoke(t||d)}),$}function Ie(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===A(t)?(e=t,!0):void 0}),e}function o(t){if(t){t.scrollIntoView();var n;n=a.yOffset,w(n)?n=n():S(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):y(n)||(n=0),n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function a(){var t,e=n.hash();e?(t=s.getElementById(e))?o(t):(t=r(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||$e(function(){i.$evalAsync(a)})}),a}]}function De(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Ne(t,e,i,r){function a(t){try{t.apply(null,Si.call(arguments,1))}finally{if(C--,0===C)for(;$.length;)try{$.pop()()}catch(e){i.error(e)}}}function s(t,e){!function n(){o(E,function(t){t()}),_=e(n,t)}()}function c(){l(),u()}function l(){S=t.history.state,S=m(S)?null:S,P(S,D)&&(S=D),D=S}function u(){(A!==f.url()||T!==S)&&(A=f.url(),T=S,o(O,function(t){t(f.url(),S)}))}function h(t){try{return decodeURIComponent(t)}catch(e){return t}}var f=this,p=e[0],g=t.location,v=t.history,y=t.setTimeout,x=t.clearTimeout,w={};f.isMock=!1;var C=0,$=[];f.$$completeOutstandingRequest=a,f.$$incOutstandingRequestCount=function(){C++},f.notifyWhenNoOutstandingRequests=function(t){o(E,function(t){t()}),0===C?t():$.push(t)};var _,E=[];f.addPollFn=function(t){return m(_)&&s(100,y),E.push(t),t};var S,T,A=g.href,k=e.find("base"),M=null;l(),T=S,f.url=function(e,n,i){if(m(i)&&(i=null),g!==t.location&&(g=t.location),v!==t.history&&(v=t.history),e){var o=T===i;if(A===e&&(!r.history||o))return f;var a=A&&cn(A)===cn(e);return A=e,T=i,!r.history||a&&o?(a||(M=e),n?g.replace(e):a?(n=g,i=e.indexOf("#"),e=-1===i?"":e.substr(i+1),n.hash=e):g.href=e):(v[n?"replaceState":"pushState"](i,"",e),l(),T=S),f}return M||g.href.replace(/%27/g,"'")},f.state=function(){return S};var O=[],I=!1,D=null;f.onUrlChange=function(e){return I||(r.history&&yi(t).on("popstate",c),yi(t).on("hashchange",c),I=!0),O.push(e),e},f.$$checkUrlChange=u,f.baseHref=function(){var t=k.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""
};var N={},j="",H=f.baseHref();f.cookies=function(t,e){var r,o,a,s;if(!t){if(p.cookie!==j)for(j=p.cookie,r=j.split("; "),N={},a=0;a<r.length;a++)o=r[a],s=o.indexOf("="),s>0&&(t=h(o.substring(0,s)),N[t]===n&&(N[t]=h(o.substring(s+1))));return N}e===n?p.cookie=encodeURIComponent(t)+"=;path="+H+";expires=Thu, 01 Jan 1970 00:00:00 GMT":b(e)&&(r=(p.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+H).length+1,r>4096&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},f.defer=function(t,e){var n;return C++,n=y(function(){delete w[n],a(t)},e||0),w[n]=!0,n},f.defer.cancel=function(t){return w[t]?(delete w[t],x(t),a(d),!0):!1}}function je(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Ne(t,i,e,n)}]}function He(){this.$get=function(){function t(t,n){function r(t){t!=d&&(f?f==t&&(f=t.n):f=t,o(t.n,t.p),o(t,d),d=t,d.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid",t);var a=0,s=u({},n,{id:t}),c={},l=n&&n.capacity||Number.MAX_VALUE,h={},d=null,f=null;return e[t]={put:function(t,e){if(l<Number.MAX_VALUE){var n=h[t]||(h[t]={key:t});r(n)}return m(e)?void 0:(t in c||a++,c[t]=e,a>l&&this.remove(f.key),e)},get:function(t){if(l<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return c[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=h[t];if(!e)return;e==d&&(d=e.p),e==f&&(f=e.n),o(e.n,e.p),delete h[t]}delete c[t],a--},removeAll:function(){c={},a=0,h={},d=f=null},destroy:function(){h=s=c=null,delete e[t]},info:function(){return u({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Le(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Re(t,i){function r(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,r){var o=t.match(n);if(!o)throw dr("iscp",e,r,t);i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}var a={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=T("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function C(e,n){return Q(e,"directive"),b(e)?(J(n,"directiveFactory"),a.hasOwnProperty(e)||(a[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var i=[];return o(a[e],function(o,a){try{var s=t.invoke(o);w(s)?s={compile:p(s)}:!s.compile&&s.link&&(s.compile=p(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",v(s.scope)&&(s.$$isolateBindings=r(s.scope,s.name)),i.push(s)}catch(c){n(c)}}),i}])),a[e].push(n)):o(e,s(C)),this},this.aHrefSanitizationWhitelist=function(t){return g(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(t){return g(t)?(x=t,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,r,s,p,g,C,$,E,S,T){function M(t,e){try{t.addClass(e)}catch(n){}}function O(t,e,n,i,r){t instanceof yi||(t=yi(t)),o(t,function(e,n){e.nodeType==Wi&&e.nodeValue.match(/\S+/)&&(t[n]=yi(e).wrap("<span></span>").parent()[0])});var a=I(t,e,t,n,i,r);O.$$addScopeClass(t);var s=null;return function(e,n,i){J(e,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=(i=i&&i[0])&&"foreignobject"!==A(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==s?yi(X(s,yi("<div>").append(t).html())):n?er.clone.call(t):t,o)for(var c in o)i.data("$"+c+"Controller",o[c].instance);return O.$$addScopeInfo(i,e),n&&n(i,e),a&&a(e,i,i,r),i}}function I(t,e,i,r,o,a){function s(t,i,r,o){var a,s,c,l,u,h,p;if(d)for(p=Array(i.length),l=0;l<f.length;l+=3)a=f[l],p[a]=i[a];else p=i;for(l=0,u=f.length;u>l;)s=p[f[l++]],i=f[l++],a=f[l++],i?(i.scope?(c=t.$new(),O.$$addScopeInfo(yi(s),c)):c=t,h=i.transcludeOnThisElement?D(t,i.transclude,o,i.elementTranscludeOnThisElement):!i.templateOnThisElement&&o?o:!o&&e?D(t,e):null,i(a,c,s,r,h)):a&&a(t,s.childNodes,n,o)}for(var c,l,u,h,d,f=[],p=0;p<t.length;p++)c=new ie,l=N(t[p],[],c,0===p?r:n,o),(a=l.length?R(l,t[p],c,e,i,null,[],[],a):null)&&a.scope&&O.$$addScopeClass(c.$$element),c=a&&a.terminal||!(u=t[p].childNodes)||!u.length?null:I(u,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:e),(a||c)&&(f.push(p,a,c),h=!0,d=d||a),a=null;return h?s:null}function D(t,e,n){return function(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}}function N(t,e,n,i,r){var o,a=n.$attr;switch(t.nodeType){case Bi:B(e,Fe(A(t)),"E",i,r);for(var s,u,h,d=t.attributes,f=0,p=d&&d.length;p>f;f++){var m=!1,g=!1;s=d[f],o=s.name,u=Ni(s.value),s=Fe(o),(h=se.test(s))&&(o=o.replace(fr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var v=s.replace(/(Start|End)$/,"");W(v)&&s===v+"Start"&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),s=Fe(o.toLowerCase()),a[s]=o,(h||!n.hasOwnProperty(s))&&(n[s]=u,_e(t,s)&&(n[s]=!0)),Z(t,e,u,s,h),B(e,s,"A",i,r,m,g)}if(t=t.className,b(t)&&""!==t)for(;o=l.exec(t);)s=Fe(o[2]),B(e,s,"C",i,r)&&(n[s]=Ni(o[3])),t=t.substr(o.index+o[0].length);break;case Wi:Y(e,t.nodeValue);break;case 8:try{(o=c.exec(t.nodeValue))&&(s=Fe(o[1]),B(e,s,"M",i,r)&&(n[s]=Ni(o[2])))}catch(y){}}return e.sort(V),e}function j(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw dr("uterdir",e,n);t.nodeType==Bi&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return yi(i)}function H(t,e,n){return function(i,r,o,a,s){return r=j(r[0],e,n),t(i,r,o,a,s)}}function R(t,a,s,c,l,u,h,d,f){function y(t,e,n,i){t&&(n&&(t=H(t,n,i)),t.require=S.require,t.directiveName=T,(D===S||S.$$isolateScope)&&(t=te(t,{isolateScope:!0})),h.push(t)),e&&(n&&(e=H(e,n,i)),e.require=S.require,e.directiveName=T,(D===S||S.$$isolateScope)&&(e=te(e,{isolateScope:!0})),d.push(e))}function x(t,e,n,i){var r,a,s="data",c=!1,l=n;if(b(e)){if(a=e.match(m),e=e.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",l=n.parent()),"?"===a[2]&&(c=!0),r=null,i&&"data"===s&&(r=i[e])&&(r=r.instance),r=r||l[s]("$"+e+"Controller"),!r&&!c)throw dr("ctreq",e,t);return r||null}return Di(e)&&(r=[],o(e,function(e){r.push(x(t,e,n,i))})),r}function C(t,e,r,c,l){function u(t,e,i){var r;return _(t)||(i=e,e=t,t=n),Y&&(r=y),i||(i=Y?C.parent():C),l(t,e,r,i,T)}var f,m,v,b,y,w,C,$;if(a===r?($=s,C=s.$$element):(C=yi(r),$=new ie(C,s)),D&&(b=e.$new(!0)),l&&(w=u,w.$$boundTransclude=l),I&&(E={},y={},o(I,function(t){var n={$scope:t===D||t.$$isolateScope?b:e,$element:C,$attrs:$,$transclude:w};v=t.controller,"@"==v&&(v=$[t.name]),n=g(v,n,!0,t.controllerAs),y[t.name]=n,Y||C.data("$"+t.name+"Controller",n.instance),E[t.name]=n})),D){O.$$addScopeInfo(C,b,!0,!(R&&(R===D||R===D.$$originalDirective))),O.$$addScopeClass(C,!0),c=E&&E[D.name];var S=b;c&&c.identifier&&!0===D.bindToController&&(S=c.instance),o(b.$$isolateBindings=D.$$isolateBindings,function(t,n){var r,o,a,s,c=t.attrName,l=t.optional;switch(t.mode){case"@":$.$observe(c,function(t){S[n]=t}),$.$$observers[c].$$scope=e,$[c]&&(S[n]=i($[c])(e));break;case"=":if(l&&!$[c])break;o=p($[c]),s=o.literal?P:function(t,e){return t===e||t!==t&&e!==e},a=o.assign||function(){throw r=S[n]=o(e),dr("nonassign",$[c],D.name)},r=S[n]=o(e),l=function(t){return s(t,S[n])||(s(t,r)?a(e,t=S[n]):S[n]=t),r=t},l.$stateful=!0,l=t.collection?e.$watchCollection($[c],l):e.$watch(p($[c],l),null,o.literal),b.$on("$destroy",l);break;case"&":o=p($[c]),S[n]=function(t){return o(e,t)}}})}for(E&&(o(E,function(t){t()}),E=null),c=0,f=h.length;f>c;c++)m=h[c],ee(m,m.isolateScope?b:e,C,$,m.require&&x(m.directiveName,m.require,C,y),w);var T=e;for(D&&(D.template||null===D.templateUrl)&&(T=b),t&&t(T,r.childNodes,n,l),c=d.length-1;c>=0;c--)m=d[c],ee(m,m.isolateScope?b:e,C,$,m.require&&x(m.directiveName,m.require,C,y),w)}f=f||{};for(var $,E,S,T,A,k,M=-Number.MAX_VALUE,I=f.controllerDirectives,D=f.newIsolateScopeDirective,R=f.templateDirective,B=f.nonTlbTranscludeDirective,W=!1,V=!1,Y=f.hasElementTranscludeDirective,G=s.$$element=yi(a),K=c,J=0,Z=t.length;Z>J;J++){S=t[J];var ne=S.$$start,re=S.$$end;if(ne&&(G=j(a,ne,re)),A=n,M>S.priority)break;if((A=S.scope)&&(S.templateUrl||(v(A)?(U("new/isolated scope",D||$,S,G),D=S):U("new/isolated scope",D,S,G)),$=$||S),T=S.name,!S.templateUrl&&S.controller&&(A=S.controller,I=I||{},U("'"+T+"' controller",I[T],S,G),I[T]=S),(A=S.transclude)&&(W=!0,S.$$tlb||(U("transclusion",B,S,G),B=S),"element"==A?(Y=!0,M=S.priority,A=G,G=s.$$element=yi(e.createComment(" "+T+": "+s[T]+" ")),a=G[0],Q(l,Si.call(A,0),a),K=O(A,c,M,u&&u.name,{nonTlbTranscludeDirective:B})):(A=yi(le(a)).contents(),G.empty(),K=O(A,c))),S.template)if(V=!0,U("template",R,S,G),R=S,A=w(S.template)?S.template(G,s):S.template,A=ae(A),S.replace){if(u=S,A=Ji.test(A)?We(X(S.templateNamespace,Ni(A))):[],a=A[0],1!=A.length||a.nodeType!==Bi)throw dr("tplrt",T,"");Q(l,G,a),Z={$attr:{}},A=N(a,[],Z);var oe=t.splice(J+1,t.length-(J+1));D&&F(A),t=t.concat(A).concat(oe),z(s,Z),Z=t.length}else G.html(A);if(S.templateUrl)V=!0,U("template",R,S,G),R=S,S.replace&&(u=S),C=q(t.splice(J,t.length-J),G,s,l,W&&K,h,d,{controllerDirectives:I,newIsolateScopeDirective:D,templateDirective:R,nonTlbTranscludeDirective:B}),Z=t.length;else if(S.compile)try{k=S.compile(G,s,K),w(k)?y(null,k,ne,re):k&&y(k.pre,k.post,ne,re)}catch(se){r(se,L(G))}S.terminal&&(C.terminal=!0,M=Math.max(M,S.priority))}return C.scope=$&&!0===$.scope,C.transcludeOnThisElement=W,C.elementTranscludeOnThisElement=Y,C.templateOnThisElement=V,C.transclude=K,f.hasElementTranscludeDirective=Y,C}function F(t){for(var e=0,n=t.length;n>e;e++){var i,r=e;i=u(Object.create(t[e]),{$$isolateScope:!0}),t[r]=i}}function B(e,i,o,s,c,l,h){if(i===c)return null;if(c=null,a.hasOwnProperty(i)){var d;i=t.get(i+"Directive");for(var f=0,p=i.length;p>f;f++)try{if(d=i[f],(s===n||s>d.priority)&&-1!=d.restrict.indexOf(o)){if(l){var m={$$start:l,$$end:h};d=u(Object.create(d),m)}e.push(d),c=d}}catch(g){r(g)}}return c}function W(e){if(a.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;r>i;i++)if(e=n[i],e.multiElement)return!0;return!1}function z(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(M(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function q(t,e,n,i,r,a,c,l){var h,d,f=[],p=e[0],m=t.shift(),g=u({},m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),b=w(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,y=m.templateNamespace;return e.empty(),s(E.getTrustedResourceUrl(b)).then(function(s){var u,x;if(s=ae(s),m.replace){if(s=Ji.test(s)?We(X(y,Ni(s))):[],u=s[0],1!=s.length||u.nodeType!==Bi)throw dr("tplrt",m.name,b);s={$attr:{}},Q(i,e,u);var w=N(u,[],s);v(m.scope)&&F(w),t=w.concat(t),z(n,s)}else u=p,e.html(s);for(t.unshift(g),h=R(t,u,n,r,e,m,a,c,l),o(i,function(t,n){t==u&&(i[n]=e[0])}),d=I(e[0].childNodes,r);f.length;){s=f.shift(),x=f.shift();var C=f.shift(),$=f.shift(),w=e[0];if(!s.$$destroyed){if(x!==p){var _=x.className;l.hasElementTranscludeDirective&&m.replace||(w=le(u)),Q(C,yi(x),w),M(yi(w),_)}x=h.transcludeOnThisElement?D(s,h.transclude,$):$,h(d,s,w,i,x)}}f=null}),function(t,e,n,i,r){t=r,e.$$destroyed||(f?f.push(e,n,i,t):(h.transcludeOnThisElement&&(t=D(e,h.transclude,r)),h(d,e,n,i,t)))}}function V(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function U(t,e,n,i){if(e)throw dr("multidir",e.name,n.name,t,L(i))}function Y(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;return e&&O.$$addBindingClass(t),function(t,i){var r=i.parent();e||O.$$addBindingClass(r),O.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){i[0].nodeValue=t})}}})}function X(t,n){switch(t=$i(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function K(t,e){if("srcdoc"==e)return E.HTML;var n=A(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?E.RESOURCE_URL:void 0}function Z(t,e,n,r,o){var a=K(t,r);o=h[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===A(t))throw dr("selmulti",L(t));e.push({priority:100,compile:function(){return{pre:function(t,e,c){if(e=c.$$observers||(c.$$observers={}),y.test(r))throw dr("nodomevents");var l=c[r];l!==n&&(s=l&&i(l,!0,a,o),n=l),s&&(c[r]=s(t),(e[r]||(e[r]=[])).$$inter=!0,(c.$$observers&&c.$$observers[r].$$scope||t).$watch(s,function(t,e){"class"===r&&t!=e?c.$updateClass(t,e):c.$set(r,t)}))}}}})}}function Q(t,n,i){var r,o,a=n[0],s=n.length,c=a.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==a){t[r++]=i,o=r+s-1;for(var l=t.length;l>r;r++,o++)l>o?t[r]=t[o]:delete t[r];t.length-=s-1,t.context===a&&(t.context=i);break}for(c&&c.replaceChild(i,a),t=e.createDocumentFragment(),t.appendChild(a),yi(i).data(yi(a).data()),xi?(Ii=!0,xi.cleanData([a])):delete yi.cache[a[yi.expando]],a=1,s=n.length;s>a;a++)c=n[a],yi(c).remove(),t.appendChild(c),delete n[a];n[0]=i,n.length=1}function te(t,e){return u(function(){return t.apply(null,arguments)},t,e)}function ee(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,L(n))}}var ie=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t};ie.prototype={$normalize:Fe,$addClass:function(t){t&&0<t.length&&S.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&S.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Be(t,e);n&&n.length&&S.addClass(this.$$element,n),(n=Be(e,t))&&n.length&&S.removeClass(this.$$element,n)},$set:function(t,e,i,a){var s=this.$$element[0],c=_e(s,t),l=Ee(s,t),s=t;if(c?(this.$$element.prop(t,e),a=c):l&&(this[l]=e,s=l),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t])||(this.$attr[t]=a=G(t,"-")),c=A(this.$$element),"a"===c&&"href"===t||"img"===c&&"src"===t)this[t]=e=T(e,"src"===t);else if("img"===c&&"srcset"===t){for(var c="",l=Ni(e),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(l)?u:/(,)/,l=l.split(u),u=Math.floor(l.length/2),h=0;u>h;h++)var d=2*h,c=c+T(Ni(l[d]),!0),c=c+(" "+Ni(l[d+1]));l=Ni(l[2*h]).split(/\s/),c+=T(Ni(l[0]),!0),2===l.length&&(c+=" "+Ni(l[1])),this[t]=e=c}!1!==i&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e)),(t=this.$$observers)&&o(t[s],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=ne()),r=i[t]||(i[t]=[]);return r.push(e),C.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){k(r,e)}}};var re=i.startSymbol(),oe=i.endSymbol(),ae="{{"==re||"}}"==oe?f:function(t){return t.replace(/\{\{/g,re).replace(/}}/g,oe)},se=/^ngAttr[A-Z]/;return O.$$addBindingInfo=x?function(t,e){var n=t.data("$binding")||[];Di(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:d,O.$$addBindingClass=x?function(t){M(t,"ng-binding")}:d,O.$$addScopeInfo=x?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:d,O.$$addScopeClass=x?function(t,e){M(t,e?"ng-isolate-scope":"ng-scope")}:d,O}]}function Fe(t){return oe(t.replace(fr,""))}function Be(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),o=0;t:for(;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue t;n+=(0<n.length?" ":"")+a}return n}function We(t){t=yi(t);var e=t.length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&Ti.call(t,e,1);return t}function ze(){var t={},e=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){Q(e,"controller"),v(e)?u(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,a){function s(t,e,n,r){if(!t||!v(t.$scope))throw i("$controller")("noscp",r,e);t.$scope[e]=n}return function(i,c,l,h){var d,f,p;return l=!0===l,h&&b(h)&&(p=h),b(i)&&(h=i.match(r),f=h[1],p=p||h[3],i=t.hasOwnProperty(f)?t[f]:te(c.$scope,f,!0)||(e?te(a,f,!0):n),Z(i,f,!0)),l?(l=(Di(i)?i[i.length-1]:i).prototype,d=Object.create(l),p&&s(c,p,d,f||i.name),u(function(){return o.invoke(i,d,c,f),d},{instance:d,identifier:p})):(d=o.instantiate(i,c,f),p&&s(c,p,d,f||i.name),d)}}]}function qe(){this.$get=["$window",function(t){return yi(t.document)}]}function Ve(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function Ue(t,e){if(b(t)){var n=t.replace(br,"").trim();if(n){var i=e("Content-Type");(i=i&&0===i.indexOf(pr))||(i=(i=n.match(gr))&&vr[i[0]].test(n)),i&&(t=H(n))}}return t}function Ye(t){var e,n,i,r=ne();return t?(o(t.split("\n"),function(t){i=t.indexOf(":"),e=$i(Ni(t.substr(0,i))),n=Ni(t.substr(i+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r):r}function Xe(t){var e=v(t)?t:n;return function(n){return e||(e=Ye(t)),n?(n=e[$i(n)],void 0===n&&(n=null),n):e}}function Ge(t,e,n,i){return w(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Ke(){var t=this.defaults={transformResponse:[Ue],transformRequest:[function(t){return v(t)&&"[object File]"!==ki.call(t)&&"[object Blob]"!==ki.call(t)&&"[object FormData]"!==ki.call(t)?j(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(mr),put:O(mr),patch:O(mr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return g(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,c,l,h,d,f){function p(e){function r(t){var e=u({},t);return e.data=t.data?Ge(t.data,t.headers,t.status,s.transformResponse):t.data,t=t.status,t>=200&&300>t?e:d.reject(e)}function a(t){var e,n={};return o(t,function(t,i){w(t)?(e=t(),null!=e&&(n[i]=e)):n[i]=t}),n}if(!Oi.isObject(e))throw i("$http")("badreq",e);var s=u({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);s.headers=function(e){var n,i,r=t.headers,o=u({},e.headers),r=u({},r.common,r[$i(e.method)]);t:for(n in r){e=$i(n);for(i in o)if($i(i)===e)continue t;o[n]=r[n]}return a(o)}(e),s.method=Ei(s.method);var c=[function(e){var i=e.headers,a=Ge(e.data,Xe(i),n,e.transformRequest);return m(a)&&o(i,function(t,e){"content-type"===$i(e)&&delete i[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),y(e,a).then(r,r)},n],l=d.when(s);for(o(_,function(t){(t.request||t.requestError)&&c.unshift(t.request,t.requestError),(t.response||t.responseError)&&c.push(t.response,t.responseError)});c.length;){e=c.shift();var h=c.shift(),l=l.then(e,h)}return l.success=function(t){return l.then(function(e){t(e.data,e.status,e.headers,s)}),l},l.error=function(t){return l.then(null,function(e){t(e.data,e.status,e.headers,s)}),l},l}function y(i,r){function o(t,n,i,r){function o(){a(n,t,i,r)}f&&(t>=200&&300>t?f.put(E,[t,n,Ye(i),r]):f.remove(E)),e?h.$applyAsync(o):(o(),h.$$phase||h.$apply())}function a(t,e,n,r){e=Math.max(e,0),(e>=200&&300>e?y.resolve:y.reject)({data:t,status:e,headers:Xe(n),config:i,statusText:r})}function l(t){a(t.data,t.status,O(t.headers()),t.statusText)}function u(){var t=p.pendingRequests.indexOf(i);-1!==t&&p.pendingRequests.splice(t,1)}var f,b,y=d.defer(),x=y.promise,_=i.headers,E=C(i.url,i.params);return p.pendingRequests.push(i),x.then(u,u),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(f=v(i.cache)?i.cache:v(t.cache)?t.cache:$),f&&(b=f.get(E),g(b)?b&&w(b.then)?b.then(l,l):Di(b)?a(b[1],b[0],O(b[2]),b[3]):a(b,200,{},"OK"):f.put(E,x)),m(b)&&((b=zn(i.url)?c.cookies()[i.xsrfCookieName||t.xsrfCookieName]:n)&&(_[i.xsrfHeaderName||t.xsrfHeaderName]=b),s(i.method,E,r,o,_,i.timeout,i.withCredentials,i.responseType)),x}function C(t,e){if(!e)return t;var n=[];return a(e,function(t,e){null===t||m(t)||(Di(t)||(t=[t]),o(t,function(t){v(t)&&(t=x(t)?t.toISOString():j(t)),n.push(z(e)+"="+z(t))}))}),0<n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var $=l("$http"),_=[];return o(r,function(t){_.unshift(b(t)?f.get(t):f.invoke(t))}),p.pendingRequests=[],function(){o(arguments,function(t){p[t]=function(e,n){return p(u(n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(){o(arguments,function(t){p[t]=function(e,n,i){return p(u(i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function Je(){return new t.XMLHttpRequest}function Ze(){this.$get=["$browser","$window","$document",function(t,e,n){return Qe(t,Je,t.defer,e.angular.callbacks,n[0])}]}function Qe(t,e,i,r,a){function s(t,e,n){var i=a.createElement("script"),o=null;return i.type="text/javascript",i.src=t,i.async=!0,o=function(t){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),a.body.removeChild(i),i=null;var s=-1,c="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),c=t.type,s="error"===t.type?404:200),n&&n(s,c)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),a.body.appendChild(i),o}return function(a,c,l,u,h,f,p,m){function v(){x&&x(),C&&C.abort()}function b(e,r,o,a,s){_!==n&&i.cancel(_),x=C=null,e(r,o,a,s),t.$$completeOutstandingRequest(d)}if(t.$$incOutstandingRequestCount(),c=c||t.url(),"jsonp"==$i(a)){var y="_"+(r.counter++).toString(36);r[y]=function(t){r[y].data=t,r[y].called=!0};var x=s(c.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){b(u,t,r[y].data,"",e),r[y]=d})}else{var C=e();if(C.open(a,c,!0),o(h,function(t,e){g(t)&&C.setRequestHeader(e,t)}),C.onload=function(){var t=C.statusText||"",e="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=e?200:"file"==Wn(c).protocol?404:0),b(u,n,e,C.getAllResponseHeaders(),t)},a=function(){b(u,-1,null,null,"")},C.onerror=a,C.onabort=a,p&&(C.withCredentials=!0),m)try{C.responseType=m}catch($){if("json"!==m)throw $}C.send(l||null)}if(f>0)var _=i(v,f);else f&&w(f.then)&&f.then(v)}}function tn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(o,a,d,f){function p(n){return n.replace(l,t).replace(h,e)}function v(t){try{var e=t;t=d?r.getTrusted(d,e):r.valueOf(e);var n;if(f&&!g(t))n=t;else if(null==t)n="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=j(t)}n=t}return n}catch(a){n=yr("interr",o,a.toString()),i(n)}}f=!!f;for(var b,y,x=0,C=[],$=[],_=o.length,E=[],S=[];_>x;){if(-1==(b=o.indexOf(t,x))||-1==(y=o.indexOf(e,b+s))){x!==_&&E.push(p(o.substring(x)));break}x!==b&&E.push(p(o.substring(x,b))),x=o.substring(b+s,y),C.push(x),$.push(n(x,v)),x=y+c,S.push(E.length),E.push("")}if(d&&1<E.length)throw yr("noconcat",o);if(!a||C.length){var T=function(t){for(var e=0,n=C.length;n>e;e++){if(f&&m(t[e]))return;E[S[e]]=t[e]}return E.join("")};return u(function(t){var e=0,n=C.length,r=Array(n);try{for(;n>e;e++)r[e]=$[e](t);return T(r)}catch(a){t=yr("interr",o,a.toString()),i(t)}},{exp:o,expressions:C,$$watchDelegate:function(t,e,n){var i;return t.$watchGroup($,function(n,r){var o=T(n);w(e)&&e.call(this,o,n!==r?i:o,t),i=o},n)}})}}var s=t.length,c=e.length,l=new RegExp(t.replace(/./g,o),"g"),h=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function en(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,a,s,c){var l=e.setInterval,u=e.clearInterval,h=0,d=g(c)&&!c,f=(d?i:n).defer(),p=f.promise;return s=g(s)?s:0,p.then(null,null,r),p.$$intervalId=l(function(){f.notify(h++),s>0&&h>=s&&(f.resolve(h),u(p.$$intervalId),delete o[p.$$intervalId]),d||t.$apply()},a),o[p.$$intervalId]=f,p}var o={};return r.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},r}]}function nn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function rn(t){t=t.split("/");for(var e=t.length;e--;)t[e]=W(t[e]);return t.join("/")}function on(t,e){var n=Wn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||wr[n.protocol]||null}function an(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Wn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=F(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function sn(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function cn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function ln(t){return t.replace(/(#.+)|#$/,"$1")}function un(t){return t.substr(0,cn(t).lastIndexOf("/")+1)}function hn(t,e){this.$$html5=!0,e=e||"";var i=un(t);on(t,this),this.$$parse=function(t){var e=sn(i,t);if(!b(e))throw Cr("ipthprfx",t,i);an(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=B(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=rn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s;return(a=sn(t,r))!==n?(s=a,s=(a=sn(e,a))!==n?i+(sn("/",a)||a):t+s):(a=sn(i,r))!==n?s=i+a:i==r+"/"&&(s=i),s&&this.$$parse(s),!!s}}function dn(t,e){var n=un(t);on(t,this),this.$$parse=function(i){i=sn(t,i)||sn(n,i);var r;"#"===i.charAt(0)?(r=sn(e,i),m(r)&&(r=i)):r=this.$$html5?i:"",an(r,this),i=this.$$path;var o=/^\/[A-Z]:(\/.*)/;0===r.indexOf(t)&&(r=r.replace(t,"")),o.exec(r)||(i=(r=o.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var n=B(this.$$search),i=this.$$hash?"#"+W(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return cn(t)==cn(e)?(this.$$parse(e),!0):!1}}function fn(t,e){this.$$html5=!0,dn.apply(this,arguments);var n=un(t);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t==cn(i)?o=i:(a=sn(n,i))?o=t+e+a:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=B(this.$$search),i=this.$$hash?"#"+W(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+e+this.$$url}}function pn(t){return function(){return this[t]}}function mn(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function gn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return g(e)?(t=e,this):t},this.html5Mode=function(t){return E(t)?(e.enabled=t,this):v(t)?(E(t.enabled)&&(e.enabled=t.enabled),E(t.requireBase)&&(e.requireBase=t.requireBase),E(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function c(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,u;u=i.baseHref();var h,d=i.url();if(e.enabled){if(!u&&e.requireBase)throw Cr("nobase");h=d.substring(0,d.indexOf("/",d.indexOf("//")+2))+(u||"/"),u=r.history?hn:fn}else h=cn(d),u=dn;l=new u(h,"#"+t),l.$$parseLinkUrl(d,d),l.$$state=i.state();var f=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var r=yi(t.target);"a"!==A(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),c=r.attr("href")||r.attr("xlink:href");v(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Wn(s.animVal).href),f.test(s)||!s||r.attr("target")||t.isDefaultPrevented()||!l.$$parseLinkUrl(s,c)||(t.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=d&&i.url(l.absUrl(),!0);var p=!0;return i.onUrlChange(function(t,e){n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(p=!1,c(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=ln(i.url()),e=ln(l.absUrl()),o=i.state(),a=l.$$replace,u=t!==e||l.$$html5&&r.history&&o!==l.$$state;(p||u)&&(p=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=o):(u&&s(e,a,o===l.$$state?null:l.$$state),c(t,o)))})),l.$$replace=!1}),l}]}function vn(){var t=!0,e=this;this.debugEnabled=function(e){return g(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||d;t=!1;try{t=!!r.apply}catch(a){}return t?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function bn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw _r("isecfld",e);return t}function yn(t,e){if(t){if(t.constructor===t)throw _r("isecfn",e);if(t.window===t)throw _r("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw _r("isecdom",e);if(t===Object)throw _r("isecobj",e)}return t}function xn(t){return t.constant}function wn(t,e,n,i,r){yn(t,r),yn(e,r),n=n.split(".");for(var o,a=0;1<n.length;a++){o=bn(n.shift(),r);var s=0===a&&e&&e[o]||t[o];s||(s={},t[o]=s),t=yn(s,r)}return o=bn(n.shift(),r),yn(t[o],r),t[o]=i}function Cn(t){return"constructor"==t}function $n(t,e,i,r,o,a,s){bn(t,a),bn(e,a),bn(i,a),bn(r,a),bn(o,a);var c=function(t){return yn(t,a)},l=s||Cn(t)?c:f,u=s||Cn(e)?c:f,h=s||Cn(i)?c:f,d=s||Cn(r)?c:f,p=s||Cn(o)?c:f;return function(a,s){var c=s&&s.hasOwnProperty(t)?s:a;return null==c?c:(c=l(c[t]),e?null==c?n:(c=u(c[e]),i?null==c?n:(c=h(c[i]),r?null==c?n:(c=d(c[r]),o?null==c?n:c=p(c[o]):c):c):c):c)}}function _n(t,e){return function(n,i){return t(n,i,yn,e)}}function En(t,e,i){var r=e.expensiveChecks,a=r?Dr:Ir,s=a[t];if(s)return s;var c=t.split("."),l=c.length;if(e.csp)s=6>l?$n(c[0],c[1],c[2],c[3],c[4],i,r):function(t,e){var o,a=0;do o=$n(c[a++],c[a++],c[a++],c[a++],c[a++],i,r)(t,e),e=n,t=o;while(l>a);return o};else{var u="";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var h=r;o(c,function(t,e){bn(t,i);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(r||Cn(t))&&(n="eso("+n+", fe)",h=!0),u+="if(s == null) return undefined;\ns="+n+";\n"}),u+="return s;",e=new Function("s","l","eso","fe",u),e.toString=p(u),h&&(e=_n(e,i)),s=e}return s.sharedGetter=!0,s.assign=function(e,n,i){return wn(e,i,t,n,t)
},a[t]=s}function Sn(t){return w(t.valueOf)?t.valueOf():Nr.call(t)}function Tn(){var t=ne(),e=ne();this.$get=["$filter","$sniffer",function(n,i){function r(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function a(t,e){for(var n=0,i=t.length;i>n;n++){var r=t[n];r.constant||(r.inputs?a(r.inputs,e):-1===e.indexOf(r)&&e.push(r))}return e}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=Sn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function c(t,e,n,i){var r,o=i.$$inputs||(i.$$inputs=a(i.inputs,[]));if(1===o.length){var c=s,o=o[0];return t.$watch(function(t){var e=o(t);return s(e,c)||(r=i(t),c=e&&Sn(e)),r},e,n)}for(var l=[],u=0,h=o.length;h>u;u++)l[u]=s;return t.$watch(function(t){for(var e=!1,n=0,a=o.length;a>n;n++){var c=o[n](t);(e||(e=!s(c,l[n])))&&(l[n]=c&&Sn(c))}return e&&(r=i(t)),r},e,n)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,w(e)&&e.apply(this,arguments),g(t)&&i.$$postDigest(function(){g(o)&&r()})},n)}function u(t,e,n,i){function r(t){var e=!0;return o(t,function(t){g(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,i){s=t,w(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(s)&&a()})},n)}function h(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(){w(e)&&e.apply(this,arguments),r()},n)}function f(t,e){if(!e)return t;var n=t.$$watchDelegate,n=n!==u&&n!==l?function(n,i){var r=t(n,i);return e(r,n,i)}:function(n,i){var r=t(n,i),o=e(r,n,i);return g(r)?o:r};return t.$$watchDelegate&&t.$$watchDelegate!==c?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=c,n.inputs=[t]),n}var p={csp:i.csp,expensiveChecks:!1},m={csp:i.csp,expensiveChecks:!0};return function(i,o,a){var s,g,v;switch(typeof i){case"string":v=i=i.trim();var b=a?e:t;return s=b[v],s||(":"===i.charAt(0)&&":"===i.charAt(1)&&(g=!0,i=i.substring(2)),a=a?m:p,s=new Or(a),s=new Pr(s,n,a).parse(i),s.constant?s.$$watchDelegate=h:g?(s=r(s),s.$$watchDelegate=s.literal?u:l):s.inputs&&(s.$$watchDelegate=c),b[v]=s),f(s,o);case"function":return f(i,o);default:return f(d,o)}}}]}function An(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Mn(function(e){t.$evalAsync(e)},e)}]}function kn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Mn(function(e){t.defer(e)},e)}]}function Mn(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function c(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,t(function(){var t,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var a=0,s=o.length;s>a;++a){r=o[a][0],t=o[a][i.status];try{w(t)?r.resolve(t(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(c){r.reject(c),e(c)}}}))}function l(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var u=i("$q",TypeError);a.prototype={then:function(t,e,n){var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&c(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return d(e,!0,t)},function(e){return d(e,!1,t)},e)}},l.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(u("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(v(t)||w(t))&&(n=t&&t.then),w(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&t(function(){for(var t,r,o=0,a=i.length;a>o;o++){r=i[o][0],t=i[o][3];try{r.notify(w(t)?t(n):n)}catch(s){e(s)}}})}};var h=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},d=function(t,e,n){var i=null;try{w(n)&&(i=n())}catch(r){return h(r,!1)}return i&&w(i.then)?i.then(function(){return h(t,e)},function(t){return h(t,!1)}):h(t,e)},f=function(t,e,n,i){var r=new l;return r.resolve(t),r.promise.then(e,n,i)},p=function m(t){if(!w(t))throw u("norslvr",t);if(!(this instanceof m))return new m(t);var e=new l;return t(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise};return p.defer=function(){return new l},p.reject=function(t){var e=new l;return e.reject(t),e.promise},p.when=f,p.all=function(t){var e=new l,n=0,i=Di(t)?[]:{};return o(t,function(t,r){n++,f(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise},p}function On(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function Pn(){var t=10,e=i("$rootScope"),n=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,s,c,l){function u(){this.$id=++Pi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function h(t){if(y.$$phase)throw e("inprog",y.$$phase);y.$$phase=t}function f(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function p(){}function g(){for(;$.length;)try{$.shift()()}catch(t){s(t)}a=null}function b(){null===a&&(a=l.defer(function(){y.$apply(g)}))}u.prototype={constructor:u,$new:function(t,e){function n(){i.$$destroyed=!0}var i;return e=e||this,t?(i=new u,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=++Pi,this.$$ChildScope=null},this.$$ChildScope.prototype=this),i=new this.$$ChildScope),i.$parent=e,i.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=i,e.$$childTail=i):e.$$childHead=e.$$childTail=i,(t||e!=this)&&i.$on("$destroy",n),i},$watch:function(t,e,i){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,i,r);var o=this.$$watchers,a={fn:e,last:p,get:r,exp:t,eq:!!i};return n=null,w(e)||(a.fn=d),o||(o=this.$$watchers=[]),o.unshift(a),function(){k(o,a),n=null}},$watchGroup:function(t,e){function n(){c=!1,l?(l=!1,e(r,r,s)):e(r,i,s)}var i=Array(t.length),r=Array(t.length),a=[],s=this,c=!1,l=!0;if(!t.length){var u=!0;return s.$evalAsync(function(){u&&e(r,r,s)}),function(){u=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){r[e]=t,i[e]=o,c||(c=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){i=t;var e,n,a,s;if(!m(i)){if(v(i))if(r(i))for(o!==d&&(o=d,g=o.length=0,u++),t=i.length,g!==t&&(u++,o.length=g=t),e=0;t>e;e++)s=o[e],a=i[e],n=s!==s&&a!==a,n||s===a||(u++,o[e]=a);else{o!==f&&(o=f={},g=0,u++),t=0;for(e in i)i.hasOwnProperty(e)&&(t++,a=i[e],s=o[e],e in o?(n=s!==s&&a!==a,n||s===a||(u++,o[e]=a)):(g++,o[e]=a,u++));if(g>t)for(e in u++,o)i.hasOwnProperty(e)||(g--,delete o[e])}else o!==i&&(o=i,u++);return u}}n.$stateful=!0;var i,o,a,s=this,l=1<e.length,u=0,h=c(t,n),d=[],f={},p=!0,g=0;return this.$watch(h,function(){if(p?(p=!1,e(i,i,s)):e(i,a,s),l)if(v(i))if(r(i)){a=Array(i.length);for(var t=0;t<i.length;t++)a[t]=i[t]}else for(t in a={},i)_i.call(i,t)&&(a[t]=i[t]);else a=i})},$digest:function(){var i,r,o,c,u,d,f,m,v,b=t,$=[];h("$digest"),l.$$checkUrlChange(),this===y&&null!==a&&(l.defer.cancel(a),g()),n=null;do{for(d=!1,f=this;x.length;){try{v=x.shift(),v.scope.$eval(v.expression,v.locals)}catch(_){s(_)}n=null}t:do{if(c=f.$$watchers)for(u=c.length;u--;)try{if(i=c[u])if((r=i.get(f))===(o=i.last)||(i.eq?P(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){d=!1;break t}}else d=!0,n=i,i.last=i.eq?M(r,null):r,i.fn(r,o===p?r:o,f),5>b&&(m=4-b,$[m]||($[m]=[]),$[m].push({msg:w(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:r,oldVal:o}))}catch(E){s(E)}if(!(c=f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(c=f.$$nextSibling);)f=f.$parent}while(f=c);if((d||x.length)&&!b--)throw y.$$phase=null,e("infdig",t,$)}while(d||x.length);for(y.$$phase=null;C.length;)try{C.shift()()}catch(S){s(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var e in this.$$listenerCount)f(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){y.$$phase||x.length||l.defer(function(){x.length&&y.$digest()}),x.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{return h("$apply"),this.$eval(t)}catch(e){s(e)}finally{y.$$phase=null;try{y.$digest()}catch(n){throw s(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&$.push(e),b()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,f(r,1,t))}},$emit:function(t){var e,n,i,r=[],o=this,a=!1,c={name:t,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=I([c],arguments,1);do{for(e=o.$$listeners[t]||r,c.currentScope=o,n=0,i=e.length;i>n;n++)if(e[n])try{e[n].apply(null,l)}catch(u){s(u)}else e.splice(n,1),n--,i--;if(a)return c.currentScope=null,c;o=o.$parent}while(o);return c.currentScope=null,c},$broadcast:function(t){var e=this,n=this,i={name:t,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return i;for(var r,o,a=I([i],arguments,1);e=n;){for(i.currentScope=e,n=e.$$listeners[t]||[],r=0,o=n.length;o>r;r++)if(n[r])try{n[r].apply(null,a)}catch(c){s(c)}else n.splice(r,1),r--,o--;if(!(n=e.$$listenerCount[t]&&e.$$childHead||e!==this&&e.$$nextSibling))for(;e!==this&&!(n=e.$$nextSibling);)e=e.$parent}return i.currentScope=null,i}};var y=new u,x=y.$$asyncQueue=[],C=y.$$postDigestQueue=[],$=y.$$applyAsyncQueue=[];return y}]}function In(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Wn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Dn(t){if("self"===t)return t;if(b(t)){if(-1<t.indexOf("***"))throw jr("iwcard",t);return t=ji(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw jr("imatcher")}function Nn(t){var e=[];return g(t)&&o(t,function(t){e.push(Dn(t))}),e}function jn(){this.SCE_CONTEXTS=Hr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Nn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Nn(t)),e},this.$get=["$injector",function(i){function r(t,e){return"self"===t?zn(e):!!t.exec(e.href)}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var a=function(){throw jr("unsafe")};i.has("$sanitize")&&(a=i.get("$sanitize"));var s=o(),c={};return c[Hr.HTML]=o(s),c[Hr.CSS]=o(s),c[Hr.URL]=o(s),c[Hr.JS]=o(s),c[Hr.RESOURCE_URL]=o(c[Hr.URL]),{trustAs:function(t,e){var i=c.hasOwnProperty(t)?c[t]:null;if(!i)throw jr("icontext",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw jr("itype",t);return new i(e)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var s=c.hasOwnProperty(i)?c[i]:null;if(s&&o instanceof s)return o.$$unwrapTrustedValue();if(i===Hr.RESOURCE_URL){var l,u,s=Wn(o.toString()),h=!1;for(l=0,u=t.length;u>l;l++)if(r(t[l],s)){h=!0;break}if(h)for(l=0,u=e.length;u>l;l++)if(r(e[l],s)){h=!1;break}if(h)return o;throw jr("insecurl",o.toString())}if(i===Hr.HTML)return a(o);throw jr("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function Hn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>bi)throw jr("iequirks");var i=O(Hr);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=f),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(Hr,function(t,e){var n=$i(e);i[oe("parse_as_"+n)]=function(e){return r(t,e)},i[oe("get_trusted_"+n)]=function(e){return a(t,e)},i[oe("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function Ln(){this.$get=["$window","$document",function(t,e){var n,i={},r=h((/android (\d+)/.exec($i((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,c=a.body&&a.body.style,l=!1,u=!1;if(c){for(var d in c)if(l=s.exec(d)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),u=!!("animation"in c||n+"Animation"in c),!r||l&&u||(l=b(a.body.style.webkitTransition),u=b(a.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>r||o),hasEvent:function(t){if("input"===t&&11>=bi)return!1;if(m(i[t])){var e=a.createElement("div");i[t]="on"+t in e}return i[t]},csp:Hi(),vendorPrefix:n,transitions:l,animations:u,android:r}}]}function Rn(){this.$get=["$templateCache","$http","$q",function(t,e,n){function i(r,o){i.totalPendingRequests++;var a=e.defaults&&e.defaults.transformResponse;return Di(a)?a=a.filter(function(t){return t!==Ue}):a===Ue&&(a=null),e.get(r,{cache:t,transformResponse:a}).then(function(t){return i.totalPendingRequests--,t.data},function(t){if(i.totalPendingRequests--,!o)throw dr("tpload",r);return n.reject(t)})}return i.totalPendingRequests=0,i}]}function Fn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var i=[];return o(t,function(t){var r=Oi.element(t).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+ji(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!=r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function Bn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,c){var l=g(c)&&!c,u=(l?i:n).defer(),h=u.promise;return s=e.defer(function(){try{u.resolve(o())}catch(e){u.reject(e),r(e)}finally{delete a[h.$$timeoutId]}l||t.$apply()},s),h.$$timeoutId=s,a[s]=u,h}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Wn(t){return bi&&(Lr.setAttribute("href",t),t=Lr.href),Lr.setAttribute("href",t),{href:Lr.href,protocol:Lr.protocol?Lr.protocol.replace(/:$/,""):"",host:Lr.host,search:Lr.search?Lr.search.replace(/^\?/,""):"",hash:Lr.hash?Lr.hash.replace(/^#/,""):"",hostname:Lr.hostname,port:Lr.port,pathname:"/"===Lr.pathname.charAt(0)?Lr.pathname:"/"+Lr.pathname}}function zn(t){return t=b(t)?Wn(t):t,t.protocol===Rr.protocol&&t.host===Rr.host}function qn(){this.$get=p(t)}function Vn(t){function e(n,i){if(v(n)){var r={};return o(n,function(t,n){r[n]=e(n,t)}),r}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",Gn),e("date",ii),e("filter",Un),e("json",ri),e("limitTo",oi),e("lowercase",qr),e("number",Kn),e("orderBy",ai),e("uppercase",Vr)}function Un(){return function(t,e,n){if(!Di(t))return t;var i;switch(typeof e){case"function":break;case"boolean":case"number":case"string":i=!0;case"object":e=Yn(e,n,i);break;default:return t}return t.filter(e)}}function Yn(t,e,n){var i=v(t)&&"$"in t;return!0===e?e=P:w(e)||(e=function(t,e){return v(t)||v(e)?!1:(t=$i(""+t),e=$i(""+e),-1!==t.indexOf(e))}),function(r){return i&&!v(r)?Xn(r,t.$,e,!1):Xn(r,t,e,n)}}function Xn(t,e,n,i,r){var o=typeof t,a=typeof e;if("string"===a&&"!"===e.charAt(0))return!Xn(t,e.substring(1),n,i);if(Di(t))return t.some(function(t){return Xn(t,e,n,i)});switch(o){case"object":var s;if(i){for(s in t)if("$"!==s.charAt(0)&&Xn(t[s],e,n,!0))return!0;return r?!1:Xn(t,e,n,!1)}if("object"===a){for(s in e)if(r=e[s],!w(r)&&(o="$"===s,!Xn(o?t:t[s],r,n,o,o)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Gn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return m(n)&&(n=e.CURRENCY_SYM),m(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Jn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Kn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Jn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Jn(t,e,n,i,r){if(!isFinite(t)||v(t))return"";var o=0>t;t=Math.abs(t);var a=t+"",s="",c=[],l=!1;if(-1!==a.indexOf("e")){var u=a.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?t=0:(s=a,l=!0)}if(l)r>0&&1>t&&(s=t.toFixed(r),t=parseFloat(s));else{a=(a.split(Fr)[1]||"").length,m(r)&&(r=Math.min(Math.max(e.minFrac,a),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var a=(""+t).split(Fr),l=a[0],a=a[1]||"",h=0,d=e.lgSize,f=e.gSize;if(l.length>=d+f)for(h=l.length-d,u=0;h>u;u++)0===(h-u)%f&&0!==u&&(s+=n),s+=l.charAt(u);for(u=h;u<l.length;u++)0===(l.length-u)%d&&0!==u&&(s+=n),s+=l.charAt(u);for(;a.length<r;)a+="0";r&&"0"!==r&&(s+=i+a.substr(0,r))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf),c.join("")}function Zn(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Qn(t,e,n,i){return n=n||0,function(r){return r=r["get"+t](),(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),Zn(r,e,i)}}function ti(t,e){return function(n,i){var r=n["get"+t](),o=Ei(e?"SHORT"+t:t);return i[o][r]}}function ei(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function ni(t){return function(e){var n=ei(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,e=1+Math.round(e/6048e5),Zn(e,t)}}function ii(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var i=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=h(e[9]+e[10]),r=h(e[9]+e[11])),o.call(t,h(e[1]),h(e[2])-1,h(e[3])),i=h(e[4]||0)-i,r=h(e[5]||0)-r,o=h(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),a.call(t,i,r,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,c="",l=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,b(n)&&(n=zr.test(n)?h(n):e(n)),y(n)&&(n=new Date(n)),!x(n))return n;for(;i;)(s=Wr.exec(i))?(l=I(l,s,1),i=l.pop()):(l.push(i),i=null);return r&&"UTC"===r&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(l,function(e){a=Br[e],c+=a?a(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function ri(){return function(t,e){return m(e)&&(e=2),j(t,e)}}function oi(){return function(t,e){return y(t)&&(t=t.toString()),Di(t)||b(t)?(e=1/0===Math.abs(Number(e))?Number(e):h(e))?e>0?t.slice(0,e):t.slice(e):b(t)?"":[]:t}}function ai(t){return function(e,n,i){function o(t,e){return e?function(e,n){return t(n,e)}:t}function a(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function s(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),a(t))||"function"==typeof t.toString&&(t=t.toString(),a(t))?t:""}function c(t,e){var n=typeof t,i=typeof e;return n===i&&"object"===n&&(t=s(t),e=s(e)),n===i?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):i>n?-1:1}return r(e)?(n=Di(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,i=e||f;if(b(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return o(c,n);if(i=t(e),i.constant){var r=i();return o(function(t,e){return c(t[r],e[r])},n)}}return o(function(t,e){return c(i(t),i(e))},n)}),Si.call(e).sort(o(function(t,e){for(var i=0;i<n.length;i++){var r=n[i](t,e);if(0!==r)return r}return 0},i))):e}}function si(t){return w(t)&&(t={link:t}),t.restrict=t.restrict||"AC",p(t)}function ci(t,e,i,r,a){var s=this,c=[],l=s.$$parentForm=t.parent().controller("form")||Xr;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(c,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(c,function(t){t.$commitViewValue()})},s.$addControl=function(t){Q(t.$name,"input"),c.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),k(c,t)},gi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(k(i,n),0===i.length&&delete t[e])},parentForm:l,$animate:r}),s.$setDirty=function(){r.removeClass(t,Mo),r.addClass(t,Oo),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){r.setClass(t,Mo,Oo+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(c,function(t){t.$setPristine()})},s.$setUntouched=function(){o(c,function(t){t.$setUntouched()})},s.$setSubmitted=function(){r.addClass(t,"ng-submitted"),s.$submitted=!0,l.$setSubmitted()}}function li(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ui(t,e,n,i,r,o){var a=$i(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var c=function(t){if(l&&(o.defer.cancel(l),l=null),!s){var r=e.val();t=t&&t.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Ni(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,t)}};if(r.hasEvent("input"))e.on("input",c);else{var l,u=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||u(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",u)}e.on("change",c),i.$render=function(){e.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function hi(t,e){return function(n,i){var r,a;if(x(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Zr.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function di(t,e,i,r){return function(o,a,s,c,l,u,h){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function f(t){return g(t)?x(t)?t:i(t):n}fi(o,a,s,c),ui(o,a,s,c,l,u);var p,v=c&&c.$options&&c.$options.timezone;if(c.$$parserName=t,c.$parsers.push(function(t){return c.$isEmpty(t)?null:e.test(t)?(t=i(t,p),"UTC"===v&&t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t):n}),c.$formatters.push(function(t){if(t&&!x(t))throw Io("datefmt",t);if(d(t)){if((p=t)&&"UTC"===v){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return h("date")(t,r,v)}return p=null,""}),g(s.min)||s.ngMin){var b;c.$validators.min=function(t){return!d(t)||m(b)||i(t)>=b},s.$observe("min",function(t){b=f(t),c.$validate()})}if(g(s.max)||s.ngMax){var y;c.$validators.max=function(t){return!d(t)||m(y)||i(t)<=y},s.$observe("max",function(t){y=f(t),c.$validate()})}}}function fi(t,e,i,r){(r.$$hasNativeValidators=v(e[0].validity))&&r.$parsers.push(function(t){var i=e.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:t})}function pi(t,e,n,r,o){if(g(r)){if(t=t(r),!t.constant)throw i("ngModel")("constexpr",n,r);return t(e)}return o}function mi(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){if(!Di(t)){if(b(t))return t.split(" ");if(v(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}}return t}return{restrict:"AC",link:function(a,s,c){function l(t,e){var n=s.data("$classCounts")||{},i=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),s.data("$classCounts",n),i.join(" ")}function u(t){if(!0===e||a.$index%2===e){var o=r(t||[]);if(h){if(!P(t,h)){var u=r(h),d=i(o,u),o=i(u,o),d=l(d,1),o=l(o,-1);d&&d.length&&n.addClass(s,d),o&&o.length&&n.removeClass(s,o)}}else{var d=l(o,1);c.$addClass(d)}}h=O(t)}var h;a.$watch(c[t],u,!0),c.$observe("class",function(){u(a.$eval(c[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(c[t]));o===e?(o=l(s,1),c.$addClass(o)):(o=l(s,-1),c.$removeClass(o))}})}}}]}function gi(t){function e(t,e){e&&!a[t]?(u.addClass(o,t),a[t]=!0):!e&&a[t]&&(u.removeClass(o,t),a[t]=!1)}function i(t,n){t=t?"-"+G(t,"-"):"",e(Ao+t,!0===n),e(ko+t,!1===n)}var r=t.ctrl,o=t.$element,a={},s=t.set,c=t.unset,l=t.parentForm,u=t.$animate;a[ko]=!(a[Ao]=o.hasClass(Ao)),r.$setValidity=function(t,o,a){o===n?(r.$pending||(r.$pending={}),s(r.$pending,t,a)):(r.$pending&&c(r.$pending,t,a),vi(r.$pending)&&(r.$pending=n)),E(o)?o?(c(r.$error,t,a),s(r.$$success,t,a)):(s(r.$error,t,a),c(r.$$success,t,a)):(c(r.$error,t,a),c(r.$$success,t,a)),r.$pending?(e(Po,!0),r.$valid=r.$invalid=n,i("",null)):(e(Po,!1),r.$valid=vi(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[t]?n:r.$error[t]?!1:r.$$success[t]?!0:null,i(t,o),l.$setValidity(t,o,r)}}function vi(t){if(t)for(var e in t)return!1;return!0}var bi,yi,xi,wi,Ci=/^\/(.+)\/([a-z]*)$/,$i=function(t){return b(t)?t.toLowerCase():t},_i=Object.prototype.hasOwnProperty,Ei=function(t){return b(t)?t.toUpperCase():t},Si=[].slice,Ti=[].splice,Ai=[].push,ki=Object.prototype.toString,Mi=i("ng"),Oi=t.angular||(t.angular={}),Pi=0;bi=e.documentMode,d.$inject=[],f.$inject=[];var Ii,Di=Array.isArray,Ni=function(t){return b(t)?t.trim():t},ji=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Hi=function(){if(g(Hi.isActive_))return Hi.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return Hi.isActive_=t},Li=["ng-","data-ng-","ng:","x-ng-"],Ri=/[A-Z]/g,Fi=!1,Bi=1,Wi=3,zi={full:"1.3.9",major:1,minor:3,dot:9,codeName:"multidimensional-awareness"};ce.expando="ng339";var qi=ce.cache={},Vi=1;ce._data=function(t){return this.cache[t[this.expando]]||{}};var Ui=/([\:\-\_]+(.))/g,Yi=/^moz([A-Z])/,Xi={mouseleave:"mouseout",mouseenter:"mouseover"},Gi=i("jqLite"),Ki=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ji=/<|&#?\w+;/,Zi=/<([\w:]+)/,Qi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};tr.optgroup=tr.option,tr.tbody=tr.tfoot=tr.colgroup=tr.caption=tr.thead,tr.th=tr.td;var er=ce.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ce(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return yi(t>=0?this[t]:this[this.length+t])},length:0,push:Ai,sort:[].sort,splice:[].splice},nr={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){nr[$i(t)]=t});var ir={};o("input select option textarea button form details".split(" "),function(t){ir[t]=!0});var rr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:pe,removeData:de},function(t,e){ce[e]=t}),o({data:pe,inheritedData:xe,scope:function(t){return yi.data(t,"$scope")||xe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return yi.data(t,"$isolateScope")||yi.data(t,"$isolateScopeNoTemplate")},controller:ye,injector:function(t){return xe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:me,css:function(t,e,n){return e=oe(e),g(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=$i(e);if(nr[r]){if(!g(i))return t[e]||(t.attributes.getNamedItem(e)||d).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(g(i))t.setAttribute(e,i);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){return g(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return n===Bi||n===Wi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===A(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(ue(t,!0),void(t.innerHTML=e))},empty:we},function(t,e){ce.prototype[e]=function(e,i){var r,o,a=this.length;if(t!==we&&(2==t.length&&t!==me&&t!==ye?e:i)===n){if(v(e)){for(r=0;a>r;r++)if(t===pe)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}for(r=t.$dv,a=r===n?Math.min(a,1):a,o=0;a>o;o++){var s=t(this[o],e,i);r=r?r+s:s}return r}for(r=0;a>r;r++)t(this[r],e,i);return this}}),o({removeData:de,on:function ra(t,e,n,i){if(g(i))throw Gi("onargs");if(ae(t)){var r=fe(t,!0);i=r.events;var o=r.handle;o||(o=r.handle=Se(t,i));for(var r=0<=e.indexOf(" ")?e.split(" "):[e],a=r.length;a--;){e=r[a];var s=i[e];s||(i[e]=[],"mouseenter"===e||"mouseleave"===e?ra(t,Xi[e],function(t){var n=t.relatedTarget;n&&(n===this||this.contains(n))||o(t,e)}):"$destroy"!==e&&t.addEventListener(e,o,!1),s=i[e]),s.push(n)}}},off:he,one:function(t,e,n){t=yi(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;ue(t),o(new ce(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e
})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Bi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Bi||11===n){e=new ce(e);for(var n=0,i=e.length;i>n;n++)t.appendChild(e[n])}},prepend:function(t,e){if(t.nodeType===Bi){var n=t.firstChild;o(new ce(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=yi(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Ce,detach:function(t){Ce(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new ce(e);for(var r=0,o=e.length;o>r;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:ve,removeClass:ge,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;m(i)&&(i=!me(t,e)),(i?ve:ge)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:le,triggerHandler:function(t,e,n){var i,r,a=e.type||e,s=fe(t);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:d,type:a,target:t},e.type&&(i=u(i,e)),e=O(s),r=n?[i].concat(n):[i],o(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){ce.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;a>o;o++)m(r)?(r=t(this[o],e,n,i),g(r)&&(r=yi(r))):be(r,t(this[o],e,n,i));return g(r)?r:this},ce.prototype.bind=ce.prototype.on,ce.prototype.unbind=ce.prototype.off}),ke.prototype={put:function(t,e){this[Ae(t,this.nextUid)]=e},get:function(t){return this[Ae(t,this.nextUid)]},remove:function(t){var e=this[t=Ae(t,this.nextUid)];return delete this[t],e}};var or=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,ar=/,/,sr=/^\s*(_?)(\S+?)\1\s*$/,cr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,lr=i("$injector");Pe.$$annotate=Oe;var ur=i("$animate"),hr=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var i=e+"-animation";if(e&&"."!=e.charAt(0))throw ur("notcsel",e);this.$$selectors[e.substr(1)]=i,t.factory(i,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function i(e){var i,r=t.defer();return r.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=e(function(){r.resolve()})}),r.promise}function r(t,e){var n=[],i=[],r=ne();return o((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0}),o(e,function(t,e){var o=r[e];!1===t&&o?i.push(e):!0!==t||o||n.push(e)}),0<n.length+i.length&&[n.length?n:null,i.length?i:null]}function a(t,e,n){for(var i=0,r=e.length;r>i;++i)t[e[i]]=n}function s(){return l||(l=t.defer(),e(function(){l.resolve(),l=null})),l.promise}function c(t,e){if(Oi.isObject(e)){var n=u(e.from||{},e.to||{});t.css(n)}}var l;return{animate:function(t,e,n){return c(t,{from:e,to:n}),s()},enter:function(t,e,n,i){return c(t,i),n?n.after(t):e.prepend(t),s()},leave:function(t){return t.remove(),s()},move:function(t,e,n,i){return this.enter(t,e,n,i)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=yi(t),e=b(e)?e:Di(e)?e.join(" "):"",o(t,function(t){ve(t,e)}),c(t,n),s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=yi(t),e=b(e)?e:Di(e)?e.join(" "):"",o(t,function(t){ge(t,e)}),c(t,n),s()},setClass:function(t,e,n,o){var s=this,c=!1;t=yi(t);var l=t.data("$$animateClasses");return l?o&&l.options&&(l.options=Oi.extend(l.options||{},o)):(l={classes:{},options:o},c=!0),o=l.classes,e=Di(e)?e:e.split(" "),n=Di(n)?n:n.split(" "),a(o,e,!0),a(o,n,!1),c&&(l.promise=i(function(e){var n=t.data("$$animateClasses");if(t.removeData("$$animateClasses"),n){var i=r(t,n.classes);i&&s.$$setClassImmediately(t,i[0],i[1],n.options)}e()}),t.data("$$animateClasses",l)),l.promise},$$setClassImmediately:function(t,e,n,i){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),c(t,i),s()},enabled:d,cancel:d}}]}],dr=i("$compile");Re.$inject=["$provide","$$sanitizeUriProvider"];var fr=/^((?:x|data)[\:\-_])/i,pr="application/json",mr={"Content-Type":pr+";charset=utf-8"},gr=/^\[|^\{(?!\{)/,vr={"[":/]$/,"{":/}$/},br=/^\)\]\}',?\n/,yr=i("$interpolate"),xr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,wr={http:80,https:443,ftp:21},Cr=i("$location"),$r={$$html5:!1,$$replace:!1,absUrl:pn("$$absUrl"),url:function(t){if(m(t))return this.$$url;var e=xr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:pn("$$protocol"),host:pn("$$host"),port:pn("$$port"),path:mn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(b(t)||y(t))t=t.toString(),this.$$search=F(t);else{if(!v(t))throw Cr("isrcharg");t=M(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:mn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([fn,dn,hn],function(t){t.prototype=Object.create($r),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==hn||!this.$$html5)throw Cr("nostate");return this.$$state=m(e)?null:e,this}});var _r=i("$parse"),Er=Function.prototype.call,Sr=Function.prototype.apply,Tr=Function.prototype.bind,Ar=ne();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,Ar[e]=t}),Ar["this"]=function(t){return t},Ar["this"].sharedGetter=!0;var kr=u(ne(),{"+":function(t,e,i,r){return i=i(t,e),r=r(t,e),g(i)?g(r)?i+r:i:g(r)?r:n},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(g(n)?n:0)-(g(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),Mr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Or=function(t){this.options=t};Or.prototype={constructor:Or,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=kr[e],r=kr[n];kr[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=g(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,_r("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=$i(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=Mr[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Pr=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};Pr.ZERO=u(function(){return 0},{sharedGetter:!0,constant:!0}),Pr.prototype={constructor:Pr,parse:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in Ar?t=Ar[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw _r("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw _r("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){t=this.tokens[t];var o=t.text;if(o===e||o===n||o===i||o===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return(t=this.peek(t,e,n,i))?(this.tokens.shift(),t):!1},consume:function(t){if(0===this.tokens.length)throw _r("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=kr[t];return u(function(t,i){return n(t,i,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,i){var r=kr[e];return u(function(e,i){return r(e,i,t,n)},{constant:t.constant&&n.constant,inputs:!i&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return En(t,this.options,this.text)},constant:function(){var t=this.consume().value;return u(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var i,r=0,o=t.length;o>r;r++)i=t[r](e,n);return i}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},filter:function(t){var e,i,r=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],i=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return u(function(o,a){var s=t(o,a);if(i){for(i[0]=s,s=e.length;s--;)i[s+1]=e[s](o,a);return r.apply(n,i)}return r(s)},{constant:!r.$stateful&&o.every(xn),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),u(function(e,i){return n.assign(e,t(e,i),i)},{inputs:[n,t]})):n},ternary:function(){var t,e=this.logicalOR();if(this.expect("?")&&(t=this.assignment(),this.consume(":"))){var n=this.assignment();return u(function(i,r){return e(i,r)?t(i,r):n(i,r)},{constant:e.constant&&t.constant&&n.constant})}return e},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(Pr.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return u(function(i,r,o){return i=o||t(i,r),null==i?n:e(i)},{assign:function(n,i,r){var o=t(n,r);return o||t.assign(n,o={},r),e.assign(o,i)}})},objectIndex:function(t){var e=this.text,i=this.expression();return this.consume("]"),u(function(r,o){var a=t(r,o),s=i(r,o);return bn(s,e),a?yn(a[s],e):n},{assign:function(n,r,o){var a=bn(i(n,o),e),s=yn(t(n,o),e);return s||t.assign(n,s={},o),s[a]=r}})},functionCall:function(t,e){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=i.length?[]:null;return function(a,s){var c=e?e(a,s):g(e)?n:a,l=t(a,s,c)||d;if(o)for(var u=i.length;u--;)o[u]=yn(i[u](a,s),r);if(yn(c,r),l){if(l.constructor===l)throw _r("isecfn",r);if(l===Er||l===Sr||l===Tr)throw _r("isecff",r)}return c=l.apply?l.apply(c,o):l(o[0],o[1],o[2],o[3],o[4]),yn(c,r)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),u(function(e,n){for(var i=[],r=0,o=t.length;o>r;r++)i.push(t[r](e,n));return i},{literal:!0,constant:t.every(xn),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),u(function(n,i){for(var r={},o=0,a=e.length;a>o;o++)r[t[o]]=e[o](n,i);return r},{literal:!0,constant:e.every(xn),inputs:e})}};var Ir=ne(),Dr=ne(),Nr=Object.prototype.valueOf,jr=i("$sce"),Hr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},dr=i("$compile"),Lr=e.createElement("a"),Rr=Wn(t.location.href);Vn.$inject=["$provide"],Gn.$inject=["$locale"],Kn.$inject=["$locale"];var Fr=".",Br={yyyy:Qn("FullYear",4),yy:Qn("FullYear",2,0,!0),y:Qn("FullYear",1),MMMM:ti("Month"),MMM:ti("Month",!0),MM:Qn("Month",2,1),M:Qn("Month",1,1),dd:Qn("Date",2),d:Qn("Date",1),HH:Qn("Hours",2),H:Qn("Hours",1),hh:Qn("Hours",2,-12),h:Qn("Hours",1,-12),mm:Qn("Minutes",2),m:Qn("Minutes",1),ss:Qn("Seconds",2),s:Qn("Seconds",1),sss:Qn("Milliseconds",3),EEEE:ti("Day"),EEE:ti("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){return t=-1*t.getTimezoneOffset(),t=(t>=0?"+":"")+(Zn(Math[t>0?"floor":"ceil"](t/60),2)+Zn(Math.abs(t%60),2))},ww:ni(2),w:ni(1)},Wr=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,zr=/^\-?\d+$/;ii.$inject=["$locale"];var qr=p($i),Vr=p(Ei);ai.$inject=["$parse"];var Ur=p({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){var n="[object SVGAnimatedString]"===ki.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}),Yr={};o(nr,function(t,e){if("multiple"!=t){var n=Fe("ng-"+e);Yr[n]=function(){return{restrict:"A",priority:100,link:function(t,i,r){t.$watch(r[n],function(t){r.$set(e,!!t)})}}}}}),o(rr,function(t,e){Yr[e]=function(){return{priority:100,link:function(t,n,i){return"ngPattern"===e&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Ci))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Fe("ng-"+t);Yr[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===ki.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){e?(r.$set(a,e),bi&&o&&i.prop(o,r[a])):"href"===t&&r.$set(a,null)})}}}});var Xr={$addControl:d,$$renameControl:function(t,e){t.$name=e},$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d};ci.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Gr=function(t){return["$timeout",function(e){return{name:"form",restrict:t?"EAC":"E",controller:ci,compile:function(t){return t.addClass(Mo).addClass(Ao),{pre:function(t,i,r,o){if(!("action"in r)){var a=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault()};i[0].addEventListener("submit",a,!1),i.on("$destroy",function(){e(function(){i[0].removeEventListener("submit",a,!1)},0,!1)})}var s=o.$$parentForm,c=o.$name;c&&(wn(t,null,c,o,c),r.$observe(r.name?"name":"ngForm",function(e){c!==e&&(wn(t,null,c,n,c),c=e,wn(t,null,c,o,c),s.$$renameControl(o,c))})),i.on("$destroy",function(){s.$removeControl(o),c&&wn(t,null,c,n,c),u(o,Xr)})}}}}}]},Kr=Gr(),Jr=Gr(!0),Zr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Qr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,to=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,eo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,no=/^(\d{4})-(\d{2})-(\d{2})$/,io=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ro=/^(\d{4})-W(\d\d)$/,oo=/^(\d{4})-(\d\d)$/,ao=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,so={text:function(t,e,n,i,r,o){ui(t,e,n,i,r,o),li(i)},date:di("date",no,hi(no,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":di("datetimelocal",io,hi(io,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:di("time",ao,hi(ao,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:di("week",ro,function(t,e){if(x(t))return t;if(b(t)){ro.lastIndex=0;var n=ro.exec(t);if(n){var i=+n[1],r=+n[2],o=n=0,a=0,s=0,c=ei(i),r=7*(r-1);return e&&(n=e.getHours(),o=e.getMinutes(),a=e.getSeconds(),s=e.getMilliseconds()),new Date(i,0,c.getDate()+r,n,o,a,s)}}return 0/0},"yyyy-Www"),month:di("month",oo,hi(oo,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,r,o,a){if(fi(t,e,i,r),ui(t,e,i,r,o,a),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:eo.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!y(t))throw Io("numfmt",t);t=t.toString()}return t}),i.min||i.ngMin){var s;r.$validators.min=function(t){return r.$isEmpty(t)||m(s)||t>=s},i.$observe("min",function(t){g(t)&&!y(t)&&(t=parseFloat(t,10)),s=y(t)&&!isNaN(t)?t:n,r.$validate()})}if(i.max||i.ngMax){var c;r.$validators.max=function(t){return r.$isEmpty(t)||m(c)||c>=t},i.$observe("max",function(t){g(t)&&!y(t)&&(t=parseFloat(t,10)),c=y(t)&&!isNaN(t)?t:n,r.$validate()})}},url:function(t,e,n,i,r,o){ui(t,e,n,i,r,o),li(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Qr.test(n)}},email:function(t,e,n,i,r,o){ui(t,e,n,i,r,o),li(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||to.test(n)}},radio:function(t,e,n,i){m(n.name)&&e.attr("name",++Pi),e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,r,o,a,s){var c=pi(s,t,"ngTrueValue",n.ngTrueValue,!0),l=pi(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return P(t,c)}),i.$parsers.push(function(t){return t?c:l})},hidden:d,button:d,submit:d,reset:d,file:d},co=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(so[$i(a.type)]||so.text)(r,o,a,s[0],e,t,n,i)}}}}],lo=/^(true|false|\d+)$/,uo=function(){return{restrict:"A",priority:100,compile:function(t,e){return lo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},ho=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,r){t.$$addBindingInfo(i,r.ngBind),i=i[0],e.$watch(r.ngBind,function(t){i.textContent=t===n?"":t})}}}}],fo=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,r,o){i=t(r.attr(o.$attr.ngBindTemplate)),e.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(t){r.textContent=t===n?"":t})}}}}],po=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){i.html(t.getTrustedHtml(o(e))||"")})}}}}],mo=p({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),go=mi("",!0),vo=mi("Odd",0),bo=mi("Even",1),yo=si({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),xo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],wo={},Co={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Fe("ng-"+t);wo[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};Co[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var $o=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,c,l;n.$watch(r.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=ee(s.clone),t.leave(l).then(function(){l=null}),s=null))})}}}],_o=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Oi.noop,compile:function(r,o){var a=o.ngInclude||o.src,s=o.onload||"",c=o.autoscroll;return function(r,o,l,u,h){var d,f,p,m=0,v=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then(function(){f=null}),f=p,p=null)};r.$watch(i.parseAsResourceUrl(a),function(i){var a=function(){!g(c)||c&&!r.$eval(c)||e()},l=++m;i?(t(i,!0).then(function(t){if(l===m){var e=r.$new();u.template=t,t=h(e,function(t){v(),n.enter(t,null,o).then(a)}),d=e,p=t,d.$emit("$includeContentLoaded",i),r.$eval(s)}},function(){l===m&&(v(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(v(),u.template=null)})}}}}],Eo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),t(se(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),t(i.contents())(n))}}}],So=si({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),To=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var a=e.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,c=s?Ni(a):a;r.$parsers.push(function(t){if(!m(t)){var e=[];return t&&o(t.split(c),function(t){t&&e.push(s?Ni(t):t)}),e}}),r.$formatters.push(function(t){return Di(t)?t.join(a):n}),r.$isEmpty=function(t){return!t||!t.length}}}},Ao="ng-valid",ko="ng-invalid",Mo="ng-pristine",Oo="ng-dirty",Po="ng-pending",Io=new i("ngModel"),Do=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,a,s,c,l,u,h){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t);var f=a(i.ngModel),p=f.assign,v=f,b=p,x=null,C=this;this.$$setOptions=function(t){if((C.$options=t)&&t.getterSetter){var e=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");v=function(t){var n=f(t);return w(n)&&(n=e(t)),n},b=function(t){w(f(t))?n(t,{$$$p:C.$modelValue}):p(t,C.$modelValue)}}else if(!f.assign)throw Io("nonassign",i.ngModel,L(r))},this.$render=d,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t};var $=r.inheritedData("$formController")||Xr,_=0;gi({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:$,$animate:s}),this.$setPristine=function(){C.$dirty=!1,C.$pristine=!0,s.removeClass(r,Oo),s.addClass(r,Mo)},this.$setDirty=function(){C.$dirty=!0,C.$pristine=!1,s.removeClass(r,Mo),s.addClass(r,Oo),$.$setDirty()},this.$setUntouched=function(){C.$touched=!1,C.$untouched=!0,s.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){C.$touched=!0,C.$untouched=!1,s.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){c.cancel(x),C.$viewValue=C.$$lastCommittedViewValue,C.$render()},this.$validate=function(){if(!y(C.$modelValue)||!isNaN(C.$modelValue)){var t=C.$$rawModelValue,e=C.$valid,i=C.$modelValue,r=C.$options&&C.$options.allowInvalid;C.$$runValidators(C.$error[C.$$parserName||"parse"]?!1:n,t,C.$$lastCommittedViewValue,function(o){r||e===o||(C.$modelValue=o?t:n,C.$modelValue!==i&&C.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i,r){function a(){var t=!0;return o(C.$validators,function(n,r){var o=n(e,i);t=t&&o,c(r,o)}),t?!0:(o(C.$asyncValidators,function(t,e){c(e,null)}),!1)}function s(){var t=[],r=!0;o(C.$asyncValidators,function(o,a){var s=o(e,i);if(!s||!w(s.then))throw Io("$asyncValidators",s);c(a,n),t.push(s.then(function(){c(a,!0)},function(){r=!1,c(a,!1)}))}),t.length?u.all(t).then(function(){l(r)},d):l(!0)}function c(t,e){h===_&&C.$setValidity(t,e)}function l(t){h===_&&r(t)}_++;var h=_;(function(t){var e=C.$$parserName||"parse";if(t===n)c(e,null);else if(c(e,t),!t)return o(C.$validators,function(t,e){c(e,null)}),o(C.$asyncValidators,function(t,e){c(e,null)}),!1;return!0})(t)&&a()?s():l(!1)},this.$commitViewValue=function(){var t=C.$viewValue;c.cancel(x),(C.$$lastCommittedViewValue!==t||""===t&&C.$$hasNativeValidators)&&(C.$$lastCommittedViewValue=t,C.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=C.$$lastCommittedViewValue,i=m(e)?n:!0;if(i)for(var r=0;r<C.$parsers.length;r++)if(e=C.$parsers[r](e),m(e)){i=!1;break}y(C.$modelValue)&&isNaN(C.$modelValue)&&(C.$modelValue=v(t));var o=C.$modelValue,a=C.$options&&C.$options.allowInvalid;C.$$rawModelValue=e,a&&(C.$modelValue=e,C.$modelValue!==o&&C.$$writeModelToScope()),C.$$runValidators(i,e,C.$$lastCommittedViewValue,function(t){a||(C.$modelValue=t?e:n,C.$modelValue!==o&&C.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(t,C.$modelValue),o(C.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){C.$viewValue=t,C.$options&&!C.$options.updateOnDefault||C.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n=0,i=C.$options;i&&g(i.debounce)&&(i=i.debounce,y(i)?n=i:y(i[e])?n=i[e]:y(i["default"])&&(n=i["default"])),c.cancel(x),n?x=c(function(){C.$commitViewValue()},n):l.$$phase?C.$commitViewValue():t.$apply(function(){C.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==C.$modelValue){C.$modelValue=C.$$rawModelValue=e;for(var i=C.$formatters,r=i.length,o=e;r--;)o=i[r](o);C.$viewValue!==o&&(C.$viewValue=C.$$lastCommittedViewValue=o,C.$render(),C.$$runValidators(n,e,o,d))}return e})}],No=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Do,priority:1,compile:function(e){return e.addClass(Mo).addClass("ng-untouched").addClass(Ao),{pre:function(t,e,n,i){var r=i[0],o=i[1]||Xr;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],jo=/(\s+|^)default(\s+|$)/,Ho=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var i=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ni(this.$options.updateOn.replace(jo,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Lo=si({terminal:!0,priority:1e3}),Ro=["$locale","$interpolate",function(t,e){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,a,s){function c(t){a.text(t||"")}var l,u=s.count,h=s.$attr.when&&a.attr(s.$attr.when),d=s.offset||0,f=r.$eval(h)||{},p={},h=e.startSymbol(),m=e.endSymbol(),g=h+u+"-"+d+m,v=Oi.noop;o(s,function(t,e){var n=i.exec(e);n&&(n=(n[1]?"-":"")+$i(n[2]),f[n]=a.attr(s.$attr[e]))}),o(f,function(t,i){p[i]=e(t.replace(n,g))}),r.$watch(u,function(e){e=parseFloat(e);var n=isNaN(e);n||e in f||(e=t.pluralCat(e-d)),e===l||n&&isNaN(l)||(v(),v=r.$watch(p[e],c),l=e)})}}}],Fo=["$parse","$animate",function(t,a){var s=i("ngRepeat"),c=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,l){var u=l.ngRepeat,h=e.createComment(" end ngRepeat: "+u+" "),d=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp",u);var f=d[1],p=d[2],m=d[3],g=d[4],d=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!d)throw s("iidexp",f);var v=d[3]||d[1],b=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(m)))throw s("badident",m);var y,x,w,C,$={$id:Ae};return g?y=t(g):(w=function(t,e){return Ae(e)},C=function(t){return t}),function(t,e,i,l,d){y&&(x=function(e,n,i){return b&&($[b]=e),$[v]=n,$.$index=i,y(t,$)});var f=ne();t.$watchCollection(p,function(i){var l,p,g,y,$,_,E,S,T,A,k=e[0],M=ne();
if(m&&(t[m]=i),r(i))S=i,p=x||w;else{p=x||C,S=[];for(A in i)i.hasOwnProperty(A)&&"$"!=A.charAt(0)&&S.push(A);S.sort()}for(y=S.length,A=Array(y),l=0;y>l;l++)if($=i===S?l:S[l],_=i[$],E=p($,_,l),f[E])T=f[E],delete f[E],M[E]=T,A[l]=T;else{if(M[E])throw o(A,function(t){t&&t.scope&&(f[t.id]=t)}),s("dupes",u,E,_);A[l]={id:E,scope:n,clone:n},M[E]=!0}for(g in f){if(T=f[g],E=ee(T.clone),a.leave(E),E[0].parentNode)for(l=0,p=E.length;p>l;l++)E[l].$$NG_REMOVED=!0;T.scope.$destroy()}for(l=0;y>l;l++)if($=i===S?l:S[l],_=i[$],T=A[l],T.scope){g=k;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);T.clone[0]!=g&&a.move(ee(T.clone),null,yi(k)),k=T.clone[T.clone.length-1],c(T.scope,l,v,_,b,$,y)}else d(function(t,e){T.scope=e;var n=h.cloneNode(!1);t[t.length++]=n,a.enter(t,null,yi(k)),k=n,T.clone=t,M[T.id]=T,c(T.scope,l,v,_,b,$,y)});f=M})}}}}],Bo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Wo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],zo=si(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)})}),qo=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=[],c=[],l=[],u=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=l.length;r>i;++i)t.cancel(l[i]);for(i=l.length=0,r=u.length;r>i;++i){var d=ee(c[i].clone);u[i].$destroy(),(l[i]=t.leave(d)).then(h(l,i))}c.length=0,u.length=0,(s=a.cases["!"+n]||a.cases["?"])&&o(s,function(n){n.transclude(function(i,r){u.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: "),c.push({clone:i}),t.enter(i,o.parent(),o)})})})}}}],Vo=si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Uo=si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Yo=si({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan",L(e));o(function(t){e.empty(),e.append(t)})}}),Xo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Go=i("ngOptions"),Ko=p({restrict:"A",terminal:!0}),Jo=["$compile","$parse",function(t,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var i,r=this,o={},s=a;r.databound=n.ngModel,r.init=function(t,e,n){s=t,i=n},r.addOption=function(e,n){Q(e,'"option value"'),o[e]=!0,s.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},r.removeOption=function(t){this.hasOption(t)&&(delete o[t],s.$viewValue===t&&this.renderUnknownOption(t))},r.renderUnknownOption=function(e){e="? "+Ae(e)+" ?",i.val(e),t.prepend(i),t.val(e),i.prop("selected",!0)},r.hasOption=function(t){return o.hasOwnProperty(t)},e.$on("$destroy",function(){r.renderUnknownOption=d})}],link:function(a,s,c,l){function u(t,e,n,i){n.$render=function(){var t=n.$viewValue;i.hasOption(t)?($.parent()&&$.remove(),e.val(t),""===t&&p.prop("selected",!0)):m(t)&&p?e.val(""):i.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){$.parent()&&$.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var i;n.$render=function(){var t=new ke(n.$viewValue);o(e.find("option"),function(e){e.selected=g(t.get(e.value))})},t.$watch(function(){P(i,n.$viewValue)||(i=O(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function d(e,a,s){function c(t,n,i){return I[$]=i,S&&(I[S]=n),t(e,I)}function l(t){var e;if(v)if(M&&Di(t)){e=new ke([]);for(var n=0;n<t.length;n++)e.put(c(M,null,t[n]),!0)}else e=new ke(t);else M&&(t=c(M,null,t));return function(n,i){var r;return r=M?M:E?E:A,v?g(e.remove(c(r,n,i))):t===c(r,n,i)}}function u(){x||(e.$$postDigest(d),x=!0)}function h(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function d(){x=!1;var t,n,i,r,u,d={"":[]},p=[""];i=s.$viewValue,r=k(e)||[];var b,$,_,E,A=S?Object.keys(r).sort():r,D={};u=l(i);var N,j,H=!1;for(O={},E=0;_=A.length,_>E;E++)b=E,S&&(b=A[E],"$"===b.charAt(0))||($=r[b],t=c(T,b,$)||"",(n=d[t])||(n=d[t]=[],p.push(t)),t=u(b,$),H=H||t,$=c(m,b,$),$=g($)?$:"",j=M?M(e,I):S?A[E]:E,M&&(O[j]=b),n.push({id:j,label:$,selected:t}));for(v||(y||null===i?d[""].unshift({id:"",label:"",selected:!H}):H||d[""].unshift({id:"?",label:"",selected:!0})),b=0,A=p.length;A>b;b++){for(t=p[b],n=d[t],P.length<=b?(i={element:C.clone().attr("label",t),label:n.label},r=[i],P.push(r),a.append(i.element)):(r=P[b],i=r[0],i.label!=t&&i.element.attr("label",i.label=t)),H=null,E=0,_=n.length;_>E;E++)t=n[E],(u=r[E+1])?(H=u.element,u.label!==t.label&&(h(D,u.label,!1),h(D,t.label,!0),H.text(u.label=t.label),H.prop("label",u.label)),u.id!==t.id&&H.val(u.id=t.id),H[0].selected!==t.selected&&(H.prop("selected",u.selected=t.selected),bi&&H.prop("selected",u.selected))):(""===t.id&&y?N=y:(N=w.clone()).val(t.id).prop("selected",t.selected).attr("selected",t.selected).prop("label",t.label).text(t.label),r.push(u={element:N,label:t.label,id:t.id,selected:t.selected}),h(D,t.label,!0),H?H.after(N):i.element.append(N),H=N);for(E++;r.length>E;)t=r.pop(),h(D,t.label,!1),t.element.remove()}for(;P.length>b;){for(n=P.pop(),E=1;E<n.length;++E)h(D,n[E].label,!1);n[0].element.remove()}o(D,function(t,e){t>0?f.addOption(e):0>t&&f.removeOption(e)})}var p;if(!(p=b.match(r)))throw Go("iexp",b,L(a));var m=i(p[2]||p[1]),$=p[4]||p[6],_=/ as /.test(p[0])&&p[1],E=_?i(_):null,S=p[5],T=i(p[3]||""),A=i(p[2]?p[1]:$),k=i(p[7]),M=p[8]?i(p[8]):null,O={},P=[[{element:a,label:""}]],I={};y&&(t(y)(e),y.removeClass("ng-scope"),y.remove()),a.empty(),a.on("change",function(){e.$apply(function(){var t,i=k(e)||[];if(v)t=[],o(a.val(),function(e){e=M?O[e]:e,t.push("?"===e?n:""===e?null:c(E?E:A,e,i[e]))});else{var r=M?O[a.val()]:a.val();t="?"===r?n:""===r?null:c(E?E:A,r,i[r])}s.$setViewValue(t),d()})}),s.$render=d,e.$watchCollection(k,u),e.$watchCollection(function(){var t,n=k(e);if(n&&Di(n)){t=Array(n.length);for(var i=0,r=n.length;r>i;i++)t[i]=c(m,i,n[i])}else if(n)for(i in t={},n)n.hasOwnProperty(i)&&(t[i]=c(m,i,n[i]));return t},u),v&&e.$watchCollection(function(){return s.$modelValue},u)}if(l[1]){var f=l[0];l=l[1];var p,v=c.multiple,b=c.ngOptions,y=!1,x=!1,w=yi(e.createElement("option")),C=yi(e.createElement("optgroup")),$=w.clone();c=0;for(var _=s.children(),E=_.length;E>c;c++)if(""===_[c].value){p=y=_.eq(c);break}f.init(l,y,$),v&&(l.$isEmpty=function(t){return!t||0===t.length}),b?d(a,s,l):v?h(a,s,l):u(a,s,l,f)}}}}],Zo=["$interpolate",function(t){var e={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(n,i){if(m(i.value)){var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){var o=n.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.databound||(a=e),r?t.$watch(r,function(t,e){i.$set("value",t),e!==t&&a.removeOption(e),a.addOption(t,n)}):a.addOption(i.value,n),n.on("$destroy",function(){a.removeOption(i.value)})}}}}],Qo=p({restrict:"E",terminal:!1}),ta=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},ea=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(b(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp",s,t,L(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||m(a)||a.test(t)}}}}},na=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=h(t),r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(t)||e.length<=r}}}}},ia=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(K(),re(Oi),yi(e).ready(function(){V(e,U)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(t,e,n){"use strict";e.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var t="$$ngAnimateChildren";return function(n,i,r){var o=r.ngAnimateChildren;e.isString(o)&&0===o.length?i.data(t,!0):n.$watch(o,function(e){i.data(t,!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(t,e){var n=e[0].body;return function(e){return t(function(){n.offsetWidth+1;e()})}}]).config(["$provide","$animateProvider",function(i,r){function o(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==g)return n}}function a(t){return t&&e.element(t)}function s(t){return e.element(o(t))}function c(t,e){return o(t)==o(e)}var l,u=e.noop,h=e.forEach,d=r.$$selectors,f=e.isArray,p=e.isString,m=e.isObject,g=1,v="$$ngAnimateState",b="$$ngAnimateChildren",y="ng-animate",x={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(t,n,i,g,w,C,$,_,E,S){function T(t,e){var n=t.data(v)||{};return e&&(n.running=!0,n.structural=!0,t.data(v,n)),n.disabled||n.running&&n.structural}function A(t){var e,i=n.defer();return i.promise.$$cancelFn=function(){e&&e()},$.$$postDigest(function(){e=t(function(){i.resolve()})}),i.promise}function k(t){return m(t)?(t.tempClasses&&p(t.tempClasses)&&(t.tempClasses=t.tempClasses.split(/\s+/)),t):void 0}function M(t,e,n){n=n||{};var i={};h(n,function(t,e){h(e.split(" "),function(e){i[e]=t})});var r=Object.create(null);h((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0});var o=[],a=[];return h(e&&e.classes||[],function(t,e){var n=r[e],s=i[e]||{};t===!1?(n||"addClass"==s.event)&&a.push(e):t===!0&&(n&&"removeClass"!=s.event||o.push(e))}),o.length+a.length>0&&[o.join(" "),a.join(" ")]}function O(t){if(t){var e=[],n={},r=t.substr(1).split(".");(g.transitions||g.animations)&&e.push(i.get(d[""]));for(var o=0;o<r.length;o++){var a=r[o],s=d[a];s&&!n[a]&&(e.push(i.get(s)),n[a]=!0)}return e}}function P(t,n,i,r){function o(t,e){var n=t[e],i=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];return n||i?("leave"==e&&(i=n,n=null),C.push({event:e,fn:n}),y.push({event:e,fn:i}),!0):void 0}function a(e,n,o){function a(t){if(n){if((n[t]||u)(),++d<s.length)return;n=null}o()}var s=[];h(e,function(t){t.fn&&s.push(t)});var d=0;h(s,function(e,o){var s=function(){a(o)};switch(e.event){case"setClass":n.push(e.fn(t,c,l,s,r));break;case"animate":n.push(e.fn(t,i,r.from,r.to,s));break;case"addClass":n.push(e.fn(t,c||i,s,r));break;case"removeClass":n.push(e.fn(t,l||i,s,r));break;default:n.push(e.fn(t,s,r))}}),n&&0===n.length&&o()}var s=t[0];if(s){r&&(r.to=r.to||{},r.from=r.from||{});var c,l;f(i)&&(c=i[0],l=i[1],c?l?i=c+" "+l:(i=c,n="addClass"):(i=l,n="removeClass"));var d="setClass"==n,p=d||"addClass"==n||"removeClass"==n||"animate"==n,m=t.attr("class"),g=m+" "+i;if(F(g)){var v=u,b=[],y=[],x=u,w=[],C=[],$=(" "+g).replace(/\s+/g,".");return h(O($),function(t){var e=o(t,n);!e&&d&&(o(t,"addClass"),o(t,"removeClass"))}),{node:s,event:n,className:i,isClassBased:p,isSetClassOperation:d,applyStyles:function(){r&&t.css(e.extend(r.from||{},r.to||{}))},before:function(t){v=t,a(y,b,function(){v=u,t()})},after:function(t){x=t,a(C,w,function(){x=u,t()})},cancel:function(){b&&(h(b,function(t){(t||u)(!0)}),v(!0)),w&&(h(w,function(t){(t||u)(!0)}),x(!0))}}}}}function I(t,n,i,r,o,a,s,c){function d(e){var r="$animate:"+e;$&&$[r]&&$[r].length>0&&C(function(){i.triggerHandler(r,{event:t,className:n})})}function f(){d("before")}function p(){d("after")}function m(){d("close"),c()}function g(){g.hasBeenRun||(g.hasBeenRun=!0,a())}function b(){if(!b.hasBeenRun){w&&w.applyStyles(),b.hasBeenRun=!0,s&&s.tempClasses&&h(s.tempClasses,function(t){l.removeClass(i,t)});var e=i.data(v);e&&(w&&w.isClassBased?N(i,n):(C(function(){var e=i.data(v)||{};I==e.index&&N(i,n,t)}),i.data(v,e))),m()}}var x=u,w=P(i,t,n,s);if(!w)return g(),f(),p(),b(),x;t=w.event,n=w.className;var $=e.element._data(w.node);if($=$&&$.events,r||(r=o?o.parent():i.parent()),j(i,r))return g(),f(),p(),b(),x;var _=i.data(v)||{},E=_.active||{},S=_.totalActive||0,T=_.last,A=!1;if(S>0){var k=[];if(w.isClassBased){if("setClass"==T.event)k.push(T),N(i,n);else if(E[n]){var M=E[n];M.event==t?A=!0:(k.push(M),N(i,n))}}else if("leave"==t&&E["ng-leave"])A=!0;else{for(var O in E)k.push(E[O]);_={},N(i,!0)}k.length>0&&h(k,function(t){t.cancel()})}if(!w.isClassBased||w.isSetClassOperation||"animate"==t||A||(A="addClass"==t==i.hasClass(n)),A)return g(),f(),p(),m(),x;E=_.active||{},S=_.totalActive||0,"leave"==t&&i.one("$destroy",function(){var t=e.element(this),n=t.data(v);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),N(t,"ng-leave"))}}),l.addClass(i,y),s&&s.tempClasses&&h(s.tempClasses,function(t){l.addClass(i,t)});var I=L++;return S++,E[n]=w,i.data(v,{last:w,active:E,index:I,totalActive:S}),f(),w.before(function(e){var r=i.data(v);e=e||!r||!r.active[n]||w.isClassBased&&r.active[n].event!=t,g(),e===!0?b():(p(),w.after(b))}),w.cancel}function D(t){var n=o(t);if(n){var i=e.isFunction(n.getElementsByClassName)?n.getElementsByClassName(y):n.querySelectorAll("."+y);h(i,function(t){t=e.element(t);var n=t.data(v);n&&n.active&&h(n.active,function(t){t.cancel()})})}}function N(t,e){if(c(t,w))x.disabled||(x.running=!1,x.structural=!1);else if(e){var n=t.data(v)||{},i=e===!0;!i&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),(i||!n.totalActive)&&(l.removeClass(t,y),t.removeData(v))}}function j(t,n){if(x.disabled)return!0;if(c(t,w))return x.running;var i,r,o;do{if(0===n.length)break;var a=c(n,w),s=a?x:n.data(v)||{};if(s.disabled)return!0;if(a&&(o=!0),i!==!1){var l=n.data(b);e.isDefined(l)&&(i=l)}r=r||s.running||s.last&&!s.last.isClassBased}while(n=n.parent());return!o||!i&&r}l=S,w.data(v,x);var H=$.$watch(function(){return E.totalPendingRequests},function(t){0===t&&(H(),$.$$postDigest(function(){$.$$postDigest(function(){x.running=!1})}))}),L=0,R=r.classNameFilter(),F=R?function(t){return R.test(t)}:function(){return!0};return{animate:function(t,e,n,i,r){return i=i||"ng-inline-animate",r=k(r)||{},r.from=n?e:null,r.to=n?n:e,A(function(e){return I("animate",i,s(t),null,null,u,r,e)})},enter:function(n,i,r,o){return o=k(o),n=e.element(n),i=a(i),r=a(r),T(n,!0),t.enter(n,i,r),A(function(t){return I("enter","ng-enter",s(n),i,r,u,o,t)})},leave:function(n,i){return i=k(i),n=e.element(n),D(n),T(n,!0),A(function(e){return I("leave","ng-leave",s(n),null,null,function(){t.leave(n)},i,e)})},move:function(n,i,r,o){return o=k(o),n=e.element(n),i=a(i),r=a(r),D(n),T(n,!0),t.move(n,i,r),A(function(t){return I("move","ng-move",s(n),i,r,u,o,t)})},addClass:function(t,e,n){return this.setClass(t,e,[],n)},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},setClass:function(n,i,r,a){a=k(a);var c="$$animateClasses";if(n=e.element(n),n=s(n),T(n))return t.$$setClassImmediately(n,i,r,a);var l,u=n.data(c),d=!!u;return u||(u={},u.classes={}),l=u.classes,i=f(i)?i:i.split(" "),h(i,function(t){t&&t.length&&(l[t]=!0)}),r=f(r)?r:r.split(" "),h(r,function(t){t&&t.length&&(l[t]=!1)}),d?(a&&u.options&&(u.options=e.extend(u.options||{},a)),u.promise):(n.data(c,u={classes:l,options:a}),u.promise=A(function(e){var i=n.parent(),r=o(n),a=r.parentNode;if(!a||a.$$NG_REMOVED||r.$$NG_REMOVED)return void e();var s=n.data(c);n.removeData(c);var l=n.data(v)||{},u=M(n,s,l.active);return u?I("setClass",u,n,i,null,function(){u[0]&&t.$$addClassImmediately(n,u[0]),u[1]&&t.$$removeClassImmediately(n,u[1])},s.options,e):e()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)N(e);else{var n=e.data(v)||{};n.disabled=!0,e.data(v,n)}break;case 1:x.disabled=!t;break;default:t=!x.disabled}return!!t}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,a,s){function c(){N||(N=s(function(){X=[],N=null,U={}}))}function d(t,e){N&&N(),X.push(e),N=s(function(){h(X,function(t){t()}),X=[],N=null,U={}})}function m(t,n){var i=o(t);t=e.element(i),J.push(t);var r=Date.now()+n;K>=r||(a.cancel(G),K=r,G=a(function(){v(J),J=[]},n,!1))}function v(t){h(t,function(t){var e=t.data(W);e&&h(e.closeAnimationFns,function(t){t()})})}function b(t,e){var n=e?U[e]:null;if(!n){var r=0,o=0,a=0,s=0;h(t,function(t){if(t.nodeType==g){var e=i.getComputedStyle(t)||{},n=e[M+j];r=Math.max(y(n),r);var c=e[M+L];o=Math.max(y(c),o);{e[P+L]}s=Math.max(y(e[P+L]),s);var l=y(e[P+j]);l>0&&(l*=parseInt(e[P+R],10)||1),a=Math.max(l,a)}}),n={total:0,transitionDelay:o,transitionDuration:r,animationDelay:s,animationDuration:a},e&&(U[e]=n)}return n}function y(t){var e=0,n=p(t)?t.split(/\s*,\s*/):[];return h(n,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function x(t){var e=t.parent(),n=e.data(B);return n||(e.data(B,++Y),n=Y),n+"-"+o(t).getAttribute("class")}function w(t,e,n,i){var r=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,a=x(e),s=a+" "+n,c=U[s]?++U[s].total:0,u={};if(c>0){var h=n+"-stagger",d=a+" "+h,f=!U[d];f&&l.addClass(e,h),u=b(e,d),f&&l.removeClass(e,h)}l.addClass(e,n);var p=e.data(W)||{},m=b(e,s),g=m.transitionDuration,v=m.animationDuration;if(r&&0===g&&0===v)return l.removeClass(e,n),!1;var y=i||r&&g>0,w=v>0&&u.animationDelay>0&&0===u.animationDuration,C=p.closeAnimationFns||[];e.data(W,{stagger:u,cacheKey:s,running:p.running||0,itemIndex:c,blockTransition:y,closeAnimationFns:C});var E=o(e);return y&&($(E,!0),i&&e.css(i)),w&&_(E,!0),!0}function C(t,e,n,i,r){function s(){e.off(L,c),l.removeClass(e,f),l.removeClass(e,p),j&&a.cancel(j),A(e,n);var t=o(e);for(var i in v)t.style.removeProperty(v[i])}function c(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(z));Math.max(n-H,0)>=P&&r>=k&&i()}var u=o(e),d=e.data(W);if(-1==u.getAttribute("class").indexOf(n)||!d)return void i();var f="",p="";h(n.split(" "),function(t,e){var n=(e>0?" ":"")+t;f+=n+"-active",p+=n+"-pending"});var g="",v=[],y=d.itemIndex,x=d.stagger,w=0;if(y>0){var C=0;x.transitionDelay>0&&0===x.transitionDuration&&(C=x.transitionDelay*y);var E=0;x.animationDelay>0&&0===x.animationDuration&&(E=x.animationDelay*y,v.push(D+"animation-play-state")),w=Math.round(100*Math.max(C,E))/100}w||(l.addClass(e,f),d.blockTransition&&$(u,!1));var S=d.cacheKey+" "+f,T=b(e,S),k=Math.max(T.transitionDuration,T.animationDuration);if(0===k)return l.removeClass(e,f),A(e,n),void i();!w&&r&&Object.keys(r).length>0&&(T.transitionDuration||(e.css("transition",T.animationDuration+"s linear all"),v.push("transition")),e.css(r));var M=Math.max(T.transitionDelay,T.animationDelay),P=M*V;if(v.length>0){var N=u.getAttribute("style")||"";";"!==N.charAt(N.length-1)&&(N+=";"),u.setAttribute("style",N+" "+g)}var j,H=Date.now(),L=I+" "+O,R=(M+k)*q,F=(w+R)*V;return w>0&&(l.addClass(e,p),j=a(function(){j=null,T.transitionDuration>0&&$(u,!1),T.animationDuration>0&&_(u,!1),l.addClass(e,f),l.removeClass(e,p),r&&(0===T.transitionDuration&&e.css("transition",T.animationDuration+"s linear all"),e.css(r),v.push("transition"))},w*V,!1)),e.on(L,c),d.closeAnimationFns.push(function(){s(),i()}),d.running++,m(e,F),s}function $(t,e){t.style[M+H]=e?"none":""}function _(t,e){t.style[P+F]=e?"paused":""}function E(t,e,n,i){return w(t,e,n,i)?function(t){t&&A(e,n)}:void 0}function S(t,e,n,i,r){return e.data(W)?C(t,e,n,i,r):(A(e,n),void i())}function T(t,e,n,i,r){var o=E(t,e,n,r.from);if(!o)return c(),void i();var a=o;return d(e,function(){a=S(t,e,n,i,r.to)}),function(t){(a||u)(t)}}function A(t,e){l.removeClass(t,e);var n=t.data(W);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(W))}function k(t,e){var n="";return t=f(t)?t:t.split(/\s+/),h(t,function(t,i){t&&t.length>0&&(n+=(i>0?" ":"")+t+e)}),n}var M,O,P,I,D="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(D="-webkit-",M="WebkitTransition",O="webkitTransitionEnd transitionend"):(M="transition",O="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(D="-webkit-",P="WebkitAnimation",I="webkitAnimationEnd animationend"):(P="animation",I="animationend");var N,j="Duration",H="Property",L="Delay",R="IterationCount",F="PlayState",B="$$ngAnimateKey",W="$$ngAnimateCSS3Data",z=3,q=1.5,V=1e3,U={},Y=0,X=[],G=null,K=0,J=[];return{animate:function(t,e,n,i,r,o){return o=o||{},o.from=n,o.to=i,T("animate",t,e,r,o)},enter:function(t,e,n){return n=n||{},T("enter",t,"ng-enter",e,n)},leave:function(t,e,n){return n=n||{},T("leave",t,"ng-leave",e,n)},move:function(t,e,n){return n=n||{},T("move",t,"ng-move",e,n)},beforeSetClass:function(t,e,n,i,r){r=r||{};var o=k(n,"-remove")+" "+k(e,"-add"),a=E("setClass",t,o,r.from);return a?(d(t,i),a):(c(),void i())},beforeAddClass:function(t,e,n,i){i=i||{};var r=E("addClass",t,k(e,"-add"),i.from);return r?(d(t,n),r):(c(),void n())},beforeRemoveClass:function(t,e,n,i){i=i||{};var r=E("removeClass",t,k(e,"-remove"),i.from);return r?(d(t,n),r):(c(),void n())},setClass:function(t,e,n,i,r){r=r||{},n=k(n,"-remove"),e=k(e,"-add");var o=n+" "+e;return S("setClass",t,o,i,r.to)},addClass:function(t,e,n,i){return i=i||{},S("addClass",t,k(e,"-add"),n,i.to)},removeClass:function(t,e,n,i){return i=i||{},S("removeClass",t,k(e,"-remove"),n,i.to)}}}])}])}(window,window.angular),function(t,e){"use strict";function n(){function t(t,e,i){return function(r,o,a){var s=a.$normalize(e);n[s]&&!a[s]&&r.$watch(a[t],function(t){i&&(t=!t),o.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}var i=e.module("ngAria",["ng"]).provider("$aria",n);i.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,i){return t.config(n)&&!i.attr(e)}function n(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":"textbox"===(n||i)||"TEXTAREA"===e[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",link:function(i,r,o,a){function s(){return a.$modelValue}function c(){return h?(h=!1,function(t){var e=t===o.value;r.attr("aria-checked",e),r.attr("tabindex",0-!e)}):function(t){r.attr("aria-checked",t===o.value)}}function l(t){r.attr("aria-checked",!!t)}var u=n(o,r),h=e("tabindex","tabindex",r);switch(u){case"radio":case"checkbox":e("aria-checked","ariaChecked",r)&&i.$watch(s,"radio"===u?c():l);break;case"range":t.config("ariaValue")&&(o.min&&!r.attr("aria-valuemin")&&r.attr("aria-valuemin",o.min),o.max&&!r.attr("aria-valuemax")&&r.attr("aria-valuemax",o.max),r.attr("aria-valuenow")||i.$watch(s,function(t){r.attr("aria-valuenow",t)}));break;case"multiline":e("aria-multiline","ariaMultiline",r)&&r.attr("aria-multiline",!0)}h&&r.attr("tabindex",0),a.$validators.required&&e("aria-required","ariaRequired",r)&&i.$watch(function(){return a.$error.required},function(t){r.attr("aria-required",!!t)}),e("aria-invalid","ariaInvalid",r)&&i.$watch(function(){return a.$invalid},function(t){r.attr("aria-invalid",!!t)})}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,i){var r=e(i.ngClick,null,!0);return function(e,n,i){t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),t.config("bindKeypress")&&!i.ngKeypress&&n.on("keypress",function(t){function n(){r(e,{$event:t})}(32===t.keyCode||13===t.keyCode)&&e.$apply(n)})}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n){t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0)}}])}(window,window.angular),function(t,e,n){"use strict";!function(){e.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabSpeedDial","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"])}(),function(){function t(t,e){t.decorator("$$rAF",["$delegate",n]),e.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function n(t){return t.throttle=function(e){var n,i,r,o;return function(){n=arguments,o=this,r=e,i||(i=!0,t(function(){r.apply(o,n),i=!1}))}},t}e.module("material.core",["material.core.gestures","material.core.theming"]).config(t),t.$inject=["$provide","$mdThemingProvider"]}(),function(){function t(t,e){function n(t){return i?"webkit"+t.charAt(0).toUpperCase()+t.substring(1):t}var i=/webkit/i.test(e.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(i?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(i?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSFORM_ORIGIN:n("transformOrigin"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}e.module("material.core").factory("$mdConstant",t),t.$inject=["$$rAF","$sniffer"]}(),function(){function t(t,n){function i(){return[].concat(b)}function r(){return b.length}function o(t){return b.length&&t>-1&&t<b.length}function a(t){return t?o(d(t)+1):!1}function s(t){return t?o(d(t)-1):!1}function c(t){return o(t)?b[t]:null}function l(t,e){return b.filter(function(n){return n[t]===e})}function u(t,n){return t?(e.isNumber(n)||(n=b.length),b.splice(n,0,t),d(t)):-1}function h(t){f(t)&&b.splice(d(t),1)}function d(t){return b.indexOf(t)}function f(t){return t&&d(t)>-1}function p(){return b.length?b[0]:null}function m(){return b.length?b[b.length-1]:null}function g(t,i,r,a){r=r||v;for(var s=d(i);;){if(!o(s))return null;var c=s+(t?-1:1),l=null;if(o(c)?l=b[c]:n&&(l=t?m():p(),c=d(l)),null===l||c===a)return null;if(r(l))return l;e.isUndefined(a)&&(a=c),s=c}}var v=function(){return!0};t&&!e.isArray(t)&&(t=Array.prototype.slice.call(t)),n=!!n;var b=t||[];return{items:i,count:r,inRange:o,contains:f,indexOf:d,itemAt:c,findBy:l,add:u,remove:h,first:p,last:m,next:e.bind(null,g,!1),previous:e.bind(null,g,!0),hasPrevious:s,hasNext:a}}e.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=t,e}])}])}(),function(){function t(t,n,i){function r(t){var n=d[t];e.isUndefined(n)&&(n=d[t]=o(t));var i=p[n];return e.isUndefined(i)&&(i=a(n)),i}function o(e){return t.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}function a(t){var e=f[t]=i.matchMedia(t);return e.addListener(s),p[e.media]=!!e.matches}function s(t){n.$evalAsync(function(){p[t.media]=!!t.matches})}function c(t){return f[t]}function l(e,n){for(var i=0;i<t.MEDIA_PRIORITY.length;i++){var r=t.MEDIA_PRIORITY[i];if(f[d[r]].matches){var o=h(e,n+"-"+r);if(e[o])return e[o]}}return e[h(e,n)]}function u(n,i,r){var o=[];return n.forEach(function(n){var a=h(i,n);i[a]&&o.push(i.$observe(a,e.bind(void 0,r,null)));for(var s in t.MEDIA){if(a=h(i,n+"-"+s),!i[a])return;o.push(i.$observe(a,e.bind(void 0,r,s)))}}),function(){o.forEach(function(t){t()})}}function h(t,e){return m[e]||(m[e]=t.$normalize(e))}var d={},f={},p={},m={};return r.getResponsiveAttribute=l,r.getQuery=c,r.watchResponsiveAttributes=u,r}e.module("material.core").factory("$mdMedia",t),t.$inject=["$mdConstant","$rootScope","$window"]}(),function(){var i=0;e.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$window","$mdConstant",function(r,o,a,s,c,l){function u(t){return t[0]||t}var h;return h={now:t.performance?e.bind(t.performance,t.performance.now):Date.now,clientRect:function(t,e,n){var i=u(t);e=u(e||i.offsetParent||document.body);var r=i.getBoundingClientRect(),o=n?e.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left,top:r.top-o.top,width:r.width,height:r.height}},offsetRect:function(t,e){return h.clientRect(t,e,!0)},nodesToArray:function(t){for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e},disableScrollAround:function(t){function n(){function n(t){}function i(t){t.preventDefault()}var r=c.getComputedStyle(t[0]).zIndex-1;isNaN(r)&&(r=99);var s=e.element('<div class="md-scroll-mask" style="z-index: '+r+'">  <div class="md-scroll-mask-bar"></div></div>');return a.appendChild(s[0]),s.on("wheel",i),s.on("touchmove",i),o.on("keydown",n),function(){s.off("wheel"),s.off("touchmove"),s[0].parentNode.removeChild(s[0]),o.off("keydown",n),delete h.disableScrollAround._enableScrolling}}function i(){var t=a.getAttribute("style")||"",e=a.scrollTop+a.parentElement.scrollTop,n=a.clientWidth;return r(a,{position:"fixed",width:"100%",overflowY:"scroll",top:-e+"px"}),a.clientWidth<n&&r(a,{overflow:"hidden"}),function(){a.setAttribute("style",t),a.scrollTop=e}}function r(t,e){for(var n in e)t.style[n]=e[n]}if(h.disableScrollAround._enableScrolling)return h.disableScrollAround._enableScrolling;t=e.element(t);var a=o[0].body,s=i(),l=n();return h.disableScrollAround._enableScrolling=function(){s(),l(),delete h.disableScrollAround._enableScrolling}},enableScrolling:function(){var t=this.disableScrollAround._enableScrolling;
t&&t()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var t=e.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');o[0].body.appendChild(t[0]),this.floatingScrollbars.cached=t[0].offsetWidth==t[0].childNodes[0].offsetWidth,t.remove()}return this.floatingScrollbars.cached},forceFocus:function(e){var n=e[0]||e;document.addEventListener("click",function r(t){t.target===n&&t.$focus&&(n.focus(),t.stopImmediatePropagation(),t.preventDefault(),n.removeEventListener("click",r))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,t,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},transitionEndPromise:function(t,e){function n(e){e&&e.target!==t[0]||(t.off(l.CSS.TRANSITIONEND,n),i.resolve())}e=e||{};var i=s.defer();return t.on(l.CSS.TRANSITIONEND,n),e.timeout&&a(n,e.timeout),i.promise},fakeNgModel:function(){return{$fake:!0,$setTouched:e.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach(function(t){t()})},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:e.noop}},debounce:function(t,e,i,r){var o;return function(){var s=i,c=Array.prototype.slice.call(arguments);a.cancel(o),o=a(function(){o=n,t.apply(s,c)},e||10,r)}},throttle:function(t,e){var n;return function(){var i=this,r=arguments,o=h.now();(!n||o-n>e)&&(t.apply(i,r),n=o)}},time:function(t){var e=h.now();return t(),h.now()-e},nextUid:function(){return""+i++},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}},getClosest:function(t,n,i){if(t instanceof e.element&&(t=t[0]),n=n.toUpperCase(),i&&(t=t.parentNode),!t)return null;do if(t.nodeName===n)return t;while(t=t.parentNode);return null},extractElementByName:function(t,n){for(var i=0,r=t.length;r>i;i++)if(t[i].nodeName.toLowerCase()===n)return e.element(t[i]);return t},initOptionalProperties:function(t,n,i){i=i||{},e.forEach(t.$$isolateBindings,function(r,o){if(r.optional&&e.isUndefined(t[o])){var a=e.isDefined(n[r.attrName]);t[o]=e.isDefined(i[o])?i[o]:a}})}}}]),e.element.prototype.focus=e.element.prototype.focus||function(){return this.length&&this[0].focus(),this},e.element.prototype.blur=e.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function t(t,n,i){function r(t,i,r){var o=t[0]||t;!o||o.hasAttribute(i)&&0!==o.getAttribute(i).length||c(o,i)||(r=e.isString(r)?r.trim():"",r.length?t.attr(i,r):n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',o))}function o(e,n,i){t(function(){r(e,n,i())})}function a(t,e){o(t,e,function(){return s(t)})}function s(t){return t.text().trim()}function c(t,e){function n(t){var e=t.currentStyle?t.currentStyle:i.getComputedStyle(t);return"none"===e.display}var r=t.hasChildNodes(),o=!1;if(r)for(var a=t.childNodes,s=0;s<a.length;s++){var c=a[s];1===c.nodeType&&c.hasAttribute(e)&&(n(c)||(o=!0))}return o}return{expect:r,expectAsync:o,expectWithText:a}}e.module("material.core").service("$mdAria",t),t.$inject=["$$rAF","$log","$window"]}(),function(){function t(t,n,i,r,o,a){this.compile=function(s){var c=s.templateUrl,l=s.template||"",u=s.controller,h=s.controllerAs,d=s.resolve||{},f=s.locals||{},p=s.transformTemplate||e.identity,m=s.bindToController;return e.forEach(d,function(t,n){d[n]=e.isString(t)?i.get(t):i.invoke(t)}),e.extend(d,f),d.$template=c?n.get(c,{cache:a}).then(function(t){return t.data}):t.when(l),t.all(d).then(function(t){var n=p(t.$template),i=s.element||e.element("<div>").html(n.trim()).contents(),a=r(i);return{locals:t,element:i,link:function(n){if(t.$scope=n,u){var r=o(u,t,!0);m&&e.extend(r.instance,t);var s=r();i.data("$ngControllerController",s),i.children().data("$ngControllerController",s),h&&(n[h]=s)}return a(n)}}})}}e.module("material.core").service("$mdCompiler",t),t.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function i(n,i,r){function o(t,e,n){var i=f[e.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+e+". Available handlers: "+Object.keys(f).join(", "));return i.registerElement(t,n)}function a(t,i){var r=new n(t);return e.extend(r,i),f[t]=r,m}var c=navigator.userAgent||navigator.vendor||t.opera,u=c.match(/ipad|iphone|ipod/i),h=c.match(/android/i),d="undefined"!=typeof t.jQuery&&e.element===t.jQuery,m={handler:a,register:o,isHijackingClicks:(u||h)&&!d&&!p};return m.isHijackingClicks&&m.handler("click",{options:{maxDistance:6},onEnd:function(t,e){e.distance<this.state.options.maxDistance&&this.dispatchEvent(t,"click")}}),m.handler("press",{onStart:function(t){this.dispatchEvent(t,"$md.pressdown")},onEnd:function(t){this.dispatchEvent(t,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){r.cancel(this.state.timeout)},onStart:function(t,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=r(e.bind(this,function(){this.dispatchEvent(t,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(t,e){t.preventDefault();var n=this.state.pos.x-e.x,i=this.state.pos.y-e.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(){this.state.registeredParent||this.cancel()},onMove:function(t,e){var n,i;t.preventDefault(),this.state.dragPointer?this.dispatchDragMove(t):(this.state.options.horizontal?(n=Math.abs(e.distanceX)>this.state.options.minDistance,i=Math.abs(e.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(e.distanceY)>this.state.options.minDistance,i=Math.abs(e.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(t),l(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(t){this.state.isRunning&&(l(t,this.state.dragPointer),this.dispatchEvent(t,"$md.drag",this.state.dragPointer))}),onEnd:function(t){this.state.dragPointer&&(l(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(t,e){if(Math.abs(e.velocityX)>this.state.options.minVelocity&&Math.abs(e.distanceX)>this.state.options.minDistance){var n="left"==e.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(t,n)}}})}function r(t){this.name=t,this.state={}}function o(){function n(t,n,i){i=i||h;var r=new e.element.Event(n);r.$material=!0,r.pointer=i,r.srcEvent=t,e.extend(r,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey}),e.element(i.target).trigger(r)}function i(e,n,i){i=i||h;var r;"click"===n?(r=document.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,t,e.detail,i.x,i.y,i.x,i.y,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget||null)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(n,!0,!0,{})),r.$material=!0,r.pointer=i,r.srcEvent=e,i.target.dispatchEvent(r)}var o="undefined"!=typeof t.jQuery&&e.element===t.jQuery;return r.prototype={options:{},dispatchEvent:o?n:i,onStart:e.noop,onMove:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(t,n){if(!this.state.isRunning){var i=this.getNearestParent(t.target),r=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:e.extend({},this.options,r),registeredParent:i},this.onStart(t,n)}},move:function(t,e){this.state.isRunning&&this.onMove(t,e)},end:function(t,e){this.state.isRunning&&(this.onEnd(t,e),this.state.isRunning=!1)},cancel:function(t,e){this.onCancel(t,e),this.state={}},getNearestParent:function(t){for(var e=t;e;){if((e.$mdGesture||{})[this.name])return e;e=e.parentNode}return null},registerElement:function(t,e){function n(){delete t[0].$mdGesture[i.name],t.off("$destroy",n)}var i=this;return t[0].$mdGesture=t[0].$mdGesture||{},t[0].$mdGesture[this.name]=e||{},t.on("$destroy",n),n}},r}function a(t,n){function i(t,e){var i;for(var r in f)i=f[r],i instanceof n&&("start"===t&&i.cancel(),i[t](e,h))}function r(t){if(!h){var e=+Date.now();d&&!c(t,d)&&e-d.endTime<1500||(h=s(t),i("start",t))}}function o(t){h&&c(t,h)&&(l(t,h),i("move",t))}function a(t){h&&c(t,h)&&(l(t,h),h.endTime=+Date.now(),i("end",t),d=h,h=null)}document.contains||(document.contains=function(t){return document.body.contains(t)}),!m&&t.isHijackingClicks&&(document.addEventListener("click",function(t){var e=0===t.clientX&&0===t.clientY;e||t.$material||t.isIonicTap||(t.preventDefault(),t.stopPropagation())},!0),m=!0);var u="mousedown touchstart pointerdown",p="mousemove touchmove pointermove",g="mouseup mouseleave touchend touchcancel pointerup pointercancel";e.element(document).on(u,r).on(p,o).on(g,a).on("$$mdGestureReset",function(){d=h=null})}function s(t){var e=u(t),n={startTime:+Date.now(),target:t.target,type:t.type.charAt(0)};return n.startX=n.x=e.pageX,n.startY=n.y=e.pageY,n}function c(t,e){return t&&e&&t.type.charAt(0)===e.type}function l(t,e){var n=u(t),i=e.x=n.pageX,r=e.y=n.pageY;e.distanceX=i-e.startX,e.distanceY=r-e.startY,e.distance=Math.sqrt(e.distanceX*e.distanceX+e.distanceY*e.distanceY),e.directionX=e.distanceX>0?"right":e.distanceX<0?"left":"",e.directionY=e.distanceY>0?"up":e.distanceY<0?"down":"",e.duration=+Date.now()-e.startTime,e.velocityX=e.distanceX/e.duration,e.velocityY=e.distanceY/e.duration}function u(t){return t=t.originalEvent||t,t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t}var h,d,f={},p=!1,m=!1;e.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",o).run(a),n.prototype={skipClickHijack:function(){return p=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(t,e,n){return new i(t,e,n)}]},i.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function t(){function t(t){function n(t){return c.optionsFactory=t.options,c.methods=(t.methods||[]).concat(a),l}function i(t,e){return s[t]=e,l}function r(e,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(e))throw new Error("Preset '"+e+"' in "+t+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+t+" is reserved!");return c.presets[e]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},l}function o(n,i,r){function o(t){return t&&t._options&&(t=t._options),h.show(e.extend({},u,t))}function a(e,n){var i={};return i[t]=d,r.invoke(e||function(){return n},{},i)}var l,u,h=n(),d={hide:h.hide,cancel:h.cancel,show:o};return l=c.methods||[],u=a(c.optionsFactory,{}),e.forEach(s,function(t,e){d[e]=t}),e.forEach(c.presets,function(t,n){function i(t){this._options=e.extend({},r,t)}var r=a(t.optionsFactory,{}),o=(t.methods||[]).concat(l);if(e.extend(r,{$type:n}),e.forEach(o,function(t){i.prototype[t]=function(e){return this._options[t]=e,this}}),t.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);d[s]=function(t){var e=d[n](t);return d.show(e)}}d[n]=function(n){return arguments.length&&t.argOption&&!e.isObject(n)&&!e.isArray(n)?(new i)[t.argOption](n):new i(n)}}),d}var a=["onHide","onShow","onRemove"],s={},c={presets:{}},l={setDefaults:n,addPreset:r,addMethod:i,$get:o};return l.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),o.$inject=["$$interimElement","$animate","$injector"],l}function i(t,i,r,o,a,s,c,l,u){function h(t){return t&&e.isString(t)?t.replace(/\{\{/g,d).replace(/}}/g,f):t}var d=c.startSymbol(),f=c.endSymbol(),p="{{"===d&&"}}"===f,m=p?e.identity:h;return function(){function c(t){if(g.length)return p.cancel().then(function(){return c(t)});var e=new f(t);return g.push(e),e.show().then(function(){return e.deferred.promise})}function h(t){var e=g.shift();return e&&e.remove().then(function(){e.deferred.resolve(t)})}function d(t){var e=g.shift();return i.when(e&&e.remove().then(function(){e.deferred.reject(t)}))}function f(c){var h,d,f,g,v;return c=c||{},c=e.extend({preserveScope:!1,scope:c.scope||r.$new(c.isolateScope),onShow:function(t,e,n){return s.enter(e,n.parent)},onRemove:function(t,e){return e&&s.leave(e)||i.when()}},c),c.template&&(c.template=m(c.template)),h={options:c,deferred:i.defer(),show:function(){var n;return n=c.skipCompile?i(function(t){t({locals:{},link:function(){return c.element}})}):l.compile(c),g=n.then(function(n){function r(){c.hideDelay&&(d=o(p.cancel,c.hideDelay))}if(e.extend(n.locals,h.options),f=n.link(c.scope),e.isFunction(c.parent)?c.parent=c.parent(c.scope,f,c):e.isString(c.parent)&&(c.parent=e.element(t[0].querySelector(c.parent))),!(c.parent||{}).length){var s;a[0]&&a[0].querySelector&&(s=a[0].querySelector(":not(svg) > body")),s||(s=a[0]),"#comment"==s.nodeName&&(s=t[0].body),c.parent=e.element(s)}c.themable&&u(f);var l=c.onShow(c.scope,f,c);return i.when(l).then(function(){(c.onComplete||e.noop)(c.scope,f,c),r()})},function(t){g=!0,h.deferred.reject(t)})},cancelTimeout:function(){d&&(o.cancel(d),d=n)},remove:function(){return h.cancelTimeout(),v=i.when(g).then(function(){var t=f?c.onRemove(c.scope,f,c):!0;return i.when(t).then(function(){c.preserveScope||c.scope.$destroy(),v=!0})})}}}var p,g=[];return p={show:c,hide:h,cancel:d}}}return t.$get=i,i.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"],t}e.module("material.core").provider("$$interimElement",t)}(),function(){function t(t,n){function i(t){return t&&""!==t}var r,o=[],a={};return r={notFoundError:function(e){t.error("No instance found for handle",e)},getInstances:function(){return o},get:function(t){if(!i(t))return null;var e,n,r;for(e=0,n=o.length;n>e;e++)if(r=o[e],r.$$mdHandle===t)return r;return null},register:function(t,n){function i(){var e=o.indexOf(t);-1!==e&&o.splice(e,1)}function r(){var e=a[n];e&&(e.resolve(t),delete a[n])}return n?(t.$$mdHandle=n,o.push(t),r(),i):e.noop},when:function(t){if(i(t)){var e=n.defer(),o=r.get(t);return o?e.resolve(o):a[t]=e,e.promise}return n.reject("Invalid `md-component-id` value.")}}}e.module("material.core").factory("$mdComponentRegistry",t),t.$inject=["$log","$q"]}(),function(){!function(){function t(t){function n(n,r,o){var a=i(r);return t.attach(n,r,e.extend(a,o))}function i(t){return t.hasClass("md-icon-button")?{isMenuItem:t.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:t.hasClass("md-menu-item"),dimBackground:!0}}return{attach:n}}e.module("material.core").factory("$mdButtonInkRipple",t),t.$inject=["$mdInkRipple"]}()}(),function(){!function(){function t(t){function n(n,i,r){return t.attach(n,i,e.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}return{attach:n}}e.module("material.core").factory("$mdCheckboxInkRipple",t),t.$inject=["$mdInkRipple"]}()}(),function(){!function(){function t(t){function n(n,i,r){return t.attach(n,i,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}e.module("material.core").factory("$mdListInkRipple",t),t.$inject=["$mdInkRipple"]}()}(),function(){function t(t,n){return{controller:e.noop,link:function(e,i,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(e,i):t.attach(e,i)}}}function n(t,n){function i(i,r,o){function a(){var t=r.data("$mdRippleContainer");return t?t:(t=e.element('<div class="md-ripple-container">'),r.append(t),r.data("$mdRippleContainer",t),t)}function s(t){function e(t){var e="#"===t.charAt(0)?t.substr(1):t,n=e.length/3,i=e.substr(0,n),r=e.substr(n,n),o=e.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"}function n(t){return t.replace(")",", 0.1)").replace("(","a(")}if(t)return 0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===t.indexOf("rgb")?n(t):0===t.indexOf("#")?e(t):void 0}function c(t,e){v.splice(v.indexOf(t),1),0===v.length&&a().css({backgroundColor:""}),n(function(){t.remove()},e,!1)}function l(t){var e=v.indexOf(t),n=b[e]||{},i=v.length>1?!1:x,r=v.length>1?!1:w;i||n.animating||r?t.addClass("md-ripple-visible"):t&&(t.removeClass("md-ripple-visible"),o.outline&&t.css({width:p+"px",height:p+"px",marginLeft:-1*p+"px",marginTop:-1*p+"px"}),c(t,o.outline?450:650))}function u(i,c){function u(t){var n=e.element('<div class="md-ripple" data-counter="'+g++ +'">');return v.unshift(n),b.unshift({animating:!0}),f.append(n),t&&n.css(t),n}function h(t,e){var n,i,r,a=f.prop("offsetWidth"),s=f.prop("offsetHeight");return o.isMenuItem?i=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)):o.outline?(r=C.getBoundingClientRect(),t-=r.left,e-=r.top,a=Math.max(t,a-t),s=Math.max(e,s-e),i=2*Math.sqrt(Math.pow(a,2)+Math.pow(s,2))):(n=o.fullRipple?1.1:.8,i=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))*n,o.fitRipple&&(i=Math.min(s,a,i))),i}function d(t,e,n){function i(t){return t.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}var r=C.getBoundingClientRect(),a={backgroundColor:i(_),borderColor:i(_),width:t+"px",height:t+"px"};return o.outline?(a.width=0,a.height=0):a.marginLeft=a.marginTop=t*-.5+"px",o.center?a.left=a.top="50%":(a.left=Math.round((e-r.left)/f.prop("offsetWidth")*100)+"%",a.top=Math.round((n-r.top)/f.prop("offsetHeight")*100)+"%"),a}_=s(r.attr("md-ink-ripple"))||s(t.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");var f=a(),m=h(i,c),y=d(m,i,c),x=u(y),w=v.indexOf(x),$=b[w]||{};return p=m,$.animating=!0,n(function(){o.dimBackground&&f.css({backgroundColor:_}),x.addClass("md-ripple-placed md-ripple-scaled"),x.css(o.outline?{borderWidth:.5*m+"px",marginLeft:m*-.5+"px",marginTop:m*-.5+"px"}:{left:"50%",top:"50%"}),l(x),n(function(){$.animating=!1,l(x)},o.outline?450:225,!1)},0,!1),x}function h(t){f()&&(u(t.pointer.x,t.pointer.y),w=!0)}function d(){w=!1;var t=v[v.length-1];n(function(){l(t)},0,!1)}function f(){function t(t){return t&&t.hasAttribute&&t.hasAttribute("disabled")}var e=C.parentNode,n=e&&e.parentNode,i=n&&n.parentNode;return!(t(C)||t(e)||t(n)||t(i))}if(r.controller("mdNoInk"))return e.noop;o=e.extend({colorElement:r,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,fullRipple:!0,isMenuItem:!1,fitRipple:!1},o);var p,m=r.controller("mdInkRipple")||{},g=0,v=[],b=[],y=r.attr("md-highlight"),x=!1,w=!1,C=r[0],$=r.attr("md-ripple-size"),_=s(r.attr("md-ink-ripple"))||s(o.colorElement.length&&t.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");switch($){case"full":o.fullRipple=!0;break;case"partial":o.fullRipple=!1}return o.mousedown&&r.on("$md.pressdown",h).on("$md.pressup",d),m.createRipple=u,y&&i.$watch(y,function(t){x=t,x&&!v.length&&n(function(){u(0,0)},0,!1),e.forEach(v,l)}),function(){r.off("$md.pressdown",h).off("$md.pressup",d),a().remove()}}return{attach:i}}function i(){return function(){return{controller:e.noop}}}e.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",t).directive("mdNoInk",i()).directive("mdNoBar",i()).directive("mdNoStretch",i()),t.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],n.$inject=["$window","$timeout"]}(),function(){!function(){function t(t){function n(n,i,r){return t.attach(n,i,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}e.module("material.core").factory("$mdTabInkRipple",t),t.$inject=["$mdInkRipple"]}()}(),function(){e.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function t(t){function i(t,e){return e=e||{},u[t]=a(t,e),v}function r(t,n){return a(t,e.extend({},u[t]||{},n))}function a(t,e){var n=_.filter(function(t){return!e[t]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",t));return e}function s(t,n){if(h[t])return h[t];n=n||"default";var i="string"==typeof n?h[n]:n,r=new c(t);return i&&e.forEach(i.colors,function(t,n){r.colors[n]={name:t.name,hues:e.extend({},t.hues)}}),h[t]=r,r}function c(t){function n(t){if(t=0===arguments.length?!0:!!t,t!==i.isDark){i.isDark=t,i.foregroundPalette=i.isDark?p:f,i.foregroundShadow=i.isDark?m:g;var n=i.isDark?$:C,r=i.isDark?C:$;return e.forEach(n,function(t,e){var n=i.colors[e],o=r[e];if(n)for(var a in n.hues)n.hues[a]===o[a]&&(n.hues[a]=t[a])}),i}}var i=this;i.name=t,i.colors={},i.dark=n,n(!1),x.forEach(function(t){var n=(i.isDark?$:C)[t];i[t+"Palette"]=function(r,o){var a=i.colors[t]={name:r,hues:e.extend({},n,o)};return Object.keys(a.hues).forEach(function(t){if(!n[t])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",t).replace("%2",i.name).replace("%3",r).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(t){return a.hues[t]}).forEach(function(e){if(-1==_.indexOf(e))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",i.name).replace("%3",t).replace("%4",r).replace("%5",_.join(", ")))}),i},i[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),i[t+"Palette"].apply(i,e)}})}function d(t,i){function r(t){return t===n||""===t?!0:o.THEMES[t]!==n}function o(e,i){i===n&&(i=e,e=n),e===n&&(e=t),o.inherit(i,i)}return o.inherit=function(n,o){function a(t){r(t)||i.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var e=n.data("$mdThemeName");e&&n.removeClass("md-"+e+"-theme"),n.addClass("md-"+t+"-theme"),n.data("$mdThemeName",t)}var s=o.controller("mdTheme"),c=n.attr("md-theme-watch");if((y||e.isDefined(c))&&"false"!=c){var l=t.$watch(function(){return s&&s.$mdTheme||b},a);n.on("$destroy",l)}else{var u=s&&s.$mdTheme||b;a(u)}},o.THEMES=e.extend({},h),o.defaultTheme=function(){return b},o.registered=r,o}u={},h={};var v,b="default",y=!1;return e.extend(u,t),d.$inject=["$rootScope","$log"],v={definePalette:i,extendPalette:r,theme:s,setDefaultTheme:function(t){b=t},alwaysWatchTheme:function(t){y=t},$get:d,_LIGHT_DEFAULT_HUES:C,_DARK_DEFAULT_HUES:$,_PALETTES:u,_THEMES:h,_parseRules:o,_rgba:l}}function i(t,e,n){return{priority:100,link:{pre:function(i,r,o){var a={$setTheme:function(e){t.registered(e)||n.warn("attempted to use unregistered theme '"+e+"'"),a.$mdTheme=e}};r.data("$mdThemeController",a),a.$setTheme(e(o.mdTheme)(i)),o.$observe("mdTheme",a.$setTheme)}}}}function r(t){return t}function o(t,n,i){s(t,n),i=i.replace(/THEME_NAME/g,t.name);var r=[],o=t.colors[n],a=new RegExp(".md-"+t.name+"-theme","g"),c=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),h=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,d=u[o.name];return i=i.replace(h,function(e,n,i,r){return"foreground"===n?"shadow"==i?t.foregroundShadow:t.foregroundPalette[i]||t.foregroundPalette[1]:(0===i.indexOf("hue")&&(i=t.colors[n].hues[i]),l((u[t.colors[n].name][i]||"").value,r))}),e.forEach(o.hues,function(e,n){var o=i.replace(c,function(t,n,i,r,o){return l(d[e]["color"===r?"value":"contrast"],o)});"default"!==n&&(o=o.replace(a,".md-"+t.name+"-theme.md-"+n)),"default"==t.name&&(o=o.replace(/\.md-default-theme/g,"")),r.push(o)}),r}function a(t){function n(t){var n=t.contrastDefaultColor,i=t.contrastLightColors||[],r=t.contrastStrongLightColors||[],o=t.contrastDarkColors||[];"string"==typeof i&&(i=i.split(" ")),"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,e.forEach(t,function(a,s){function l(){return"light"===n?o.indexOf(s)>-1?v:r.indexOf(s)>-1?y:b:i.indexOf(s)>-1?r.indexOf(s)>-1?y:b:v}if(!e.isObject(a)){var u=c(a);if(!u)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",t.name).replace("%3",s));t[s]={value:u,contrast:l()}}})}var i=document.getElementsByTagName("head")[0],r=i?i.firstElementChild:null,a=t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";if(r&&0!==a.length){e.forEach(u,n);var s={},l=a.split(/\}(?!(\}|'|"|;))/).filter(function(t){return t&&t.length}).map(function(t){return t.trim()+"}"}),f=new RegExp("md-("+x.join("|")+")","g");x.forEach(function(t){s[t]=""}),l.forEach(function(t){for(var e,n=(t.match(f),0);e=x[n];n++)if(t.indexOf(".md-"+e)>-1)return s[e]+=t;for(n=0;e=x[n];n++)if(t.indexOf(e)>-1)return s[e]+=t;return s[w]+=t}),e.forEach(h,function(t){d[t.name]||(x.forEach(function(e){for(var n=o(t,e,s[e]);n.length;){var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(n.shift())),i.insertBefore(a,r)}}),t.colors.primary.name==t.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),d[t.name]=!0)})}}function s(t,e){if(!u[(t.colors[e]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",t.name).replace("%2",e).replace("%3",Object.keys(u).join(", ")))}function c(t){if(e.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(t,e){return 3==e?parseFloat(t,10):parseInt(t,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var n=t.length/3,i=t.substr(0,n),r=t.substr(n,n),o=t.substr(2*n);
return 1===n&&(i+=i,r+=r,o+=o),[parseInt(i,16),parseInt(r,16),parseInt(o,16)]}}function l(t,n){return t?(4==t.length&&(t=e.copy(t),n?t.pop():n=t.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+t.join(",")+","+n+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}e.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",i).directive("mdThemable",r).provider("$mdTheming",t).run(a);var u,h,d={},f={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},p={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},m="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",g="",v=c("rgba(0,0,0,0.87)"),b=c("rgba(255,255,255,0.87"),y=c("rgb(255,255,255)"),x=["primary","accent","warn","background"],w="primary",C={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},$={background:{"default":"800","hue-1":"300","hue-2":"600","hue-3":"900"}};x.forEach(function(t){var e={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};C[t]||(C[t]=e),$[t]||($[t]=e)});var _=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];t.$inject=["$mdColorPalette"],i.$inject=["$mdTheming","$interpolate","$log"],r.$inject=["$mdTheming"],a.$inject=["$injector"]}(),function(){e.module("material.components.autocomplete",["material.core","material.components.icon"])}(),function(){function t(t){return t}e.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",t),t.$inject=["$mdTheming"]}(),function(){function t(){return{restrict:"E"}}function n(t){function n(t,n,o,a,s,c,l,u,h){function d(i,r,h){r=o.extractElementByName(r,"md-bottom-sheet"),m=s('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(i),m.on("click",function(){a(l.cancel)}),c.inherit(m,h.parent),t.enter(m,h.parent,null);var d=new p(r,h.parent);return h.bottomSheet=d,h.targetEvent&&e.element(h.targetEvent.target).blur(),c.inherit(d.element,h.parent),h.disableParentScroll&&(h.lastOverflow=h.parent.css("overflow"),h.parent.css("overflow","hidden")),t.enter(d.element,h.parent).then(function(){var t=e.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));t.focus(),h.escapeToClose&&(h.rootElementKeyupCallback=function(t){t.keyCode===n.KEY_CODE.ESCAPE&&a(l.cancel)},u.on("keyup",h.rootElementKeyupCallback))})}function f(n,i,r){var o=r.bottomSheet;return t.leave(m),t.leave(o.element).then(function(){r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),o.cleanup(),r.targetEvent&&e.element(r.targetEvent.target).focus()})}function p(t,e){function o(){t.css(n.CSS.TRANSITION_DURATION,"0ms")}function s(e){var i=e.pointer.distanceY;5>i&&(i=Math.max(-r,i/2)),t.css(n.CSS.TRANSFORM,"translate3d(0,"+(r+i)+"px,0)")}function c(e){if(e.pointer.distanceY>0&&(e.pointer.distanceY>20||Math.abs(e.pointer.velocityY)>i)){var r=t.prop("offsetHeight")-e.pointer.distanceY,o=Math.min(r/e.pointer.velocityY*.75,500);t.css(n.CSS.TRANSITION_DURATION,o+"ms"),a(l.cancel)}else t.css(n.CSS.TRANSITION_DURATION,""),t.css(n.CSS.TRANSFORM,"")}var u=h.register(e,"drag",{horizontal:!1});return e.on("$md.dragstart",o).on("$md.drag",s).on("$md.dragend",c),{element:t,cleanup:function(){u(),e.off("$md.dragstart",o).off("$md.drag",s).off("$md.dragend",c)}}}var m;return{themable:!0,targetEvent:null,onShow:d,onRemove:f,escapeToClose:!0,disableParentScroll:!0}}var i=.5,r=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$timeout","$compile","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],t("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:n})}e.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",n),n.$inject=["$$interimElementProvider"]}(),function(){function t(t,n,i,r){function o(t){return e.isDefined(t.href)||e.isDefined(t.ngHref)||e.isDefined(t.ngLink)||e.isDefined(t.uiSref)}function a(t,e){return o(e)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function s(a,s,c){var l=s[0];n(s),t.attach(a,s);var u=l.textContent.trim();u||i.expect(s,"aria-label"),o(c)&&e.isDefined(c.ngDisabled)&&a.$watch(c.ngDisabled,function(t){s.attr("tabindex",t?-1:0)}),s.on("click",function(t){c.disabled===!0&&(t.preventDefault(),t.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,r(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}e.module("material.components.button",["material.core"]).directive("mdButton",t),t.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function t(t){return{restrict:"E",link:function(e,n){t(n)}}}e.module("material.components.card",["material.core"]).directive("mdCard",t),t.$inject=["$mdTheming"]}(),function(){function t(t,n,i,r,o,a,s){function c(n,c){return c.type="checkbox",c.tabindex=c.tabindex||"0",n.attr("role",c.type),function(n,c,u,h){function d(t,e,i){u[t]&&n.$watch(u[t],function(t){i[t]&&c.attr(e,i[t])})}function f(t){var e=t.which||t.keyCode;(e===r.KEY_CODE.SPACE||e===r.KEY_CODE.ENTER)&&(t.preventDefault(),c.hasClass("md-focused")||c.addClass("md-focused"),p(t))}function p(t){c[0].hasAttribute("disabled")||n.$apply(function(){var e=u.ngChecked?u.checked:!h.$viewValue;h.$setViewValue(e,t&&t.type),h.$render()})}function m(){h.$viewValue?c.addClass(l):c.removeClass(l)}h=h||a.fakeNgModel(),o(c),u.ngChecked&&n.$watch(n.$eval.bind(n,u.ngChecked),h.$setViewValue.bind(h)),d("ngDisabled","tabindex",{"true":"-1","false":u.tabindex}),i.expectWithText(c,"aria-label"),t.link.pre(n,{on:e.noop,0:{}},u,[h]),n.mouseActive=!1,c.on("click",p).on("keypress",f).on("mousedown",function(){n.mouseActive=!0,s(function(){n.mouseActive=!1},100)}).on("focus",function(){n.mouseActive===!1&&c.addClass("md-focused")}).on("blur",function(){c.removeClass("md-focused")}),h.$render=m}}t=t[0];var l="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:c}}e.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t),t.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){e.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function t(t){function e(t,e){this.$scope=t,this.$element=e}return{restrict:"E",controller:["$scope","$element",e],link:function(e,i){i[0];t(i),e.$broadcast("$mdContentLoaded",i),n(i[0])}}}function n(t){e.element(t).on("$md.pressdown",function(e){"t"===e.pointer.type&&(e.$materialScrollFixed||(e.$materialScrollFixed=!0,0===t.scrollTop?t.scrollTop=1:t.scrollHeight===t.scrollTop+t.offsetHeight&&(t.scrollTop-=1)))})}e.module("material.components.content",["material.core"]).directive("mdContent",t),t.$inject=["$mdTheming"]}(),function(){function t(t,e){return{restrict:"E",link:function(n,i){e(i),t(function(){var t=i[0].querySelector("md-dialog-content");t&&t.scrollHeight>t.clientHeight&&i.addClass("md-content-overflow")})}}}function n(t){function n(t,e){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">','<md-dialog-content role="document" tabIndex="-1">','<h2 class="md-title">{{ dialog.title }}</h2>',"<p>{{ dialog.content }}</p>","</md-dialog-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()" class="md-primary">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){t.hide(!0)},this.abort=function(){t.cancel()}},controllerAs:"dialog",bindToController:!0,theme:e.defaultTheme()}}function i(t,n,i,r,o,a,s,c,l,u,h){function d(t){var e=document.querySelector("md-dialog");e&&!e.contains(t.target)&&(t.stopImmediatePropagation(),e.focus())}function f(t,u,h){function f(){var t=u[0].querySelector(".dialog-close");if(!t){var n=u[0].querySelectorAll(".md-actions button");t=n[n.length-1]}return e.element(t)}e.element(n[0].body).addClass("md-dialog-is-showing"),u=i.extractElementByName(u,"md-dialog"),h.parent=e.element(h.parent),h.popInTarget=e.element((h.targetEvent||{}).target);var p=f();if(h.hasBackdrop){var g=h.parent[0]==n[0].body&&n[0].documentElement&&n[0].documentElement.scrollTop?e.element(n[0].documentElement):h.parent,y=g.prop("scrollTop");h.backdrop=e.element('<md-backdrop class="md-dialog-backdrop md-opaque">'),h.backdrop.css("top",y+"px"),o.inherit(h.backdrop,h.parent),l.enter(h.backdrop,h.parent),u.css("top",y+"px")}var x="dialog",w=p;return"alert"===h.$type&&(x="alertdialog",w=u.find("md-dialog-content")),m(u.find("md-dialog"),x,h),document.addEventListener("focus",d,!0),h.disableParentScroll&&(h.lastOverflow=h.parent.css("overflow"),h.parent.css("overflow","hidden")),b(u,h.parent,h.popInTarget&&h.popInTarget.length&&h.popInTarget).then(function(){v(u,!0),h.escapeToClose&&(h.rootElementKeyupCallback=function(t){t.keyCode===r.KEY_CODE.ESCAPE&&s(a.cancel)},c.on("keyup",h.rootElementKeyupCallback)),h.clickOutsideToClose&&(h.dialogClickOutsideCallback=function(t){t.target===u[0]&&s(a.cancel)},u.on("click",h.dialogClickOutsideCallback)),h.focusOnOpen&&w.focus()})}function p(t,i,r){return e.element(n[0].body).removeClass("md-dialog-is-showing"),r.backdrop&&l.leave(r.backdrop),r.disableParentScroll&&(r.parent.css("overflow",r.lastOverflow),delete r.lastOverflow),r.escapeToClose&&c.off("keyup",r.rootElementKeyupCallback),r.clickOutsideToClose&&i.off("click",r.dialogClickOutsideCallback),v(i,!1),document.removeEventListener("focus",d,!0),y(i,r.parent,r.popInTarget&&r.popInTarget.length&&r.popInTarget).then(function(){i.remove(),r.popInTarget&&r.popInTarget.focus()})}function m(e,n,r){e.attr({role:n,tabIndex:"-1"});var o=e.find("md-dialog-content");0===o.length&&(o=e);var a=e.attr("id")||"dialog_"+i.nextUid();o.attr("id",a),e.attr("aria-describedby",a),r.ariaLabel?t.expect(e,"aria-label",r.ariaLabel):t.expectAsync(e,"aria-label",function(){var t=o.text().split(/\s+/);return t.length>3&&(t=t.slice(0,3).concat("...")),t.join(" ")})}function g(t,e){return-1!==e.indexOf(t.nodeName)?!0:void 0}function v(t,e){function n(t){for(;t.parentNode;){if(t===document.body)return;for(var r=t.parentNode.children,o=0;o<r.length;o++)t===r[o]||g(r[o],["SCRIPT","STYLE"])||r[o].setAttribute(i,e);n(t=t.parentNode)}}var i="aria-hidden";t=t[0],n(t)}function b(t,e,n){var o=t.find("md-dialog");return e.append(t),x(o,n),u(function(){o.addClass("transition-in").css(r.CSS.TRANSFORM,"")}),i.transitionEndPromise(o)}function y(t,e,n){var r=t.find("md-dialog");return r.addClass("transition-out").removeClass("transition-in"),x(r,n),i.transitionEndPromise(r)}function x(t,e){if(e){var n=e[0].getBoundingClientRect(),i=t[0].getBoundingClientRect(),o=Math.min(.5,n.width/i.width),a=Math.min(.5,n.height/i.height);t.css(r.CSS.TRANSFORM,"translate3d("+(-i.left+n.left+n.width/2-i.width/2)+"px,"+(-i.top+n.top+n.height/2-i.height/2)+"px,0) scale("+o+","+a+")")}}return{hasBackdrop:!0,isolateScope:!0,onShow:f,onRemove:p,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,focusOnOpen:!0,disableParentScroll:!0,transformTemplate:function(t){return'<div class="md-dialog-container">'+t+"</div>"}}}return n.$inject=["$mdDialog","$mdTheming"],i.$inject=["$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$mdDialog","$timeout","$rootElement","$animate","$$rAF","$q"],t("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:i}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:n}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:n})}e.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",n),t.$inject=["$$rAF","$mdTheming"],n.$inject=["$$interimElementProvider"]}(),function(){function t(t){return{restrict:"E",link:t}}e.module("material.components.divider",["material.core"]).directive("mdDivider",t),t.$inject=["$mdTheming"]}(),function(){!function(){function t(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],link:function(t,n,i,r){var o=r[0]||r[1];o&&e.forEach(n.children(),function(t){e.element(t).on("focus",o.open),e.element(t).on("blur",o.close)}),n.children().wrap('<div class="md-fab-action-item">')}}}e.module("material.components.fabActions",["material.core"]).directive("mdFabActions",t)}()}(),function(){!function(){function t(){function t(t,e){e.prepend('<div class="md-css-variables"></div>')}function e(t,e,n){function i(){a.direction=a.direction||"down",a.isOpen=a.isOpen||!1}function r(){e.on("mouseenter",a.open),e.on("mouseleave",a.close)}function o(){t.$watch("vm.direction",function(t,i){n.removeClass(e,"md-"+i),n.addClass(e,"md-"+t)}),t.$watch("vm.isOpen",function(t){var i=t?"md-is-open":"",r=t?"":"md-is-open";n.setClass(e,i,r)})}var a=this;a.open=function(){t.$apply("vm.isOpen = true")},a.close=function(){t.$apply("vm.isOpen = false")},i(),r(),o()}return e.$inject=["$scope","$element","$animate"],{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:e,controllerAs:"vm",link:t}}function n(){function t(t){var n=t[0],i=t.controller("mdFabSpeedDial"),r=n.querySelectorAll(".md-fab-action-item"),o=n.querySelector(".md-css-variables"),a=o.style.zIndex;e.forEach(r,function(t,e){var n=t.style;n.transform="",n.transitionDelay="",n.opacity=1,t.style.zIndex=r.length-e+a}),i.isOpen||e.forEach(r,function(t,e){var n,r;switch(i.direction){case"up":n=t.scrollHeight*(e+1),r="Y";break;case"down":n=-t.scrollHeight*(e+1),r="Y";break;case"left":n=t.scrollWidth*(e+1),r="X";break;case"right":n=-t.scrollWidth*(e+1),r="X"}t.style.transform="translate"+r+"("+n+"px)"})}return{addClass:function(e){e.hasClass("md-fling")&&t(e)},removeClass:function(e){t(e)}}}function i(){function t(t){var i=t[0],r=t.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item");e.forEach(o,function(t,e){var i=t.style,a=e*n;i.opacity=r.isOpen?1:0,i.transform=r.isOpen?"scale(1)":"scale(0)",i.transitionDelay=(r.isOpen?a:o.length-a)+"ms"})}var n=65;return{addClass:function(e){t(e)},removeClass:function(e){t(e)}}}e.module("material.components.fabSpeedDial",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",t).animation(".md-fling",n).animation(".md-scale",i)}()}(),function(){!function(){function n(){function t(t,e,n){var i=this;i.isOpen=i.isOpen||!1,i.open=function(){i.isOpen=!0,t.$apply()},i.close=function(){i.isOpen=!1,t.$apply()},e.addClass("md-fab-toolbar"),e.on("mouseenter",i.open),e.on("mouseleave",i.close),t.$watch("vm.isOpen",function(t){var i=t?"md-is-open":"",r=t?"":"md-is-open";n.setClass(e,i,r)})}function e(t,e){e.find("md-fab-trigger").find("button").attr("tabindex","-1"),e.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return t.$inject=["$scope","$element","$animate"],{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{isOpen:"=?mdOpen"},bindToController:!0,controller:t,controllerAs:"vm",link:e}}function i(){function n(n){var i=n[0],r=n.controller("mdFabToolbar"),o=i.querySelector(".md-fab-toolbar-background"),a=i.querySelector("md-fab-trigger button"),s=i.querySelector("md-fab-trigger button md-icon"),c=n.find("md-fab-actions").children();if(a&&o){var l=t.getComputedStyle(a).getPropertyValue("background-color"),u=i.offsetWidth,h=(i.offsetHeight,2*u);o.style.backgroundColor=l,o.style.borderRadius=u+"px",r.isOpen?(o.style.width=h+"px",o.style.height=h+"px",o.style.top=-(h/2)+"px",n.hasClass("md-left")&&(o.style.left=-(h/2)+"px",o.style.right=null),n.hasClass("md-right")&&(o.style.right=-(h/2)+"px",o.style.left=null),o.style.transitionDelay="0ms",s.style.transitionDelay=".3s",e.forEach(c,function(t,e){t.style.transitionDelay=25*(c.length-e)+"ms"})):(o.style.width=a.offsetWidth+"px",o.style.height=a.offsetHeight+"px",o.style.top="0px",n.hasClass("md-left")&&(o.style.left="0px",o.style.right=null),n.hasClass("md-right")&&(o.style.right="0px",o.style.left=null),o.style.transitionDelay="200ms",s.style.transitionDelay="0ms",e.forEach(c,function(t,e){t.style.transitionDelay=25*e+"ms"}))}}return{addClass:function(t,e,i){n(t,e,i)},removeClass:function(t,e,i){n(t,e,i)}}}e.module("material.components.fabToolbar",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",i)}()}(),function(){!function(){function t(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],link:function(t,n,i,r){var o=r[0]||r[1];o&&e.forEach(n.children(),function(t){e.element(t).on("focus",o.open),e.element(t).on("blur",o.close)})}}}e.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",t)}()}(),function(){function t(t,i,r,o){function a(n,a,s,c){function l(){for(var t in i.MEDIA)o(t),o.getQuery(i.MEDIA[t]).addListener($);return o.watchResponsiveAttributes(["md-cols","md-row-height"],s,h)}function u(){c.layoutDelegate=e.noop,_();for(var t in i.MEDIA)o.getQuery(i.MEDIA[t]).removeListener($)}function h(t){null==t?c.invalidateLayout():o(t)&&c.invalidateLayout()}function d(t){var i=g(),o={tileSpans:v(i),colCount:b(),rowMode:w(),rowHeight:x(),gutter:y()};if(t||!e.equals(o,E)){var s=r(o.colCount,o.tileSpans,i).map(function(t,n){return{grid:{element:a,style:m(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:t.map(function(t,n){return{element:e.element(i[n]),style:p(t.position,t.spans,o.colCount,o.rowCount,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),E=o}}function f(t){return S+t+T}function p(t,e,n,i,r,o,a){var s=1/n*100,c=(n-1)/n,l=A({share:s,gutterShare:c,gutter:r}),u={left:k({unit:l,offset:t.col,gutter:r}),width:M({unit:l,span:e.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=k({unit:a,offset:t.row,gutter:r}),u.height=M({unit:a,span:e.row,gutter:r});break;case"ratio":var h=s/a,d=A({share:h,gutterShare:c,gutter:r});u.paddingTop=M({unit:d,span:e.row,gutter:r}),u.marginTop=k({unit:d,offset:t.row,gutter:r});break;case"fit":var f=(i-1)/i,h=1/i*100,d=A({share:h,gutterShare:f,gutter:r});u.top=k({unit:d,offset:t.row,gutter:r}),u.height=M({unit:d,span:e.row,gutter:r})}return u}function m(t,e,n,i,r){var o={height:"",paddingBottom:""};switch(i){case"fixed":o.height=M({unit:r,span:e,gutter:n});break;case"ratio":var a=1===t?0:(t-1)/t,s=1/t*100,c=s*(1/r),l=A({share:c,gutterShare:a,gutter:n});o.paddingBottom=M({unit:l,span:e,gutter:n});break;case"fit":}return o}function g(){return[].filter.call(a.children(),function(t){return"MD-GRID-TILE"==t.tagName})}function v(t){return[].map.call(t,function(t){var n=e.element(t).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function b(){var t=parseInt(o.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(t))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return t}function y(){return C(o.getResponsiveAttribute(s,"md-gutter")||1)}function x(){var t=o.getResponsiveAttribute(s,"md-row-height");switch(w()){case"fixed":return C(t);case"ratio":var e=t.split(":");return parseFloat(e[0])/parseFloat(e[1]);case"fit":return 0}}function w(){var t=o.getResponsiveAttribute(s,"md-row-height");return"fit"==t?"fit":-1!==t.indexOf(":")?"ratio":"fixed"}function C(t){return/\D$/.test(t)?t:t+"px"}a.attr("role","list"),c.layoutDelegate=d;var $=e.bind(c,c.invalidateLayout),_=l();n.$on("$destroy",u);var E,S=t.startSymbol(),T=t.endSymbol(),A=t(f("share")+"% - ("+f("gutter")+" * "+f("gutterShare")+")"),k=t("calc(("+f("unit")+" + "+f("gutter")+") * "+f("offset")+")"),M=t("calc(("+f("unit")+") * "+f("span")+" + ("+f("span")+" - 1) * "+f("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(t){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=t,this.layoutDelegate=e.noop}function i(t){function n(e,n){var i,a,s,c,l,u;return c=t.time(function(){a=r(e,n)}),i={layoutInfo:function(){return a},map:function(e){return l=t.time(function(){var t=i.layoutInfo();s=e(t.positioning,t.rowCount)}),i},reflow:function(e){return u=t.time(function(){var t=e||o;t(s.grid,s.tiles)}),i},performance:function(){return{tileCount:n.length,layoutTime:c,mapTime:l,reflowTime:u,totalTime:c+l+u}}}}function i(t,e){t.element.css(t.style),e.forEach(function(t){t.element.css(t.style)})}function r(t,e){function n(e,n){if(e.col>t)throw"md-grid-list: Tile at position "+n+" has a colspan ("+e.col+") that exceeds the column count ("+t+")";for(var a=0,u=0;u-a<e.col;)s>=t?i():(a=l.indexOf(0,s),-1!==a&&-1!==(u=o(a+1))?s=u+1:(a=u=0,i()));return r(a,e.col,e.row),s=a+e.col,{col:a,row:c}}function i(){s=0,c++,r(0,t,-1)}function r(t,e,n){for(var i=t;t+e>i;i++)l[i]=Math.max(l[i]+n,0)}function o(t){var e;for(e=t;e<l.length;e++)if(0!==l[e])return e;return e===l.length?e:void 0}function a(){for(var e=[],n=0;t>n;n++)e.push(0);return e}var s=0,c=0,l=a();return{positioning:e.map(function(t,e){return{spans:t,position:n(t,e)}}),rowCount:c+Math.max.apply(Math,l)}}var o=i;return n.animateWith=function(t){o=e.isFunction(t)?t:i},n}function r(t){function n(n,i,r,o){i.attr("role","listitem");var a=t.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,e.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){a(),o.invalidateLayout()}),e.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(t,e){t!==e&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(t){this.$attrs=t}],link:n}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}e.module("material.components.gridList",["material.core"]).directive("mdGridList",t).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",i),t.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$timeout"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(e.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},i.$inject=["$mdUtil"],r.$inject=["$mdMedia"]}(),function(){function t(t,n,i){function r(r,o,a){function s(){var t=o.parent();return t.attr("aria-label")||t.text()?!0:t.parent().attr("aria-label")||t.parent().text()?!0:!1}function c(){r.svgIcon||r.svgSrc||(r.fontIcon&&(o.addClass("md-font"),o.addClass(r.fontIcon)),r.fontSet&&o.addClass(t.fontSet(r.fontSet)),r.fontIcon||r.fontSet||e.isDefined(a.class)||o.addClass("material-icons"))}n(o),c();var l=a.alt||r.fontIcon||r.svgIcon||o.text(),u=a.$normalize(a.$attr.mdSvgIcon||a.$attr.mdSvgSrc||"");a["aria-label"]||(""==l||s()?o.text()||i.expect(o,"aria-hidden","true"):(i.expect(o,"aria-label",l),i.expect(o,"role","img"))),u&&a.$observe(u,function(e){o.empty(),e&&t(e).then(function(t){o.append(t)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:r}}e.module("material.components.icon",["material.core"]).directive("mdIcon",t),t.$inject=["$mdIcon","$mdTheming","$mdAria","$interpolate"]}(),function(){function t(){}function n(t,e){this.url=t,this.viewBoxSize=e||r.defaultViewBoxSize}function i(t,n,i,r,o){function a(t){return t=t||"",b[t]?i.when(b[t].clone()):y.test(t)?h(t).then(c(t)):(-1==t.indexOf(":")&&(t="$default:"+t),l(t).catch(u).catch(d).catch(f).then(c(t)))}function s(n){var i=e.isUndefined(n)||!(n&&n.length);if(i)return t.defaultFontSet;var r=n;return e.forEach(t.fontSets,function(t){t.alias==n&&(r=t.fontSet||r)}),r}function c(e){return function(n){return b[e]=p(n)?n:new m(n,t[e]),b[e].clone()}}function l(e){var n=t[e];return n?h(n.url).then(function(t){return new m(t,n)}):i.reject(e)}function u(e){function n(t){var n=e.slice(e.lastIndexOf(":")+1),r=t.querySelector("#"+n);return r?new m(r,o):i.reject(e)}var r=e.substring(0,e.lastIndexOf(":"))||"$default",o=t[r];return o?h(o.url).then(n):i.reject(e)}function h(t){return n.get(t,{cache:o}).then(function(t){return e.element("<div>").append(t.data).find("svg")[0]})}function d(t){var n;return e.isString(t)&&(n="icon "+t+" not found",r.warn(n)),i.reject(n||t)}function f(t){var n=e.isString(t)?t:t.message||t.data||t.statusText;return r.warn(n),i.reject(n)}function p(t){return e.isDefined(t.element)&&e.isDefined(t.config)}function m(t,n){"svg"!=t.tagName&&(t=e.element('<svg xmlns="http://www.w3.org/2000/svg">').append(t)[0]),t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=t,this.config=n,this.prepare()}function g(){var n=this.config?this.config.viewBoxSize:t.defaultViewBoxSize;e.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(t,e){this.element.setAttribute(e,t)},this),e.forEach({"pointer-events":"none",display:"block"},function(t,e){this.element.style[e]=t},this)}function v(){return this.element.cloneNode(!0)}var b={},y=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/i;return m.prototype={clone:v,prepare:g},a.fontSet=s,a}e.module("material.components.icon").provider("$mdIcon",t);var r={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};t.prototype={icon:function(t,e,i){return-1==t.indexOf(":")&&(t="$default:"+t),r[t]=new n(e,i),this},iconSet:function(t,e,i){return r[t]=new n(e,i),this},defaultIconSet:function(t,e){var i="$default";return r[i]||(r[i]=new n(t,e)),r[i].viewBoxSize=e||r.defaultViewBoxSize,this},defaultViewBoxSize:function(t){return r.defaultViewBoxSize=t,this},fontSet:function(t,e){r.fontSets.push({alias:t,fontSet:e||t})},defaultFontSet:function(t){return r.defaultFontSet=t?t:"",this},defaultIconSize:function(t){return r.defaultIconSize=t,this},preloadIcons:function(t){var e=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100"><path d="M 50 0 L 100 14 L 92 80 L 50 100 L 8 80 L 0 14 Z" fill="#b2b2b2"></path><path d="M 50 5 L 6 18 L 13.5 77 L 50 94 Z" fill="#E42939"></path><path d="M 50 5 L 94 18 L 86.5 77 L 50 94 Z" fill="#B72833"></path><path d="M 50 7 L 83 75 L 72 75 L 65 59 L 50 59 L 50 50 L 61 50 L 50 26 Z" fill="#b2b2b2"></path><path d="M 50 7 L 17 75 L 28 75 L 35 59 L 50 59 L 50 50 L 39 50 L 50 26 Z" fill="#fff"></path></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];n.forEach(function(n){e.icon(n.id,n.url),t.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(t,e,n,o){return this.preloadIcons(o),i(r,t,e,n,o)}]}}(),function(){function t(t,e){function n(e,n){t(n)}function i(t,n,i){var r=this;r.isErrorGetter=i.mdIsError&&e(i.mdIsError),r.delegateClick=function(){r.input.focus()},r.element=n,r.setFocused=function(t){n.toggleClass("md-input-focused",!!t)},r.setHasValue=function(t){n.toggleClass("md-input-has-value",!!t)},r.setInvalid=function(t){n.toggleClass("md-input-invalid",!!t)},t.$watch(function(){return r.label&&r.input},function(t){t&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}return i.$inject=["$scope","$element","$attrs"],{restrict:"E",link:n,controller:i}}function n(){return{restrict:"E",require:"^?mdInputContainer",link:function(t,e,n,i){i&&!n.mdNoFloat&&(i.label=e,t.$on("$destroy",function(){i.label=null}))}}}function i(t,n,i){function r(r,o,a,s){function c(t){return h.setHasValue(!d.$isEmpty(t)),t}function l(){h.setHasValue(o.val().length>0||(o[0].validity||{}).badInput)}function u(){function i(t){return u(),t}function a(){l.style.height="auto",l.scrollTop=0;var t=s();t&&(l.style.height=t+"px")}function s(){var t=l.scrollHeight-l.offsetHeight;return l.offsetHeight+(t>0?t:0)}function c(){l.scrollTop=0;var t=l.scrollHeight-l.offsetHeight,e=l.offsetHeight+t;l.style.height=e+"px"}var l=o[0],u=t.debounce(a,1);d?(d.$formatters.push(i),d.$viewChangeListeners.push(i)):u(),o.on("keydown input",u),o.on("scroll",c),e.element(n).on("resize",u),r.$on("$destroy",function(){e.element(n).off("resize",u)})}var h=s[0],d=s[1]||t.fakeNgModel(),f=e.isDefined(a.readonly);if(h){if(h.input)throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!");h.input=o,h.label||i.expect(o,"aria-label",o.attr("placeholder")),o.addClass("md-input"),o.attr("id")||o.attr("id","input_"+t.nextUid()),"textarea"===o[0].tagName.toLowerCase()&&u();var p=h.isErrorGetter||function(){return d.$invalid&&d.$touched};r.$watch(p,h.setInvalid),d.$parsers.push(c),d.$formatters.push(c),o.on("input",l),f||o.on("focus",function(){h.setFocused(!0)}).on("blur",function(){h.setFocused(!1),l()}),r.$on("$destroy",function(){h.setFocused(!1),h.setHasValue(!1),h.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:r}}function r(t){function n(n,i,r,o){function a(t){return u.text((i.val()||t||"").length+"/"+s),t}var s,c=o[0],l=o[1],u=e.element('<div class="md-char-counter">');r.$set("ngTrim","false"),l.element.append(u),c.$formatters.push(a),c.$viewChangeListeners.push(a),i.on("input keydown",function(){a()}),n.$watch(r.mdMaxlength,function(n){s=n,e.isNumber(n)&&n>0?(u.parent().length||t.enter(u,l.element,e.element(l.element[0].lastElementChild)),a()):t.leave(u)}),c.$validators["md-maxlength"]=function(t,n){return!e.isNumber(s)||0>s?!0:(t||i.val()||n||"").length<=s}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:n}}function o(t){function n(n,r,o,a){if(a&&-1==i.indexOf(r[0].nodeName)&&!e.isDefined(a.element.attr("md-no-float"))){var s=o.placeholder;if(r.removeAttr("placeholder"),0==a.element.find("label").length){var c='<label ng-click="delegateClick()">'+s+"</label>";a.element.addClass("md-icon-float"),a.element.prepend(c)}else t.warn("The placeholder='"+s+"' will be ignored since this md-input-container has a child label element.")}}var i=["MD-SELECT"];return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:n}}e.module("material.components.input",["material.core"]).directive("mdInputContainer",t).directive("label",n).directive("input",i).directive("textarea",i).directive("mdMaxlength",r).directive("placeholder",o),t.$inject=["$mdTheming","$parse"],i.$inject=["$mdUtil","$window","$mdAria"],r.$inject=["$animate"],o.$inject=["$log"]
}(),function(){function t(t){return{restrict:"E",compile:function(e){return e[0].setAttribute("role","list"),t}}}function n(t,n,i){var r=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(o,a){function s(){for(var t,e,n=["md-switch","md-checkbox"],i=0;e=n[i];++i)if((t=o.find(e)[0])&&!t.hasAttribute("aria-label")){var r=o.find("p")[0];if(!r)return;t.setAttribute("aria-label","Toggle "+r.textContent)}}function c(n){var i;if("div"==n)i=e.element('<div class="md-no-style md-list-item-inner">'),i.append(o.contents()),o.addClass("md-proxy-focus");else{i=e.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>');var r=["ng-click","aria-label","ng-disabled"];e.forEach(r,function(t){o[0].hasAttribute(t)&&(i[0].setAttribute(t,o[0].getAttribute(t)),o[0].removeAttribute(t))}),i.children().eq(0).append(o.contents())}if(o[0].setAttribute("tabindex","-1"),o.append(i),f&&f.hasAttribute("ng-click")){t.expect(f,"aria-label");var s=e.element('<md-button class="md-secondary-container md-icon-button">');s.attr("ng-click",f.getAttribute("ng-click")),f.removeAttribute("ng-click"),f.setAttribute("tabindex","-1"),f.classList.remove("md-secondary"),s.append(f),f=s[0]}f&&(f.hasAttribute("ng-click")||a.ngClick&&l(f))&&(o.addClass("md-with-secondary"),o.append(f))}function l(t){return-1!=r.indexOf(t.nodeName.toLowerCase())}function u(t,o,a,s){function c(){var t=o.children();t.length&&!t[0].hasAttribute("ng-click")&&e.forEach(r,function(t){e.forEach(h.querySelectorAll(t),function(t){u.push(t)})})}function l(){(u.length||d)&&(o.addClass("md-clickable"),s.attachRipple(t,e.element(o[0].querySelector(".md-no-style"))))}var u=[],h=o[0].firstElementChild,d=h&&h.hasAttribute("ng-click");c(),l(),o.hasClass("md-proxy-focus")&&u.length&&e.forEach(u,function(n){n=e.element(n),t.mouseActive=!1,n.on("mousedown",function(){t.mouseActive=!0,i(function(){t.mouseActive=!1},100)}).on("focus",function(){t.mouseActive===!1&&o.addClass("md-focused"),n.on("blur",function e(){o.removeClass("md-focused"),n.off("blur",e)})})}),d||u.length||h&&h.addEventListener("keypress",function(t){if("INPUT"!=t.target.nodeName&&"TEXTAREA"!=t.target.nodeName){var e=t.which||t.keyCode;e==n.KEY_CODE.SPACE&&h&&(h.click(),t.preventDefault(),t.stopPropagation())}}),o.off("click"),o.off("keypress"),u.length&&h&&o.children().eq(0).on("click",function(t){h.contains(t.target)&&e.forEach(u,function(n){t.target===n||n.contains(t.target)||e.element(n).triggerHandler("click")})})}var h,d,f=o[0].querySelector(".md-secondary");if(o[0].setAttribute("role","listitem"),a.ngClick)c("button");else{for(var p,m=0;p=r[m];++m)if(d=o[0].querySelector(p)){h=!0;break}h?c("div"):o[0].querySelector("md-button")||o.addClass("md-no-proxy")}return s(),u}}}function i(t,e,n){function i(t,e){var i={};n.attach(t,e,i)}var r=this;r.attachRipple=i}e.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",t).directive("mdListItem",n),t.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$timeout"],i.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){function t(){function t(t){t.addClass("md-menu");var e=t.children()[0];if(e.hasAttribute("ng-click")||(e=e.querySelector("[ng-click]")),e&&e.setAttribute("aria-haspopup","true"),2!=t.children().length)throw Error("Invalid HTML for md-menu. Expected two children elements.");return n}function n(t,n,i,r){var o=e.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),a=n.children()[1];o.append(a),r.init(o),t.$on("$destroy",function(){r.isOpen&&(o.remove(),r.close())})}return{restrict:"E",require:"mdMenu",controller:"mdMenuCtrl",scope:!0,compile:t}}function n(t,e,n,i){var r,o,a=this;this.init=function(t){r=t,o=n[0].querySelector("[ng-click]")},this.open=function(e){e&&e.stopPropagation(),a.isOpen=!0,o.setAttribute("aria-expanded","true"),t.show({mdMenuCtrl:a,element:r,target:n[0]})},i.$mdOpenMenu=this.open,this.close=function(e){a.isOpen=!1,o.setAttribute("aria-expanded","false"),t.hide(),e||n.children()[0].focus()},this.positionMode=function(){var t=(e.mdPositionMode||"target").split(" ");return 1==t.length&&t.push(t[0]),{left:t[0],top:t[1]}},this.offsets=function(){var t=(e.mdOffset||"0 0").split(" ").map(parseFloat);if(2==t.length)return{left:t[0],top:t[1]};if(1==t.length)return{top:t[0],left:t[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}e.module("material.components.menu",["material.core","material.components.backdrop"]).directive("mdMenu",t).controller("mdMenuCtrl",n),t.$inject=["$mdMenu"],n.$inject=["$mdMenu","$attrs","$element","$scope"]}(),function(){function t(t){function i(t,i,o,a,s,c,l){function u(n,r,l){function u(){if(!l.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");e.extend(l,{alreadyOpen:!1,isRemoved:!1,target:e.element(l.target),parent:e.element(l.parent),menuContentEl:e.element(r[0].querySelector("md-menu-content")),backdrop:l.hasBackdrop&&e.element('<md-backdrop class="md-menu-backdrop md-click-catcher">')})}function d(){l.resizeFn=function(){p(r,l)},e.element(i).on("resize",l.resizeFn),e.element(i).on("orientationchange",l.resizeFn)}function f(){l.parent.append(r),r.removeClass("md-leave"),t(function(){t(function(){p(r,l),t(function(){r.addClass("md-active"),l.alreadyOpen=!0,r[0].style[c.CSS.TRANSFORM]=""})})})}function m(){r.addClass("md-clickable"),l.backdrop&&l.backdrop.on("click",function(t){t.preventDefault(),t.stopPropagation(),l.mdMenuCtrl.close(!0)}),l.menuContentEl.on("keydown",function(t){n.$apply(function(){switch(t.keyCode){case c.KEY_CODE.ESCAPE:l.mdMenuCtrl.close();break;case c.KEY_CODE.UP_ARROW:h(t,l.menuContentEl,l,-1);break;case c.KEY_CODE.DOWN_ARROW:h(t,l.menuContentEl,l,1)}})}),l.menuContentEl.on("click",function(t){function e(){n.$apply(function(){l.mdMenuCtrl.close()})}var i=t.target;do if(i&&i.hasAttribute("ng-click")){i.hasAttribute("disabled")||e();break}while((i=i.parentNode)&&i!=l.menuContentEl)});var t=l.menuContentEl[0].querySelector("[md-menu-focus-target]");t||(t=l.menuContentEl[0].firstElementChild.firstElementChild),t.focus()}return u(l),a.inherit(l.menuContentEl,l.target),d(),l.disableParentScroll&&(l.restoreScroll=o.disableScrollAround(l.element)),s(m,75,!1),l.backdrop&&(a.inherit(l.backdrop,l.parent),l.parent.append(l.backdrop)),f(),o.transitionEndPromise(r,{timeout:350})}function h(t,e,n,i){for(var r=o.getClosest(t.target,"MD-MENU-ITEM"),a=o.nodesToArray(e[0].children),s=a.indexOf(r),c=s+i;c>=0&&c<a.length;c+=i){var l=a[c].firstElementChild||a[c],u=d(l);if(u)break}}function d(t){return t&&-1!=t.getAttribute("tabindex")?(t.focus(),l[0].activeElement==t?!0:!1):void 0}function f(t,r,a){return a.isRemoved=!0,r.addClass("md-leave").removeClass("md-clickable"),e.element(i).off("resize",a.resizeFn),e.element(i).off("orientationchange",a.resizeFn),a.resizeFn=n,o.transitionEndPromise(r,{timeout:350}).then(function(){r.removeClass("md-active"),a.backdrop&&a.backdrop.remove(),r[0].parentNode===a.parent[0]&&a.parent[0].removeChild(r[0]),a.restoreScroll&&a.restoreScroll()})}function p(t,e){function n(t){t.top=Math.max(Math.min(t.top,m.bottom-s.offsetHeight),m.top),t.left=Math.max(Math.min(t.left,m.right-s.offsetWidth),m.left)}if(!e.isRemoved){var i,o,a,s=t[0],l=t[0].firstElementChild,u=l.getBoundingClientRect(),h=e.parent[0],d=h.getBoundingClientRect(),f=e.target[0].querySelector("[md-menu-origin]")||e.target[0],p=f.getBoundingClientRect(),m={left:d.left+r,top:d.top+r,bottom:d.bottom-r,right:d.right-r},g=e.mdMenuCtrl.positionMode();("target"==g.top||"target"==g.left||"target-right"==g.left)&&(i=l.firstElementChild.firstElementChild||l.firstElementChild,i=i.querySelector("[md-menu-align-target]")||i,o=i.getBoundingClientRect(),a={top:parseFloat(s.style.top||0),left:parseFloat(s.style.left||0)});var v={},b="top ";switch(g.top){case"target":v.top=a.top+p.top-o.top;break;default:throw new Error('Invalid target mode "'+g.top+'" specified for md-menu on Y axis.')}switch(g.left){case"target":v.left=a.left+p.left-o.left,b+="left";break;case"target-right":v.left=p.right-u.width+(u.right-o.right),b+="right";break;default:throw new Error('Invalid target mode "'+g.left+'" specified for md-menu on X axis.')}var y=e.mdMenuCtrl.offsets();v.top+=y.top,v.left+=y.left,n(v),t.css({top:v.top+"px",left:v.left+"px"}),s.style[c.CSS.TRANSFORM_ORIGIN]=b,e.alreadyOpen||(s.style[c.CSS.TRANSFORM]="scale("+Math.min(p.width/s.offsetWidth,1)+","+Math.min(p.height/s.offsetHeight,1)+")")}}return{parent:"body",onShow:u,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,themable:!0}}var r=8;return i.$inject=["$$rAF","$window","$mdUtil","$mdTheming","$timeout","$mdConstant","$document"],t("$mdMenu").setDefaults({methods:["target"],options:i})}e.module("material.components.menu").provider("$mdMenu",t),t.$inject=["$$interimElementProvider"]}(),function(){function t(t,e){function n(t){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),i}function i(n,i,o){e(i);var a=i[0],s=o.mdDiameter||48,c=s/48;a.style[t.CSS.TRANSFORM]="scale("+c+")",o.$observe("value",function(t){var e=r(t);i.attr("aria-valuenow",e)})}function r(t){return Math.max(0,Math.min(t||0,100))}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:n}}e.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",t),t.$inject=["$mdConstant","$mdTheming"]}(),function(){function t(t,i,r){function o(t){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),a}function a(o,a,c){r(a);var l=a[0].querySelector(".md-bar1").style,u=a[0].querySelector(".md-bar2").style,h=e.element(a[0].querySelector(".md-container"));c.$observe("value",function(t){if("query"!=c.mdMode){var e=s(t);a.attr("aria-valuenow",e),u[i.CSS.TRANSFORM]=n[e]}}),c.$observe("mdBufferValue",function(t){l[i.CSS.TRANSFORM]=n[s(t)]}),t(function(){h.addClass("md-ready")})}function s(t){return t>100?100:0>t?0:Math.ceil(t||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:o}}e.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t),t.$inject=["$$rAF","$mdConstant","$mdTheming"];var n=function(){function t(t){var e=t/100,n=(t-100)/2;return"translateX("+n.toString()+"%) scale("+e.toString()+", 1)"}for(var e=new Array(101),n=0;101>n;n++)e[n]=t(n);return e}()}(),function(){function t(t,n,i,r){function o(o,a,s,c){function l(){a.hasClass("md-focused")||a.addClass("md-focused")}function u(i){var r=i.which||i.keyCode;switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),h.selectPrevious(),l();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),h.selectNext(),l();break;case n.KEY_CODE.ENTER:var o=e.element(t.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}i(a);var h=c[0],d=c[1]||t.fakeNgModel();h.init(d),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",u).on("mousedown",function(){o.mouseActive=!0,r(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&h.$element.addClass("md-focused")}).on("blur",function(){h.$element.removeClass("md-focused")})}function a(t){this._radioButtonRenderFns=[],this.$element=t}function s(){return{init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=e.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach(function(t){t()})},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return c(this.$element,1)},selectPrevious:function(){return c(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)}}}function c(n,i){var r=t.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=function(t){return!e.element(t).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=r[0>i?"previous":"next"](a,o)||r.first();e.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:o}}}function n(t,e,n){function i(i,o,a,s){function c(t){o[0].hasAttribute("disabled")||i.$apply(function(){s.setViewValue(a.value,t&&t.type)})}function l(){var t=s.getViewValue()==a.value;t!==h&&(h=t,o.attr("aria-checked",t),t?(o.addClass(r),s.setActiveDescendant(o.attr("id"))):o.removeClass(r))}function u(n,i){function r(){return a.id||"radio_"+e.nextUid()}i.ariaId=r(),n.attr({id:i.ariaId,role:"radio","aria-checked":"false"}),t.expectWithText(n,"aria-label")}var h;n(o),u(o,i),s.add(l),a.$observe("value",l),o.on("click",c).on("$destroy",function(){s.remove(l)})}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:i}}e.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",n),t.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function t(t,i,r,o,a,s,c){function l(a,l){var u=a.find("md-select-label").remove();if(u.length){if(!u[0].firstElementChild){var h=e.element("<span>");h.append(u.contents()),u.append(h)}}else u=e.element("<md-select-label><span></span></md-select-label>");if(u.append('<span class="md-select-icon" aria-hidden="true"></span>'),u.addClass("md-select-label"),u[0].hasAttribute("id")||u.attr("id","select_label_"+i.nextUid()),a.find("md-content").length||a.append(e.element("<md-content>").append(a.contents())),l.mdOnOpen&&a.find("md-content").prepend(e.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent()),l.name){var d=e.element('<select class="md-visually-hidden">');d.attr({name:"."+l.name,"ng-model":l.ngModel,"aria-hidden":"true",tabindex:"-1"});var f=a.find("md-option");e.forEach(f,function(t){var n=e.element("<option>"+t.innerHTML+"</option>");t.hasAttribute("ng-value")?n.attr("ng-value",t.getAttribute("ng-value")):t.hasAttribute("value")&&n.attr("value",t.getAttribute("value")),d.append(n)}),a.parent().append(d)}var p='<div class="md-select-menu-container"><md-select-menu '+(e.isDefined(l.multiple)?"multiple":"")+">"+a.html()+"</md-select-menu></div>";return a.empty().append(u),l.tabindex=l.tabindex||"0",function(a,l,u,h){function d(){var t=l.attr("placeholder");t||(t=l.find("md-select-label").text()),o.expect(l,"aria-label",t)}function f(){x&&(C=C||x.find("md-select-menu").controller("mdSelectMenu"),$.setLabelText(C.selectedLabels()))}function m(){x=e.element(p);var t=x.find("md-select-menu");t.data("$ngModelController",_),t.data("$mdSelectController",$),w=a.$new(),x=s(x)(w),C=x.find("md-select-menu").controller("mdSelectMenu")}function g(t){var n=[32,13,38,40];if(-1!=n.indexOf(t.keyCode))t.preventDefault(),v(t);else if(t.keyCode<=90&&t.keyCode>=31){t.preventDefault();var i=C.optNodeForKeyboardSearch(t);if(!i)return;var r=e.element(i).controller("mdOption");C.isMultiple||C.deselect(Object.keys(C.selected)[0]),C.select(r.hashKey,r.value),C.refreshViewValue(),_.$render()}}function v(){a.$evalAsync(function(){b=!0,t.show({scope:w,preserveScope:!0,skipCompile:!0,element:x,target:l[0],hasBackdrop:!0,loadingAsync:u.mdOnOpen?a.$eval(u.mdOnOpen)||!0:!1}).then(function(){b=!1})})}var b,y,x,w,C,$=h[0],_=h[1],E=h[2],S=l.find("md-select-label"),T=0!==S.text().length;if(m(),r(l),u.name&&E){var A=l.parent()[0].querySelector('select[name=".'+u.name+'"]');E.$removeControl(e.element(A).controller())}var k=_.$render;_.$render=function(){k(),f()},$.setLabelText=function(t){if(!T){$.setIsPlaceholder(!t),t=t||u.placeholder||"";var e=T?S:S.children().eq(0);e.text(t)}},$.setIsPlaceholder=function(t){t?S.addClass("md-placeholder"):S.removeClass("md-placeholder")},$.triggerClose=function(){c(u.mdOnClose)(a)},a.$$postDigest(function(){d(),f()});var M;u.$observe("ngMultiple",function(t){M&&M();var e=c(t);M=a.$watch(function(){return e(a)},function(t,e){(t!==n||e!==n)&&(t?l.attr("multiple","multiple"):l.removeAttr("multiple"),x&&(C.setMultiple(t),k=_.$render,_.$render=function(){k(),f()},C.refreshViewValue(),_.$render()))})}),u.$observe("disabled",function(t){"string"==typeof t&&(t=!0),(y===n||y!==t)&&(y=t,t?(l.attr({tabindex:-1,"aria-disabled":"true"}),l.off("click",v),l.off("keydown",g)):(l.attr({tabindex:u.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",g)))}),u.disabled||u.ngDisabled||(l.attr({tabindex:u.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",g));var O={role:"combobox","aria-expanded":"false"};l[0].hasAttribute("id")||(O.id="select_"+i.nextUid()),l.attr(O),a.$on("$destroy",function(){b?t.cancel().then(function(){x.remove()}):x.remove()})}}return{restrict:"E",require:["mdSelect","ngModel","?^form"],compile:l,controller:function(){}}}function i(t,i,r){function o(t,n,o,a){function s(){n.attr({id:"select_menu_"+i.nextUid(),role:"listbox","aria-multiselectable":u.isMultiple?"true":"false"})}function c(t){(13==t.keyCode||32==t.keyCode)&&l(t)}function l(n){var r=i.getClosest(n.target,"md-option"),o=r&&e.element(r).data("$mdOptionController");if(r&&o){var a=u.hashGetter(o.value),s=e.isDefined(u.selected[a]);t.$apply(function(){u.isMultiple?s?u.deselect(a):u.select(a,o.value):s||(u.deselect(Object.keys(u.selected)[0]),u.select(a,o.value)),u.refreshViewValue()})}}var u=a[0],h=a[1];r(n),n.on("click",l),n.on("keypress",c),h&&u.init(h),s()}function a(r,o,a){function s(){var t=u.ngModel.$modelValue||u.ngModel.$viewValue;if(e.isArray(t)){var n=Object.keys(u.selected),i=t.map(u.hashGetter),r=n.filter(function(t){return-1===i.indexOf(t)});r.forEach(u.deselect),i.forEach(function(e,n){u.select(e,t[n])})}}function l(){var t=u.ngModel.$viewValue||u.ngModel.$modelValue;Object.keys(u.selected).forEach(u.deselect),u.select(u.hashGetter(t),t)}var u=this;u.isMultiple=e.isDefined(o.multiple),u.selected={},u.options={},r.$watch(function(){return u.options},function(){u.ngModel.$render()},!0);var h;u.setMultiple=function(t){function n(t,n){return e.isArray(t||n||[])}var i=u.ngModel;u.isMultiple=t,h&&h(),u.isMultiple?(i.$validators["md-multiple"]=n,i.$render=s,r.$watchCollection(o.ngModel,function(t){n(t)&&s(t)})):(delete i.$validators["md-multiple"],i.$render=l)};var d,f,p,m="",g=300;u.optNodeForKeyboardSearch=function(t){d&&clearTimeout(d),d=setTimeout(function(){d=n,m="",p=n,f=n},g),m+=String.fromCharCode(t.keyCode);var i=new RegExp("^"+m,"i");f||(f=a.find("md-option"),p=new Array(f.length),e.forEach(f,function(t,e){p[e]=t.textContent.trim()}));for(var r=0;r<p.length;++r)if(i.test(p[r]))return f[r]},u.init=function(n){if(u.ngModel=n,n.$options&&n.$options.trackBy){var i={},o=t(n.$options.trackBy);u.hashGetter=function(t,e){return i.$value=t,o(e||r,i)}}else u.hashGetter=function(t){return e.isObject(t)?"object_"+(t.$$mdSelectId||(t.$$mdSelectId=++c)):t};u.setMultiple(u.isMultiple)},u.selectedLabels=function(){var t=i.nodesToArray(a[0].querySelectorAll("md-option[selected]"));return t.length?t.map(function(t){return t.textContent}).join(", "):""},u.select=function(t,e){var n=u.options[t];n&&n.setSelected(!0),u.selected[t]=e},u.deselect=function(t){var e=u.options[t];e&&e.setSelected(!1),delete u.selected[t]},u.addOption=function(t,n){if(e.isDefined(u.options[t]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');u.options[t]=n,e.isDefined(u.selected[t])&&(u.select(t,n.value),u.refreshViewValue())},u.removeOption=function(t){delete u.options[t]},u.refreshViewValue=function(){var t,e=[];for(var n in u.selected)e.push((t=u.options[n])?t.value:u.selected[n]);u.ngModel.$setViewValue(u.isMultiple?e:e[0])}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:a,link:{pre:o}}}function r(t,n){function i(t,n){return t.append(e.element('<div class="md-text">').append(t.contents())),t.attr("tabindex",n.tabindex||"0"),r}function r(i,r,o,a){function s(t,e){var n=u.hashGetter(e,i),r=u.hashGetter(t,i);l.hashKey=r,l.value=t,u.removeOption(n,l),u.addOption(r,l)}function c(){var t={role:"option","aria-selected":"false"};r[0].hasAttribute("id")||(t.id="select_option_"+n.nextUid()),r.attr(t)}var l=a[0],u=a[1];e.isDefined(o.ngValue)?i.$watch(o.ngValue,s):e.isDefined(o.value)?s(o.value):i.$watch(function(){return r.text()},s),i.$$postDigest(function(){o.$observe("selected",function(t){e.isDefined(t)&&(t?(u.isMultiple||u.deselect(Object.keys(u.selected)[0]),u.select(l.hashKey,l.value)):u.deselect(l.hashKey),u.refreshViewValue(),u.ngModel.$render())})}),t.attach(i,r),c(),i.$on("$destroy",function(){u.removeOption(l.hashKey,l)})}function o(t){this.selected=!1,this.setSelected=function(e){e&&!this.selected?t.attr({selected:"selected","aria-selected":"true"}):!e&&this.selected&&(t.removeAttr("selected"),t.attr("aria-selected","false")),this.selected=e}}return o.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:o,compile:i}}function o(){function t(t,n){var i=t.find("label");i.length||(i=e.element("<label>"),t.prepend(i)),n.label&&i.text(n.label)}return{restrict:"E",compile:t}}function a(t){function i(t,i,a,c,l,u,h){function d(n,r,o){function s(){o.target.attr("aria-expanded","true")}function d(){function e(t){var e=c.nodesToArray(f),n=e.indexOf(o.focusedNode);-1===n?n=0:"next"===t&&n<e.length-1?n++:"prev"===t&&n>0&&n--;var i=o.focusedNode=e[n];i&&i.focus()}function a(){e("next")}function s(){e("prev")}function l(){u.isMultiple||(o.restoreFocus=!0,n.$evalAsync(function(){t.hide(u.ngModel.$viewValue)}))}if(!o.isRemoved){var u=o.selectEl.controller("mdSelectMenu")||{};r.addClass("md-clickable"),o.backdrop&&o.backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),o.restoreFocus=!1,n.$apply(t.cancel)}),o.selectEl.on("keydown",function(e){switch(e.keyCode){case i.KEY_CODE.SPACE:case i.KEY_CODE.ENTER:var r=c.getClosest(e.target,"md-option");r&&(o.selectEl.triggerHandler({type:"click",target:r}),e.preventDefault());break;case i.KEY_CODE.TAB:case i.KEY_CODE.ESCAPE:e.preventDefault(),o.restoreFocus=!0,n.$apply(t.cancel)}}),o.selectEl.on("keydown",function(t){switch(t.keyCode){case i.KEY_CODE.UP_ARROW:return s();case i.KEY_CODE.DOWN_ARROW:return a();default:if(t.keyCode>=31&&t.keyCode<=90){var e=o.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(t);e&&e.focus()}}}),o.selectEl.on("click",l),o.selectEl.on("keydown",function(t){(32==t.keyCode||13==t.keyCode)&&l()})}}if(!o.target)throw new Error('$mdSelect.show() expected a target element in options.target but got "'+o.target+'"!');e.extend(o,{isRemoved:!1,target:e.element(o.target),parent:e.element(o.parent),selectEl:r.find("md-select-menu"),contentEl:r.find("md-content"),backdrop:o.hasBackdrop&&e.element('<md-backdrop class="md-select-backdrop md-click-catcher">')}),o.resizeFn=function(){a(function(){a(function(){p(n,r,o)})})},e.element(h).on("resize",o.resizeFn),e.element(h).on("orientationchange",o.resizeFn),s(),r.removeClass("md-leave");var f=o.selectEl[0].getElementsByTagName("md-option");return o.loadingAsync&&o.loadingAsync.then?o.loadingAsync.then(function(){n.$$loadingAsyncDone=!0,a(function(){a(function(){o.isRemoved||p(n,r,o)})})}):o.loadingAsync&&(n.$$loadingAsyncDone=!0),o.disableParentScroll&&!c.getClosest(o.target,"MD-DIALOG")?o.restoreScroll=c.disableScrollAround(o.element):o.disableParentScroll=!1,u(d,75,!1),o.backdrop&&(l.inherit(o.backdrop,o.parent),o.parent.append(o.backdrop)),o.parent.append(r),a(function(){a(function(){o.isRemoved||p(n,r,o)})}),c.transitionEndPromise(o.selectEl,{timeout:350})}function f(t,i,r){r.isRemoved=!0,i.addClass("md-leave").removeClass("md-clickable"),r.target.attr("aria-expanded","false"),e.element(h).off("resize",r.resizeFn),e.element(h).off("orientationchange",r.resizefn),r.resizeFn=n;var o=r.selectEl.controller("mdSelect");return o&&o.setLabelText(r.selectEl.controller("mdSelectMenu").selectedLabels()),c.transitionEndPromise(i,{timeout:350}).then(function(){i.removeClass("md-active"),r.backdrop&&r.backdrop.remove(),i[0].parentNode===r.parent[0]&&r.parent[0].removeChild(i[0]),r.disableParentScroll&&r.restoreScroll(),r.restoreFocus&&r.target.focus(),o&&o.triggerClose()})}function p(t,e,n){var l,u=e[0],d=n.target[0].firstElementChild.firstElementChild,f=n.parent[0],p=n.selectEl[0],m=n.contentEl[0],g=f.getBoundingClientRect(),v=d.getBoundingClientRect(),b=!1,y={left:g.left+s,top:s,bottom:g.height-s,right:g.width-s-(c.floatingScrollbars()?16:0)},x={top:v.top-y.top,left:v.left-y.left,right:y.right-(v.left+v.width),bottom:y.bottom-(v.top+v.height)},w=g.width-2*s,C=m.scrollHeight>m.offsetHeight,$=p.querySelector("md-option[selected]"),_=p.getElementsByTagName("md-option"),E=p.getElementsByTagName("md-optgroup");l=$?$:E.length?E[0]:_.length?_[0]:m.firstElementChild||m,m.offsetWidth>w&&(m.style["max-width"]=w+"px"),b&&(m.style["min-width"]=v.width+"px"),C&&p.classList.add("md-overflow");var S=p.getBoundingClientRect(),T=o(l);if(l){var A=h.getComputedStyle(l);T.paddingLeft=parseInt(A.paddingLeft,10)||0,T.paddingRight=parseInt(A.paddingRight,10)||0}var k=l;if("MD-OPTGROUP"===(k.tagName||"").toUpperCase()&&(k=_[0]||m.firstElementChild||m),C){var M=m.offsetHeight/2;m.scrollTop=T.top+T.height/2-M,x.top<M?m.scrollTop=Math.min(T.top,m.scrollTop+M-x.top):x.bottom<M&&(m.scrollTop=Math.max(T.top+T.height-S.height,m.scrollTop-M+x.bottom))}var O,P,I;b?(O=v.left,P=v.top+v.height,I="50% 0",P+S.height>y.bottom&&(P=v.top-S.height,I="50% 100%")):(O=v.left+T.left-T.paddingLeft,P=Math.floor(v.top+v.height/2-T.height/2-T.top+m.scrollTop),I=T.left+v.width/2+"px "+(T.top+T.height/2-m.scrollTop)+"px 0px",u.style.minWidth=v.width+T.paddingLeft+T.paddingRight+"px");var D=u.getBoundingClientRect();u.style.left=r(y.left,O,y.right-D.width)+"px",u.style.top=r(y.top,P,y.bottom-D.height)+"px",p.style[i.CSS.TRANSFORM_ORIGIN]=I,p.style[i.CSS.TRANSFORM]="scale("+Math.min(v.width/S.width,1)+","+Math.min(v.height/S.height,1)+")",a(function(){e.addClass("md-active"),p.style[i.CSS.TRANSFORM]="",k&&(n.focusedNode=k,k.focus())})}return{parent:"body",onShow:d,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,themable:!0}}function r(t,e,n){return Math.max(t,Math.min(e,n))}function o(t){return t?{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}:{left:0,top:0,width:0,height:0}}return i.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"],t("$mdSelect").setDefaults({methods:["target"],options:i})}var s=8,c=0;e.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",t).directive("mdSelectMenu",i).directive("mdOption",r).directive("mdOptgroup",o).provider("$mdSelect",a),t.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"],i.$inject=["$parse","$mdUtil","$mdTheming"],r.$inject=["$mdButtonInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function t(t,n){return function(i){function r(){return t.when(i).then(function(t){return s=t,t})}var o,a="SideNav '"+i+"' is not available!",s=t.get(i);return s||t.notFoundError(i),o={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():n.reject(a)},open:function(){return s?s.open():n.reject(a)},close:function(){return s?s.close():n.reject(a)},then:function(t){var i=s?n.when(s):r();return i.then(t||e.noop)}}}}function i(){return{restrict:"A",require:"^mdSidenav",link:function(t,e,n,i){i.focusElement(e)}}}function r(t,i,r,o,a,s,c,l,u,h){function d(d,f,p,m){function g(t,e){d.isLockedOpen=t,t===e?f.toggleClass("md-locked-open",!!t):i[t?"addClass":"removeClass"](f,"md-locked-open"),T.toggleClass("md-locked-open",!!t)}function v(t){var e=f.parent();e[t?"on":"off"]("keydown",x),T[t?"on":"off"]("click",w),t&&($=h[0].activeElement);var n=m.focusElement();return b(t),_=u.all([t?i.enter(T,e):i.leave(T),i[t?"removeClass":"addClass"](f,"md-closed")]).then(function(){d.isOpen&&n&&n.focus()})}function b(t){var i=f.parent();t?(C=i.css("overflow"),i.css("overflow","hidden")):e.isDefined(C)&&(i.css("overflow",C),C=n)}function y(e){if(d.isOpen==e)return u.when(!0);var n=u.defer();return d.isOpen=e,t(function(){_.then(function(t){d.isOpen||($&&$.focus(),$=null),n.resolve(t)})},0,!1),n.promise}function x(t){var e=t.keyCode===s.KEY_CODE.ESCAPE;return e?w(t):u.when(!0)}function w(t){return t.preventDefault(),t.stopPropagation(),m.close()}var C,$=null,_=u.when(!0),E=r(p.mdIsLockedOpen),S=function(){return E(d.$parent,{$media:function(t){return o.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),a(t)},$mdMedia:a})},T=c('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(d);f.on("$destroy",m.destroy),l.inherit(T,f),d.$watch(S,g),d.$watch("isOpen",v),m.$toggleOpen=y,m.focusElement(m.focusElement()||f)}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed"),t.attr("tabIndex","-1"),d}}}function o(t,n,i,r,o){var a,s=this;s.isOpen=function(){return!!t.isOpen},s.isLockedOpen=function(){return!!t.isLockedOpen},s.open=function(){return s.$toggleOpen(!0)},s.close=function(){return s.$toggleOpen(!1)},s.toggle=function(){return s.$toggleOpen(!t.isOpen)},s.focusElement=function(t){return e.isDefined(t)&&(a=t),a},s.$toggleOpen=function(){return o.when(t.isOpen)},s.destroy=r.register(s,i.mdComponentId)}e.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",t).directive("mdSidenav",r).directive("mdSidenavFocus",i).controller("$mdSidenavController",o),t.$inject=["$mdComponentRegistry","$q"],r.$inject=["$timeout","$animate","$parse","$log","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"],o.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function t(t,n,i,r,o,a,s,c){function l(t){return t.attr({tabIndex:0,role:"slider"}),i.expect(t,"aria-label"),u}function u(i,l,u,h){function d(){b(),C(),v()}function f(t){X=parseFloat(t),l.attr("aria-valuemin",t),d()}function p(t){G=parseFloat(t),l.attr("aria-valuemax",t),d()}function m(t){K=parseFloat(t),v()}function g(t){l.attr("aria-disabled",!!t)}function v(){if(e.isDefined(u.mdDiscrete)){var t=Math.floor((G-X)/K);if(!J){var i=n.getComputedStyle(q[0]);J=e.element('<canvas style="position:absolute;">'),Z=J[0].getContext("2d"),Z.fillStyle=i.backgroundColor||"black",q.append(J)}var r=y();J[0].width=r.width,J[0].height=r.height;for(var o,a=0;t>=a;a++)o=Math.floor(r.width*(a/t)),Z.fillRect(o-1,0,2,r.height)}}function b(){Q=W[0].getBoundingClientRect()}function y(){return V(),Q}function x(t){if(!l[0].hasAttribute("disabled")){var e;t.keyCode===o.KEY_CODE.LEFT_ARROW?e=-K:t.keyCode===o.KEY_CODE.RIGHT_ARROW&&(e=K),e&&((t.metaKey||t.ctrlKey||t.altKey)&&(e*=4),t.preventDefault(),t.stopPropagation(),i.$evalAsync(function(){w(h.$viewValue+e)}))}}function w(t){h.$setViewValue($(_(t)))}function C(){isNaN(h.$viewValue)&&(h.$viewValue=h.$modelValue);var t=(h.$viewValue-X)/(G-X);i.modelValue=h.$viewValue,l.attr("aria-valuenow",h.$viewValue),E(t),F.text(h.$viewValue)}function $(t){return e.isNumber(t)?Math.max(X,Math.min(G,t)):void 0}function _(t){if(e.isNumber(t)){var n=Math.round(t/K)*K;return Math.round(1e3*n)/1e3
}}function E(t){z.css("width",100*t+"%"),B.css("left",100*t+"%"),l.toggleClass("md-min",0===t)}function S(t){if(!L()){l.addClass("active"),l[0].focus(),b();var e=N(D(t.pointer.x)),n=$(_(e));i.$apply(function(){w(n),E(j(n))})}}function T(t){if(!L()){l.removeClass("dragging active");var e=N(D(t.pointer.x)),n=$(_(e));i.$apply(function(){w(n),C()})}}function A(t){L()||(te=!0,t.stopPropagation(),l.addClass("dragging"),O(t))}function k(t){te&&(t.stopPropagation(),O(t))}function M(t){te&&(t.stopPropagation(),te=!1)}function O(t){ee?I(t.pointer.x):P(t.pointer.x)}function P(t){i.$evalAsync(function(){w(N(D(t)))})}function I(t){var e=N(D(t)),n=$(_(e));E(D(t)),F.text(n)}function D(t){return Math.max(0,Math.min(1,(t-Q.left)/Q.width))}function N(t){return X+t*(G-X)}function j(t){return(t-X)/(G-X)}a(l),h=h||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach(function(t){t()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var H=u.ngDisabled&&c(u.ngDisabled),L=H?function(){return H(i.$parent)}:e.noop,R=e.element(l[0].querySelector(".md-thumb")),F=e.element(l[0].querySelector(".md-thumb-text")),B=R.parent(),W=e.element(l[0].querySelector(".md-track-container")),z=e.element(l[0].querySelector(".md-track-fill")),q=e.element(l[0].querySelector(".md-track-ticks")),V=r.throttle(b,5e3);e.isDefined(u.min)?u.$observe("min",f):f(0),e.isDefined(u.max)?u.$observe("max",p):p(100),e.isDefined(u.step)?u.$observe("step",m):m(1);var U=e.noop;u.ngDisabled&&(U=i.$parent.$watch(u.ngDisabled,g)),s.register(l,"drag"),l.on("keydown",x).on("$md.pressdown",S).on("$md.pressup",T).on("$md.dragstart",A).on("$md.drag",k).on("$md.dragend",M),setTimeout(d);var Y=t.throttle(d);e.element(n).on("resize",Y),i.$on("$destroy",function(){e.element(n).off("resize",Y),U()}),h.$render=C,h.$viewChangeListeners.push(C),h.$formatters.push($),h.$formatters.push(_);var X,G,K,J,Z,Q={};b();var te=!1,ee=e.isDefined(u.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:l}}e.module("material.components.slider",["material.core"]).directive("mdSlider",t),t.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]}(),function(){function t(t,i,r,o,a){function s(t){function e(t,e){e.addClass("md-sticky-clone"),e.css("top",g+"px");var n={element:t,clone:e};return m.items.push(n),f.parent().prepend(n.clone),p(),function(){m.items.forEach(function(e,n){e.element[0]===t[0]&&(m.items.splice(n,1),e.clone.remove())}),p()}}function r(){m.items.forEach(s),m.items=m.items.sort(function(t,e){return t.top<e.top?-1:1});for(var t,e=f.prop("scrollTop"),n=m.items.length-1;n>=0;n--)if(e>m.items[n].top){t=m.items[n];break}u(t)}function s(t){var e=t.element[0];for(t.top=0,t.left=0;e&&e!==f[0];)t.top+=e.offsetTop,t.left+=e.offsetLeft,e=e.offsetParent;t.height=t.element.prop("offsetHeight"),t.clone.css("margin-left",t.left+"px"),a.floatingScrollbars()&&t.clone.css("margin-right","0")}function c(){var t=f.prop("scrollTop"),e=t>(c.prevScrollTop||0);c.prevScrollTop=t,0===t?u(null):e&&m.next?m.next.top-t<=0?u(m.next):m.current&&(m.next.top-t<=m.next.height?d(m.current,m.next.top-m.next.height-t):d(m.current,null)):!e&&m.current&&(t<m.current.top&&u(m.prev),m.current&&m.next&&(t>=m.next.top-m.current.height?d(m.current,m.next.top-t-m.current.height):d(m.current,null)))}function u(t){if(m.current!==t){m.current&&(d(m.current,null),h(m.current,null)),t&&h(t,"active"),m.current=t;var e=m.items.indexOf(t);m.next=m.items[e+1],m.prev=m.items[e-1],h(m.next,"next"),h(m.prev,"prev")}}function h(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function d(t,e){t&&(null===e||e===n?t.translateY&&(t.translateY=null,t.clone.css(i.CSS.TRANSFORM,"")):(t.translateY=e,t.clone.css(i.CSS.TRANSFORM,"translate3d("+t.left+"px,"+e+"px,0)")))}var f=t.$element,p=o.throttle(r);l(f),f.on("$scrollstart",p),f.on("$scroll",c);var m,g=f.prop("offsetTop");return m={prev:null,current:null,next:null,items:[],add:e,refreshElements:r}}function c(){var n,i=e.element("<div>");t[0].body.appendChild(i[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(i.css({position:r[o],top:0,"z-index":2}),i.css("position")==r[o]){n=r[o];break}return i.remove(),n}function l(t){function e(){+a.now()-i>r?(n=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),o(e))}var n,i,r=200;t.on("scroll touchmove",function(){n||(n=!0,o(e),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),i=+a.now()})}var u=c();return function(t,e,n){var i=e.controller("mdContent");if(i)if(u)e.css({position:u,top:0,"z-index":2});else{var r=i.$element.data("$$sticky");r||(r=s(i),i.$element.data("$$sticky",r));var o=r.add(e,n||e.clone());t.$on("$destroy",o)}}}e.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t),t.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){function t(t,n,i){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><div class="md-subheader-inner"><span class="md-subheader-content"></span></div></h2>',compile:function(r,o,a){return function(r,o){function s(t){return e.element(t[0].querySelector(".md-subheader-content"))}i(o);var c=o[0].outerHTML;a(r,function(t){s(o).append(t)}),o.hasClass("md-no-sticky")||a(r,function(i){var a=n(e.element(c))(r);s(a).append(i),t(r,o,a)})}}}}e.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t),t.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){function t(t){function e(t){function e(e,r,o){var a=t(o[n]);r.on(i,function(t){e.$apply(function(){a(e,{$event:t})})})}return{restrict:"A",link:e}}var n="md"+t,i="$md."+t.toLowerCase();return e.$inject=["$parse"],e}e.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",t("SwipeLeft")).directive("mdSwipeRight",t("SwipeRight"))}(),function(){function t(t,n,i,r,o,a,s,c){function l(t,n){var r=u.compile(t,n);return t.addClass("md-dragging"),function(t,n,l,u){function h(e){m(t)||(e.stopPropagation(),n.addClass("md-dragging"),b={width:g.prop("offsetWidth")},n.removeClass("transition"))}function d(t){if(b){t.stopPropagation(),t.srcEvent&&t.srcEvent.preventDefault();var e=t.pointer.distanceX/b.width,n=u.$viewValue?1+e:e;n=Math.max(0,Math.min(1,n)),g.css(o.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),b.translate=n}}function f(t){if(b){t.stopPropagation(),n.removeClass("md-dragging"),g.css(o.CSS.TRANSFORM,"");var e=u.$viewValue?b.translate<.5:b.translate>.5;e&&p(!u.$viewValue),b=null}}function p(e){t.$apply(function(){u.$setViewValue(e),u.$render()})}u=u||i.fakeNgModel();var m=a(l.ngDisabled),g=e.element(n[0].querySelector(".md-thumb-container")),v=e.element(n[0].querySelector(".md-container"));s(function(){n.removeClass("md-dragging")}),r(t,n,l,u),e.isDefined(l.ngDisabled)&&t.$watch(m,function(t){n.attr("tabindex",t?-1:0)}),c.register(v,"drag"),v.on("$md.dragstart",h).on("$md.drag",d).on("$md.dragend",f);var b}}var u=t[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:l}}e.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",t),t.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){e.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function t(){return{restrict:"E"}}function n(t){function e(t,e,i,r){function o(o,a,c){return a=r.extractElementByName(a,"md-toast"),n=c.content,a.addClass(c.position.split(" ").map(function(t){return"md-"+t}).join(" ")),c.parent.addClass(s(c.position)),c.onSwipe=function(e){a.addClass("md-"+e.type.replace("$md.","")),t(i.cancel)},a.on("$md.swipeleft $md.swiperight",c.onSwipe),e.enter(a,c.parent)}function a(t,n,i){return n.off("$md.swipeleft $md.swiperight",i.onSwipe),i.parent.removeClass(s(i.position)),e.leave(n)}function s(t){return"md-toast-open-"+(t.indexOf("top")>-1?"top":"bottom")}return{onShow:o,onRemove:a,position:"bottom left",themable:!0,hideDelay:3e3}}var n,i=t("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:e}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(t,e){var i={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(e){var i=this;e.$watch(function(){return n},function(){i.content=n}),this.resolve=function(){t.hide()}}],theme:e.defaultTheme(),controllerAs:"toast",bindToController:!0};return i}]}).addMethod("updateContent",function(t){n=t});return e.$inject=["$timeout","$animate","$mdToast","$mdUtil"],i}e.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",t).provider("$mdToast",n),n.$inject=["$$interimElementProvider"]}(),function(){function t(t,n,i,r,o,a){return{restrict:"E",controller:e.noop,link:function(s,c,l){function u(){function e(e,n){c.parent()[0]===n.parent()[0]&&(d&&d.off("scroll",g),n.on("scroll",g),n.attr("scroll-shrink","true"),d=n,t(r))}function r(){h=c.prop("offsetHeight");var t=-h*m+"px";d.css("margin-top",t),d.css("margin-bottom",t),u()}function u(t){var e=t?t.target.scrollTop:p;v(),f=Math.min(h/m,Math.max(0,f+e-p)),c.css(n.CSS.TRANSFORM,"translate3d(0,"+-f*m+"px,0)"),d.css(n.CSS.TRANSFORM,"translate3d(0,"+(h-f)*m+"px,0)"),p=e,c.hasClass("md-whiteframe-z1")?f||a(function(){o.removeClass(c,"md-whiteframe-z1")}):f&&a(function(){o.addClass(c,"md-whiteframe-z1")})}var h,d,f=0,p=0,m=l.mdShrinkSpeedFactor||.5,g=t.throttle(u),v=i.debounce(r,5e3);s.$on("$mdContentLoaded",e)}r(c),e.isDefined(l.mdScrollShrink)&&u()}}}e.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t),t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"]}(),function(){function t(t,n,i,r,o,a,s,c,l){function u(u,f,p){function m(){g(),y(),$(),v(),b()}function g(){e.isDefined(p.mdDelay)||(u.delay=h)}function v(){u.$on("$destroy",function(){u.visible=!1,f.remove(),e.element(n).off("resize",D)}),u.$watch("visible",function(t){t?E():S()})}function b(){A.attr("aria-label")||A.text().trim()||A.attr("aria-label",f.text().trim())}function y(){f.detach(),f.attr("role","tooltip")}function x(){for(var t=f.parent();t&&"none"==n.getComputedStyle(t[0])["pointer-events"];)t=t.parent();return t}function w(){for(var t=f.parent()[0];t&&t!==s[0]&&t!==document.body;)t=t.parentNode;return t}function C(t,i){var r=n.getComputedStyle(f[0]);return e.isDefined(r[t])&&r[t]==i}function $(){var t=!1,i=function(){C("pointer-events","none")||_(!0)},o=function(){var e=u.hasOwnProperty("autohide")?u.autohide:p.hasOwnProperty("mdAutohide");(e||t||r[0].activeElement!==A[0])&&_(!1),t=!1};A.on("mousedown",function(){t=!0}),A.on("focus mouseenter touchstart",i),A.on("blur mouseleave touchend touchcancel",o),e.element(n).on("resize",D)}function _(e){_.value=!!e,_.queued||(e?(_.queued=!0,t(function(){u.visible=_.value,_.queued=!1},u.delay)):t(function(){u.visible=!1}))}function E(){return I.append(f),C("display","none")?(u.visible=!1,void f.detach()):(T(),void e.forEach([f,k,M],function(t){c.addClass(t,"md-show")}))}function S(){l.all([c.removeClass(M,"md-show"),c.removeClass(k,"md-show"),c.removeClass(f,"md-show")]).then(function(){u.visible||f.detach()})}function T(){function t(){var t="left"===O||"right"===O?2*Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height/2,2)):2*Math.sqrt(Math.pow(i.width/2,2)+Math.pow(i.height,2)),e="left"===O?{left:100,top:50}:"right"===O?{left:0,top:50}:"top"===O?{left:50,top:100}:{left:50,top:0};k.css({width:t+"px",height:t+"px",left:e.left+"%",top:e.top+"%"})}function e(t){var e={left:t.left,top:t.top};return e.left=Math.min(e.left,I.prop("scrollWidth")-i.width-d),e.left=Math.max(e.left,d),e.top=Math.min(e.top,I.prop("scrollHeight")-i.height-d),e.top=Math.max(e.top,d),e}function n(t){return"left"===t?{left:r.left-i.width-d,top:r.top+r.height/2-i.height/2}:"right"===t?{left:r.left+r.width+d,top:r.top+r.height/2-i.height/2}:"top"===t?{left:r.left+r.width/2-i.width/2,top:r.top-i.height-d}:{left:r.left+r.width/2-i.width/2,top:r.top+r.height+d}}var i=o.offsetRect(f,I),r=o.offsetRect(A,I),a=n(O);O?a=e(a):a.top>f.prop("offsetParent").scrollHeight-i.height-d&&(a=e(n("top"))),f.css({top:a.top+"px",left:a.left+"px"}),t()}a(f);var A=x(),k=e.element(f[0].getElementsByClassName("md-background")[0]),M=e.element(f[0].getElementsByClassName("md-content")[0]),O=p.mdDirection,P=w(),I=e.element(P||document.body),D=i.throttle(function(){u.visible&&T()});return m()}var h=300,d=8;return{restrict:"E",transclude:!0,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:u}}e.module("material.components.tooltip",["material.core"]).directive("mdTooltip",t),t.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){e.module("material.components.whiteframe",[])}(),function(){function t(t,n,o,a,s,c,l,u,h,d){function f(){o.initOptionalProperties(t,d,{searchText:null,selectedItem:null}),c(n),v(),s(function(){y(),g(),m()})}function p(){function t(){var t=Z.ul.getBoundingClientRect(),n={};t.right>o.right-r&&(n.left=e.right-t.width+"px"),Z.$.ul.css(n)}if(!Z)return s(p,0,!1);var e=Z.wrap.getBoundingClientRect(),n=Z.snap.getBoundingClientRect(),o=Z.root.getBoundingClientRect(),a=n.bottom-o.top,c=o.bottom-n.top,l=e.left-o.left,u=e.width,h={left:l+"px",minWidth:u+"px",maxWidth:Math.max(e.right-o.left,o.right-e.left)-r+"px"};a>c&&o.height-e.bottom-r<i?(h.top="auto",h.bottom=c+"px",h.maxHeight=Math.min(i,e.top-o.top-r)+"px"):(h.top=a+"px",h.bottom="auto",h.maxHeight=Math.min(i,o.bottom-e.bottom-r)+"px"),Z.$.ul.css(h),s(t,0,!1)}function m(){Z.$.root.length&&(c(Z.$.ul),Z.$.ul.detach(),Z.$.root.append(Z.$.ul),u.pin&&u.pin(Z.$.ul,h))}function g(){t.autofocus&&Z.input.focus()}function v(){var n=parseInt(t.delay,10)||0;d.$observe("disabled",function(t){G.isDisabled=t}),d.$observe("required",function(t){G.isRequired=null!==t}),t.$watch("searchText",n?o.debounce(M,n):M),A(S),t.$watch("selectedItem",T),e.element(l).on("resize",p),t.$on("$destroy",b)}function b(){e.element(l).off("resize",p),Z.$.ul.remove()}function y(){Z={main:n[0],ul:n.find("ul")[0],input:n.find("input")[0],wrap:n.find("md-autocomplete-wrap")[0],root:document.body},Z.li=Z.ul.getElementsByTagName("li"),Z.snap=x(),Z.$=w(Z)}function x(){for(var t=n;t.length;t=t.parent())if(e.isDefined(t.attr("md-autocomplete-snap")))return t[0];return Z.wrap}function w(t){var n={};for(var i in t)n[i]=e.element(t[i]);return n}function C(t,e){!t&&e&&p(),t?o.enableScrolling():Z&&s(function(){o.disableScrollAround(Z.ul)},0,!1)}function $(){ee=!0}function _(){ee=!1,ie||(G.hidden=!0)}function E(){Z.input.focus()}function S(n,i){n&&(t.searchText=N(n)),e.isFunction(t.itemChange)&&n!==i&&t.itemChange(j(n))}function T(t,e){for(var n=0;n<ne.length;++n)ne[n](t,e)}function A(t){-1==ne.indexOf(t)&&ne.push(t)}function k(t){var e=ne.indexOf(t);-1!=e&&ne.splice(e,1)}function M(n,i){G.index=H(),n!==i&&n!==N(t.selectedItem)&&(t.selectedItem=null,e.isFunction(t.textChange)&&n!==i&&t.textChange(j(t.selectedItem)),F()?X():(G.loading=!1,G.matches=[],G.hidden=L(),V()))}function O(){ie=!1,ee||(G.hidden=!0)}function P(){ie=!0,e.isString(t.searchText)||(t.searchText=""),t.minLength>0||(G.hidden=L(),G.hidden||X())}function I(t){switch(t.keyCode){case a.KEY_CODE.DOWN_ARROW:if(G.loading)return;t.preventDefault(),G.index=Math.min(G.index+1,G.matches.length-1),Y(),V();break;case a.KEY_CODE.UP_ARROW:if(G.loading)return;t.preventDefault(),G.index=G.index<0?G.matches.length-1:Math.max(0,G.index-1),Y(),V();break;case a.KEY_CODE.TAB:case a.KEY_CODE.ENTER:if(G.hidden||G.loading||G.index<0||G.matches.length<1)return;t.preventDefault(),W(G.index);break;case a.KEY_CODE.ESCAPE:G.matches=[],G.hidden=!0,G.index=H()}}function D(){return e.isNumber(t.minLength)?t.minLength:1}function N(e){return e&&t.itemText?t.itemText(j(e)):e}function j(t){if(t){var e={};return G.itemName&&(e[G.itemName]=t),e}}function H(){return t.autoselect?0:-1}function L(){return F()?void 0:!0}function R(){return N(G.matches[G.index])}function F(){return e.isDefined(t.searchText)&&t.searchText.length>=D()}function B(t,e,n){Object.defineProperty(G,t,{get:function(){return n},set:function(t){var i=n;n=t,e(t,i)}})}function W(e){t.selectedItem=G.matches[e],G.hidden=!0,G.index=0,G.matches=[],s(function(){Z.$.input.controller("ngModel").$setViewValue(N(t.selectedItem)||t.searchText),G.hidden=!0})}function z(){t.searchText="",W(-1);var e=document.createEvent("CustomEvent");e.initCustomEvent("input",!0,!0,{value:t.searchText}),Z.input.dispatchEvent(e),Z.input.focus()}function q(n){function i(e){te[o]=e,n===t.searchText&&(G.loading=!1,Q=null,G.matches=e,G.hidden=L(),V(),p())}var r=t.$parent.$eval(J),o=n.toLowerCase();e.isArray(r)?i(r):r&&(G.loading=!0,r.success&&r.success(i),r.then&&r.then(i),r.error&&r.error(function(){G.loading=!1}))}function V(){G.messages=[U(),R()]}function U(){if(re===G.matches.length)return"";switch(re=G.matches.length,G.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+G.matches.length+" matches available."}}function Y(){if(Z.li[G.index]){var t=Z.li[G.index],e=t.offsetTop,n=e+t.offsetHeight,i=Z.ul.clientHeight;e<Z.ul.scrollTop?Z.ul.scrollTop=e:n>Z.ul.scrollTop+i&&(Z.ul.scrollTop=n-i)}}function X(){var e=t.searchText,n=e.toLowerCase();Q&&Q.cancel&&(Q.cancel(),Q=null),!t.noCache&&te[n]?(G.matches=te[n],V()):q(e),ie&&(G.hidden=L())}var G=this,K=t.itemsExpr.split(/ in /i),J=K[1],Z=null,Q=null,te={},ee=!1,ne=[],ie=!1,re=0;return B("hidden",C,!0),G.scope=t,G.parent=t.$parent,G.itemName=K[0],G.matches=[],G.loading=!1,G.hidden=!0,G.index=null,G.messages=[],G.id=o.nextUid(),G.isDisabled=null,G.isRequired=null,G.keydown=I,G.blur=O,G.focus=P,G.clear=z,G.select=W,G.listEnter=$,G.listLeave=_,G.mouseUp=E,G.getCurrentDisplayValue=R,G.registerSelectedItemWatcher=A,G.unregisterSelectedItemWatcher=k,f()}e.module("material.components.autocomplete").controller("MdAutocompleteCtrl",t);var n=41,i=5.5*n,r=8;t.$inject=["$scope","$element","$mdUtil","$mdConstant","$timeout","$mdTheming","$window","$animate","$rootElement","$attrs"]}(),function(){function t(){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass"},template:function(t,e){function n(){var e=t.find("md-item-template").remove(),n=e.length?e.html():t.html();return e.length||t.empty(),n}function i(){var e=t.find("md-not-found").remove(),n=e.length?e.html():"";return n?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                         && !$mdAutocompleteCtrl.hidden"                         ng-hide="$mdAutocompleteCtrl.hidden"                         md-autocomplete-parent-scope>'+n+"</li>":""}function r(){return e.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="fl-input-{{$mdAutocompleteCtrl.id}}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+s+"</div>            </md-input-container>":'            <input flex type="search"                id="input-{{$mdAutocompleteCtrl.id}}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var o=i(),a=n(),s=t.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel }"            role="listbox">          '+r()+'          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions md-whiteframe-z1 {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-hide="$mdAutocompleteCtrl.hidden"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+a+"            </li>            "+o+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages" ng-if="message">{{message}}</p>        </aria-status>'}}}e.module("material.components.autocomplete").directive("mdAutocomplete",t),t.$inject=["$mdTheming","$mdUtil"]}(),function(){function t(t,n,i){function r(r){var o=i(n.html())(t),s=e.element("<div>").text(o).html(),c=n.attr("md-highlight-flags")||"",l=t.$watch(r,function(t){var e=a(t,c),i=s.replace(e,'<span class="highlight">$&</span>');n.html(i)});n.on("$destroy",function(){l()})}function o(t){return t?t.replace(/[\\\^\$\*\+\?\.\(\)\|\{\}\[\]]/g,"\\$&"):t}function a(t,e){var n="";return e.indexOf("^")>=1&&(n+="^"),n+=t,e.indexOf("$")>=1&&(n+="$"),new RegExp(o(n),e.replace(/[\$\^]/g,""))}return this.init=r,r()}e.module("material.components.autocomplete").controller("MdHighlightCtrl",t),t.$inject=["$scope","$element","$interpolate"]}(),function(){function t(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl",link:function(t,e,n,i){i.init(n.mdHighlightText)}}}e.module("material.components.autocomplete").directive("mdHighlightText",t)}(),function(){function t(t,e){function n(n,i,r){var o=n.$parent.$mdAutocompleteCtrl,a=o.parent.$new(!1,o.parent),s=o.scope.$eval(r.mdAutocompleteListItem);a[s]=n.item,t(i.contents())(a),i.attr({role:"option",id:"item_"+e.nextUid()})}return{terminal:!0,link:n,scope:!1}}e.module("material.components.autocomplete").directive("mdAutocompleteListItem",t),t.$inject=["$compile","$mdUtil"]}(),function(){function t(t){function e(e,n,i){var r=e.$parent.$mdAutocompleteCtrl;t(n.contents())(r.parent),i.hasOwnProperty("mdAutocompleteReplace")&&(n.after(n.contents()),n.remove())}return{restrict:"A",terminal:!0,link:e,scope:!1}}e.module("material.components.autocomplete").directive("mdAutocompleteParentScope",t),t.$inject=["$compile","$mdUtil"]}(),function(){function t(t){function i(i){return i.append(n),function(n,i,r,o){i.addClass("md-chip"),t(i),o&&e.element(i[0].querySelector(".md-chip-content")).on("blur",function(){o.selectedChip=-1})}}return{restrict:"E",require:"^?mdChips",compile:i}}e.module("material.components.chips").directive("mdChip",t);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';t.$inject=["$mdTheming"]}(),function(){function t(t){function e(e,n,i,r){n.on("click",function(){e.$apply(function(){r.removeChip(e.$$replacedScope.$index)})}),t(function(){n.attr({tabindex:-1,ariaHidden:!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:e}}e.module("material.components.chips").directive("mdChipRemove",t),t.$inject=["$timeout"]}(),function(){function t(t){function e(e,n,i){var r=e.$parent.$mdChipsCtrl,o=r.parent.$new(!1,r.parent);o.$$replacedScope=e,o.$chip=e.$chip,o.$mdChipsCtrl=r,n.html(r.$scope.$eval(i.mdChipTransclude)),t(n.contents())(o)}return{restrict:"EA",terminal:!0,link:e,scope:!1}}e.module("material.components.chips").directive("mdChipTransclude",t),t.$inject=["$compile","$mdUtil"]}(),function(){function t(t,e,n,i,r){this.$timeout=r,this.$mdConstant=e,this.$scope=t,this.parent=t.$parent,this.$log=n,this.$element=i,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useMdOnAppend=!1}e.module("material.components.chips").controller("MdChipsCtrl",t),t.$inject=["$scope","$mdConstant","$log","$element","$timeout"],t.prototype.inputKeydown=function(t){var e=this.getChipBuffer();switch(t.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!e)break;t.preventDefault(),this.appendChip(e),this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(e)break;t.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1)}},t.prototype.chipKeydown=function(t){if(!this.getChipBuffer())switch(t.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;t.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:t.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:t.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;t.preventDefault(),this.onFocus()}},t.prototype.getPlaceholder=function(){var t=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return t?this.placeholder:this.secondaryPlaceholder},t.prototype.removeAndSelectAdjacentChip=function(t){var n=this.getAdjacentChipIndex(t);this.removeChip(t),this.$timeout(e.bind(this,function(){this.selectAndFocusChipSafe(n)}))},t.prototype.resetSelectedChip=function(){this.selectedChip=-1},t.prototype.getAdjacentChipIndex=function(t){var e=this.items.length-1;return 0==e?-1:t==e?t-1:t},t.prototype.appendChip=function(t){this.items.indexOf(t)+1||(this.useMdOnAppend&&this.mdOnAppend&&(t=this.mdOnAppend({$chip:t})),this.items.push(t))},t.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=!0},t.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},t.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},t.prototype.removeChip=function(t){this.items.splice(t,1)},t.prototype.removeChipAndFocusInput=function(t){this.removeChip(t),this.onFocus()},t.prototype.selectAndFocusChipSafe=function(t){return this.items.length?t===this.items.length?this.onFocus():(t=Math.max(t,0),t=Math.min(t,this.items.length-1),this.selectChip(t),void this.focusChip(t)):(this.selectChip(-1),void this.onFocus())},t.prototype.selectChip=function(t){t>=-1&&t<=this.items.length?this.selectedChip=t:this.$log.warn("Selected Chip index out of bounds; ignoring.")},t.prototype.selectAndFocusChip=function(t){this.selectChip(t),-1!=t&&this.focusChip(t)},t.prototype.focusChip=function(t){this.$element[0].querySelector('md-chip[index="'+t+'"] .md-chip-content').focus()},t.prototype.configureNgModel=function(t){this.ngModelCtrl=t;var e=this;t.$render=function(){e.items=e.ngModelCtrl.$viewValue}},t.prototype.onFocus=function(){var t=this.$element[0].querySelector("input");t&&t.focus(),this.resetSelectedChip()},t.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},t.prototype.onInputBlur=function(){this.inputHasFocus=!1},t.prototype.configureUserInput=function(t){this.userInputElement=t;var n=t.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,r=this;t.attr({tabindex:0}).on("keydown",function(t){i.$apply(e.bind(r,function(){r.inputKeydown(t)}))}).on("focus",e.bind(r,r.onInputFocus)).on("blur",e.bind(r,r.onInputBlur))},t.prototype.configureAutocomplete=function(t){t.registerSelectedItemWatcher(e.bind(this,function(t){t&&(this.appendChip(t),this.resetChipBuffer())})),this.$element.find("input").on("focus",e.bind(this,this.onInputFocus)).on("blur",e.bind(this,this.onInputBlur))},t.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function t(t,e,a,s,c){function l(n,l){function u(t){if(l.ngModel){var e=h[0].querySelector(t);return e&&e.outerHTML}}var h=l.$mdUserTemplate;l.$mdUserTemplate=null;var d=u("md-chips>*[md-chip-remove]")||o,f=u("md-chips>md-chip-template")||r,p=u("md-chips>md-autocomplete")||u("md-chips>input")||i,m=h.find("md-chip");
return h[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,r,o,s){e.initOptionalProperties(n,l),t(r);var u=s[0];if(u.chipContentsTemplate=f,u.chipRemoveTemplate=d,u.chipInputTemplate=p,r.attr({ariaHidden:!0,tabindex:-1}).on("focus",function(){u.onFocus()}),l.ngModel&&(u.configureNgModel(r.controller("ngModel")),o.mdOnAppend&&u.useMdOnAppendExpression(),p!=i&&c(function(){0===p.indexOf("<md-autocomplete")&&u.configureAutocomplete(r.find("md-autocomplete").controller("mdAutocomplete")),u.configureUserInput(r.find("input"))})),m.length>0){var h=a(m)(n.$parent);c(function(){r.find("md-chips-wrap").prepend(h)})}}}return{template:function(t,e){e.$mdUserTemplate=t.clone();return n},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:l,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}}}e.module("material.components.chips").directive("mdChips",t);var n='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',i='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';t.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function t(){this.selectedItem=null,this.searchText=""}e.module("material.components.chips").controller("MdContactChipsCtrl",t),t.prototype.queryContact=function(t){var n=this.contactQuery({$query:t});return this.filterSelected?n.filter(e.bind(this,this.filterSelectedContacts)):n},t.prototype.filterSelectedContacts=function(t){return-1==this.contacts.indexOf(t)}}(),function(){function t(t,e){function i(n,i){return function(n,r){e.initOptionalProperties(n,i),t(r),r.attr("tabindex","-1")}}return{template:function(){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:i,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}}}e.module("material.components.chips").directive("mdContactChips",t);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';t.$inject=["$mdTheming","$mdUtil"]}(),function(){function t(){function t(t,n,i,r){if(r){var o=n.parent()[0].getElementsByTagName("md-tab"),a=Array.prototype.indexOf.call(o,n[0]),s=n.find("md-tab-body").eq(0).remove(),c=n.find("md-tab-label").eq(0).remove(),l=r.insertTab({scope:t,parent:t.$parent,index:a,element:n,template:s.html(),label:c.html()},a);t.select=t.select||e.noop,t.deselect=t.deselect||e.noop,t.$watch("active",function(t){t&&r.select(l.getIndex())}),t.$watch("disabled",function(){r.refreshIndex()}),t.$watch(function(){return Array.prototype.indexOf.call(o,n[0])},function(t){l.index=t,r.updateTabOrder()}),t.$on("$destroy",function(){r.removeTab(l)})}}return{require:"^?mdTabs",terminal:!0,template:function(t,e){function n(){function n(){return e.label}function i(){var e=t.find("md-tab-label").eq(0);return e.length?e.remove().html():void 0}function r(){var e=t.html();return t.empty(),e}return i()||n()||r()}function i(){var n=t.find("md-tab-body").eq(0),i=n.length?n.html():e.label?t.html():"";return n.length?n.remove():e.label&&t.empty(),i}var r=n(),o=i();return"<md-tab-label>"+r+"</md-tab-label><md-tab-body>"+o+"</md-tab-body>"},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"},link:t}}e.module("material.components.tabs").directive("mdTab",t)}(),function(){function t(){return{require:"^?mdTabs",link:function(t,e,n,i){i&&i.attachRipple(t,e)}}}e.module("material.components.tabs").directive("mdTabItem",t)}(),function(){function t(){return{terminal:!0}}e.module("material.components.tabs").directive("mdTabLabel",t)}(),function(){function t(t){return{restrict:"A",compile:function(e,n){var i=t(n.mdTabScroll,null,!0);return function(t,e){e.on("mousewheel",function(e){t.$apply(function(){i(t,{$event:e})})})}}}}e.module("material.components.tabs").directive("mdTabScroll",t),t.$inject=["$parse"]}(),function(){function t(t,n,i,r,o,a,s,c,l,u,h){function d(){t.selectedIndex=t.selectedIndex||0,f(),m(),p(),h(n),r(function(){U(),W(),L(),J.tabs[t.selectedIndex]&&J.tabs[t.selectedIndex].scope.select(),ne=!0})}function f(){var t=l.$mdTabsTemplate,n=e.element(Q.data);n.html(t),u(n.contents())(J.parent),delete l.$mdTabsTemplate}function p(){e.element(i).on("resize",T),e.element(Q.paging).on("DOMSubtreeModified",J.updateInkBarStyles),e.element(Q.paging).on("DOMSubtreeModified",L)}function m(){s.initOptionalProperties(t,l),l.$observe("mdNoBar",function(n){t.noInkBar=e.isDefined(n)}),t.$watch("selectedIndex",x),t.$watch("dynamicHeight",function(t){t?n.addClass("md-dynamic-height"):n.removeClass("md-dynamic-height")}),t.$on("$destroy",g)}function g(){ee=!0,e.element(i).off("resize",T),e.element(Q.paging).off("DOMSubtreeModified",J.updateInkBarStyles),e.element(Q.paging).off("DOMSubtreeModified",L)}function v(t){n[t?"removeClass":"addClass"]("md-no-tab-content")}function b(n){var i=J.shouldCenterTabs?"":"-"+n+"px";e.element(Q.paging).css(o.CSS.TRANSFORM,"translate3d("+i+", 0, 0)"),t.$broadcast("$mdTabsPaginationChanged")}function y(t,e){t!==e&&Q.tabs[t]&&(W(),B())}function x(e,n){e!==n&&(t.selectedIndex=j(e),J.lastSelectedIndex=n,J.updateInkBarStyles(),U(),W(e),t.$broadcast("$mdTabsChanged"),J.tabs[n]&&J.tabs[n].scope.deselect(),J.tabs[e]&&J.tabs[e].scope.select())}function w(){w.watcher||(w.watcher=t.$watch(function(){r(function(){w.watcher&&n.prop("offsetParent")&&(w.watcher(),w.watcher=null,T())},0,!1)}))}function C(e){switch(e.keyCode){case o.KEY_CODE.LEFT_ARROW:e.preventDefault(),F(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:e.preventDefault(),F(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:e.preventDefault(),Z||(t.selectedIndex=J.focusIndex)}J.lastClick=!1}function $(e){Z||(J.focusIndex=t.selectedIndex=e),J.lastClick=!0,J.tabs[e].element.triggerHandler("click")}function _(t){J.shouldPaginate&&(t.preventDefault(),J.offsetLeft=G(J.offsetLeft-t.wheelDelta))}function E(){var t,e,n=Q.canvas.clientWidth,i=n+J.offsetLeft;for(t=0;t<Q.tabs.length&&(e=Q.tabs[t],!(e.offsetLeft+e.offsetWidth>i));t++);J.offsetLeft=G(e.offsetLeft)}function S(){var t,e;for(t=0;t<Q.tabs.length&&(e=Q.tabs[t],!(e.offsetLeft+e.offsetWidth>=J.offsetLeft));t++);J.offsetLeft=G(e.offsetLeft+e.offsetWidth-Q.canvas.clientWidth)}function T(){t.$apply(function(){J.lastSelectedIndex=t.selectedIndex,J.offsetLeft=G(J.offsetLeft),r(J.updateInkBarStyles,0,!1),r(L)})}function A(e){var n=t.selectedIndex,i=J.tabs.splice(e.getIndex(),1)[0];V(),t.selectedIndex!==n||ee||(i.scope.deselect(),J.tabs[t.selectedIndex]&&J.tabs[t.selectedIndex].scope.select()),r(function(){L(),J.offsetLeft=G(J.offsetLeft)})}function k(n,i){var o={getIndex:function(){return J.tabs.indexOf(a)},isActive:function(){return this.getIndex()===t.selectedIndex},isLeft:function(){return this.getIndex()<t.selectedIndex},isRight:function(){return this.getIndex()>t.selectedIndex},shouldRender:function(){return!t.noDisconnect||this.isActive()},hasFocus:function(){return!J.lastClick&&J.hasFocus&&this.getIndex()===J.focusIndex},id:s.nextUid()},a=e.extend(o,n);return e.isDefined(i)?J.tabs.splice(i,0,a):J.tabs.push(a),z(),q(),ne&&t.autoselect&&r(function(){$(J.tabs.indexOf(a))}),r(L),a}function M(){var t={};return t.wrapper=n[0].getElementsByTagName("md-tabs-wrapper")[0],t.data=n[0].getElementsByTagName("md-tab-data")[0],t.canvas=t.wrapper.getElementsByTagName("md-tabs-canvas")[0],t.paging=t.canvas.getElementsByTagName("md-pagination-wrapper")[0],t.tabs=t.paging.getElementsByTagName("md-tab-item"),t.dummies=t.canvas.getElementsByTagName("md-dummy-tab"),t.inkBar=t.paging.getElementsByTagName("md-ink-bar")[0],t.contentsWrapper=n[0].getElementsByTagName("md-tabs-content-wrapper")[0],t.contents=t.contentsWrapper.getElementsByTagName("md-tab-content"),t}function O(){return J.offsetLeft>0}function P(){var t=Q.tabs[Q.tabs.length-1];return t&&t.offsetLeft+t.offsetWidth>Q.canvas.clientWidth+J.offsetLeft}function I(){switch(t.stretchTabs){case"always":return!0;case"never":return!1;default:return!J.shouldPaginate&&i.matchMedia("(max-width: 600px)").matches}}function D(){return t.centerTabs&&!J.shouldPaginate}function N(){if(t.noPagination||!ne)return!1;var i=n.prop("clientWidth");return e.forEach(Q.dummies,function(t){i-=t.offsetWidth}),0>i}function j(t){var e,n,i=Math.max(J.tabs.length-t,t);for(e=0;i>=e;e++){if(n=J.tabs[t+e],n&&n.scope.disabled!==!0)return n.getIndex();if(n=J.tabs[t-e],n&&n.scope.disabled!==!0)return n.getIndex()}return t}function H(t,e,n){Object.defineProperty(J,t,{get:function(){return n},set:function(t){var i=n;n=t,e(t,i)}})}function L(){J.shouldPaginate=N(),J.shouldCenterTabs=D(),r(function(){W(t.selectedIndex)})}function R(){var e=J.tabs[t.selectedIndex],n=J.tabs[J.focusIndex];J.tabs=J.tabs.sort(function(t,e){return t.index-e.index}),t.selectedIndex=J.tabs.indexOf(e),J.focusIndex=J.tabs.indexOf(n)}function F(t){var e,n=J.focusIndex;for(e=n+t;J.tabs[e]&&J.tabs[e].scope.disabled;e+=t);J.tabs[e]&&(J.focusIndex=e)}function B(){Q.dummies[J.focusIndex].focus()}function W(t){if(Q.tabs[t]&&!J.shouldCenterTabs){null==t&&(t=J.focusIndex);var e=Q.tabs[t],n=e.offsetLeft,i=e.offsetWidth+n;J.offsetLeft=Math.max(J.offsetLeft,G(i-Q.canvas.clientWidth)),J.offsetLeft=Math.min(J.offsetLeft,G(n))}}function z(){te.forEach(function(t){r(t)}),te=[]}function q(){var t=!1;e.forEach(J.tabs,function(e){e.template&&(t=!0)}),J.hasContent=t}function V(){t.selectedIndex=j(t.selectedIndex),J.focusIndex=j(J.focusIndex)}function U(){if(!t.dynamicHeight)return n.css("height","");if(!J.tabs.length)return te.push(U);var e=Q.contents[t.selectedIndex],i=e?e.offsetHeight:0,r=Q.wrapper.offsetHeight,o=i+r,a=n.prop("clientHeight");a!==o&&(Z=!0,c.animate(n,{height:a+"px"},{height:o+"px"}).then(function(){n.css("height",""),Z=!1}))}function Y(){if(Q.tabs[t.selectedIndex]){if(!J.tabs.length)return te.push(J.updateInkBarStyles);if(!n.prop("offsetParent"))return w();var i=t.selectedIndex,r=Q.paging.offsetWidth,o=Q.tabs[i],a=o.offsetLeft,s=r-a-o.offsetWidth;X(),e.element(Q.inkBar).css({left:a+"px",right:s+"px"})}}function X(){var n=t.selectedIndex,i=J.lastSelectedIndex,r=e.element(Q.inkBar);e.isNumber(i)&&(i>n?r.addClass("md-left").removeClass("md-right"):n>i&&r.addClass("md-right").removeClass("md-left"))}function G(t){if(!Q.tabs.length||!J.shouldPaginate)return 0;var e=Q.tabs[Q.tabs.length-1],n=e.offsetLeft+e.offsetWidth;return t=Math.max(0,t),t=Math.min(n-Q.canvas.clientWidth,t)}function K(t,n){var i={colorElement:e.element(Q.inkBar)};a.attach(t,n,i)}var J=this,Z=!1,Q=M(),te=[],ee=!1,ne=!1;H("focusIndex",y,t.selectedIndex||0),H("offsetLeft",b,0),H("hasContent",v,!1),J.scope=t,J.parent=t.$parent,J.tabs=[],J.lastSelectedIndex=null,J.hasFocus=!1,J.lastClick=!0,J.shouldPaginate=!1,J.shouldCenterTabs=D(),J.redirectFocus=B,J.attachRipple=K,J.shouldStretchTabs=I,J.insertTab=k,J.removeTab=A,J.select=$,J.scroll=_,J.nextPage=E,J.previousPage=S,J.keydown=C,J.canPageForward=P,J.canPageBack=O,J.refreshIndex=V,J.incrementSelectedIndex=F,J.updateInkBarStyles=s.debounce(Y,100),J.updateTabOrder=s.debounce(R,100),d()}e.module("material.components.tabs").controller("MdTabsController",t),t.$inject=["$scope","$element","$window","$timeout","$mdConstant","$mdTabInkRipple","$mdUtil","$animate","$attrs","$compile","$mdTheming"]}(),function(){function t(){return{scope:{noPagination:"=?mdNoPagination",dynamicHeight:"=?mdDynamicHeight",centerTabs:"=?mdCenterTabs",selectedIndex:"=?mdSelected",stretchTabs:"@?mdStretchTabs",swipeContent:"=?mdSwipeContent",noDisconnect:"=?mdNoDisconnect",autoselect:"=?mdAutoselect"},template:function(t,e){return e.$mdTabsTemplate=t.html(),'        <md-tabs-wrapper ng-class="{ \'md-stretch-tabs\': $mdTabsCtrl.shouldStretchTabs() }">          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate,                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ tabWidth ? tabWidth + \'px\' : \'none\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="tab.label"                  md-scope="tab.parent"></md-tab-item>              <md-ink-bar ng-hide="noInkBar"></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  class="md-tab"                  tabindex="-1"                  id="tab-item-{{tab.id}}"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="tab.label"                  md-scope="tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent">          <md-tab-content              id="tab-content-{{tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{tab.id}}"              md-swipe-left="swipeContent && $mdTabsCtrl.incrementSelectedIndex(1)"              md-swipe-right="swipeContent && $mdTabsCtrl.incrementSelectedIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"              md-connected-if="tab.isActive()"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     dynamicHeight              }">            <div                md-template="tab.template"                md-scope="tab.parent"                ng-if="tab.shouldRender()"></div>          </md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl"}}e.module("material.components.tabs").directive("mdTabs",t),t.$inject=["$mdTheming","$mdUtil","$compile"]}(),function(){function t(t,e,n){function i(i,r,o,a){function s(){i.$watch("connected",function(t){t===!1?c():l()}),i.$on("$destroy",l)}function c(){a.scope.noDisconnect||e.disconnectScope(u)}function l(){a.scope.noDisconnect||e.reconnectScope(u)}if(a){var u=i.compileScope.$new();return r.html(i.template),t(r.contents())(u),n(s)}}return{restrict:"A",link:i,scope:{template:"=mdTemplate",compileScope:"=mdScope",connected:"=?mdConnectedIf"},require:"^?mdTabs"}}e.module("material.components.tabs").directive("mdTemplate",t),t.$inject=["$compile","$mdUtil","$timeout"]}(),function(){e.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-icon-button, .md-button.md-THEME_NAME-theme.md-icon-button {    border-radius: 50%; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-3}}' 0%, '{{foreground-3}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-3}}' 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label.md-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-label {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-label {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-label {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-label.md-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme .md-select-label {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-label.md-placeholder {    color: '{{foreground-2}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }")
}()}(window,window.angular),angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,e,n){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(i,r,o,a){function s(t,e){return e&&"function"==typeof e?function(){t.apply(this,arguments),e.apply(this,arguments)}:t}function c(t){var e=t.data("ui-sortable");return e&&"object"==typeof e&&"ui-sortable"===e.widgetFullName?e:null}function l(t,e){var n=t.sortable("option","helper");return"clone"===n||"function"==typeof n&&e.item.sortable.isCustomHelperUsed()}function u(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}function h(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i];if(r.element[0]===e[0]){n=r.scope;break}}return n}function d(t,e){e.item.sortable._destroy()}var f,p={},m={"ui-floating":void 0},g={receive:null,remove:null,start:null,stop:null,update:null},v={helper:null};return angular.extend(p,m,t,i.uiSortable),angular.element.fn&&angular.element.fn.jquery?(a?(i.$watch("ngModel.length",function(){e(function(){c(r)&&r.sortable("refresh")},0,!1)}),g.start=function(t,e){if("auto"===p["ui-floating"]){var n=e.item.siblings(),i=c(angular.element(t.target));i.floating=u(n)}e.item.sortable={model:a.$modelValue[e.item.index()],index:e.item.index(),source:e.item.parent(),sourceModel:a.$modelValue,cancel:function(){e.item.sortable._isCanceled=!0},isCanceled:function(){return e.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!e.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:e.item.sortable._isCustomHelperUsed,_destroy:function(){angular.forEach(e.item.sortable,function(t,n){e.item.sortable[n]=void 0})}}},g.activate=function(t,e){f=r.contents();var n=r.sortable("option","placeholder");if(n&&n.element&&"function"==typeof n.element){var o=n.element();o=angular.element(o);var a=r.find('[class="'+o.attr("class")+'"]:not([ng-repeat], [data-ng-repeat])');f=f.not(a)}var s=e.item.sortable._connectedSortables||[];s.push({element:r,scope:i}),e.item.sortable._connectedSortables=s},g.update=function(t,e){if(!e.item.sortable.received){e.item.sortable.dropindex=e.item.index();var n=e.item.parent();e.item.sortable.droptarget=n;var o=h(e.item.sortable._connectedSortables,n);e.item.sortable.droptargetModel=o.ngModel,r.sortable("cancel")}l(r,e)&&!e.item.sortable.received&&"parent"===r.sortable("option","appendTo")&&(f=f.not(f.last())),f.appendTo(r),e.item.sortable.received&&(f=null),e.item.sortable.received&&!e.item.sortable.isCanceled()&&i.$apply(function(){a.$modelValue.splice(e.item.sortable.dropindex,0,e.item.sortable.moved)})},g.stop=function(t,e){!e.item.sortable.received&&"dropindex"in e.item.sortable&&!e.item.sortable.isCanceled()?i.$apply(function(){a.$modelValue.splice(e.item.sortable.dropindex,0,a.$modelValue.splice(e.item.sortable.index,1)[0])}):"dropindex"in e.item.sortable&&!e.item.sortable.isCanceled()||l(r,e)||f.appendTo(r),f=null},g.receive=function(t,e){e.item.sortable.received=!0},g.remove=function(t,e){"dropindex"in e.item.sortable||(r.sortable("cancel"),e.item.sortable.cancel()),e.item.sortable.isCanceled()||i.$apply(function(){e.item.sortable.moved=a.$modelValue.splice(e.item.sortable.index,1)[0]})},v.helper=function(t){return t&&"function"==typeof t?function(e,n){var i=t.apply(this,arguments);return n.sortable._isCustomHelperUsed=n!==i,i}:t},i.$watch("uiSortable",function(t){var e=c(r);e&&angular.forEach(t,function(t,n){return n in m?("ui-floating"!==n||t!==!1&&t!==!0||(e.floating=t),void(p[n]=t)):(g[n]?("stop"===n&&(t=s(t,function(){i.$apply()}),t=s(t,d)),t=s(g[n],t)):v[n]&&(t=v[n](t)),p[n]=t,void r.sortable("option",n,t))})},!0),angular.forEach(g,function(t,e){p[e]=s(t,p[e]),"stop"===e&&(p[e]=s(p[e],d))})):n.info("ui.sortable: ngModel not provided!",r),void r.sortable(p)):void n.error("ui.sortable: jQuery should be included before AngularJS!")}}}]);var fabric=fabric||{version:"1.5.0"};"undefined"!=typeof exports&&(exports.fabric=fabric),"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=require("jsdom").jsdom("<!DOCTYPE html><html><head></head><body></body></html>"),fabric.window=fabric.document.createWindow?fabric.document.createWindow():fabric.document.parentWindow),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",function(){function t(t,e){this.__eventListeners[t]&&(e?fabric.util.removeFromArray(this.__eventListeners[t],e):this.__eventListeners[t].length=0)}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(e,n){if(this.__eventListeners){if(0===arguments.length)this.__eventListeners={};else if(1===arguments.length&&"object"==typeof arguments[0])for(var i in e)t.call(this,i,e[i]);else t.call(this,e,n);return this}}function i(t,e){if(this.__eventListeners){var n=this.__eventListeners[t];if(n){for(var i=0,r=n.length;r>i;i++)n[i].call(this,e||{});return this}}}fabric.Observable={observe:e,stopObserving:n,fire:i,on:e,off:n,trigger:i}}(),fabric.Collection={add:function(){this._objects.push.apply(this._objects,arguments);for(var t=0,e=arguments.length;e>t;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(t,e,n){var i=this.getObjects();return n?i[e]=t:i.splice(e,0,t),this._onObjectAdded(t),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var t,e=this.getObjects(),n=0,i=arguments.length;i>n;n++)t=e.indexOf(arguments[n]),-1!==t&&(e.splice(t,1),this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&this.renderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),i=n.length;i--;)t.call(e,n[i],i,n);return this},getObjects:function(t){return"undefined"==typeof t?this._objects:this._objects.filter(function(e){return e.type===t})},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)}},function(t){var e=Math.sqrt,n=Math.atan2,i=Math.PI/180;fabric.util={removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*i},radiansToDegrees:function(t){return t/i},rotatePoint:function(t,e,n){var i=Math.sin(n),r=Math.cos(n);t.subtractEquals(e);var o=t.x*r-t.y*i,a=t.x*i+t.y*r;return new fabric.Point(o,a).addEquals(e)},transformPoint:function(t,e,n){return n?new fabric.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new fabric.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},invertTransform:function(t){var e=t.slice(),n=1/(t[0]*t[3]-t[1]*t[2]);e=[n*t[3],-n*t[1],-n*t[2],n*t[0],0,0];var i=fabric.util.transformPoint({x:t[4],y:t[5]},e);return e[4]=-i.x,e[5]=-i.y,e},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(e||(e=fabric.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return i*fabric.DPI/25.4;case"cm":return i*fabric.DPI/2.54;case"in":return i*fabric.DPI;case"pt":return i*fabric.DPI/72;case"pc":return i*fabric.DPI/72*12;case"em":return i*e;default:return i}},falseFunction:function(){return!1},getKlass:function(t,e){return t=fabric.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),fabric.util.resolveNamespace(e)[t]},resolveNamespace:function(e){if(!e)return fabric;for(var n=e.split("."),i=n.length,r=t||fabric.window,o=0;i>o;++o)r=r[n[o]];return r},loadImage:function(t,e,n,i){if(!t)return void(e&&e.call(n,t));var r=fabric.util.createImage();r.onload=function(){e&&e.call(n,r),r=r.onload=r.onerror=null},r.onerror=function(){fabric.log("Error loading "+r.src),e&&e.call(n,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&"undefined"!=typeof i&&(r.crossOrigin=i),r.src=t},enlivenObjects:function(t,e,n,i){function r(){++a===s&&e&&e(o)}t=t||[];var o=[],a=0,s=t.length;return s?void t.forEach(function(t,e){if(!t||!t.type)return void r();var a=fabric.util.getKlass(t.type,n);a.async?a.fromObject(t,function(n,a){a||(o[e]=n,i&&i(t,o[e])),r()}):(o[e]=a.fromObject(t),i&&i(t,o[e]),r())}):void(e&&e(o))},groupSVGElements:function(t,e,n){var i;return i=new fabric.PathGroup(t,e),"undefined"!=typeof n&&i.setSourcePath(n),i},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var i=0,r=n.length;r>i;i++)n[i]in t&&(e[n[i]]=t[n[i]])},drawDashedLine:function(t,i,r,o,a,s){var c=o-i,l=a-r,u=e(c*c+l*l),h=n(l,c),d=s.length,f=0,p=!0;for(t.save(),t.translate(i,r),t.moveTo(0,0),t.rotate(h),i=0;u>i;)i+=s[f++%d],i>u&&(i=u),t[p?"lineTo":"moveTo"](i,0),p=!p;t.restore()},createCanvasElement:function(t){return t||(t=fabric.document.createElement("canvas")),t.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),t},createImage:function(){return fabric.isLikelyNode?new(require("canvas").Image):fabric.document.createElement("img")},createAccessors:function(t){for(var e=t.prototype,n=e.stateProperties.length;n--;){var i=e.stateProperties[n],r=i.charAt(0).toUpperCase()+i.slice(1),o="set"+r,a="get"+r;e[a]||(e[a]=function(t){return new Function('return this.get("'+t+'")')}(i)),e[o]||(e[o]=function(t){return new Function("value",'return this.set("'+t+'", value)')}(i))}},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,n,i){i>0&&(e>i?e-=i:e=0,n>i?n-=i:n=0);for(var r=!0,o=t.getImageData(e,n,2*i||1,2*i||1),a=3,s=o.data.length;s>a;a+=4){var c=o.data[a];if(r=0>=c,r===!1)break}return o=null,r}}}("undefined"!=typeof exports?exports:this),function(){function t(t,i,o,a,c,l,u){var h=s.call(arguments);if(r[h])return r[h];var d=Math.PI,f=u*d/180,p=Math.sin(f),m=Math.cos(f),g=0,v=0;o=Math.abs(o),a=Math.abs(a);var b=-m*t*.5-p*i*.5,y=-m*i*.5+p*t*.5,x=o*o,w=a*a,C=y*y,$=b*b,_=x*w-x*C-w*$,E=0;if(0>_){var S=Math.sqrt(1-_/(x*w));o*=S,a*=S}else E=(c===l?-1:1)*Math.sqrt(_/(x*C+w*$));var T=E*o*y/a,A=-E*a*b/o,k=m*T-p*A+.5*t,M=p*T+m*A+.5*i,O=n(1,0,(b-T)/o,(y-A)/a),P=n((b-T)/o,(y-A)/a,(-b-T)/o,(-y-A)/a);0===l&&P>0?P-=2*d:1===l&&0>P&&(P+=2*d);for(var I=Math.ceil(Math.abs(P/d*2)),D=[],N=P/I,j=8/3*Math.sin(N/4)*Math.sin(N/4)/Math.sin(N/2),H=O+N,L=0;I>L;L++)D[L]=e(O,H,m,p,o,a,k,M,j,g,v),g=D[L][4],v=D[L][5],O=H,H+=N;return r[h]=D,D}function e(t,e,n,i,r,a,c,l,u,h,d){var f=s.call(arguments);if(o[f])return o[f];var p=Math.cos(t),m=Math.sin(t),g=Math.cos(e),v=Math.sin(e),b=n*r*g-i*a*v+c,y=i*r*g+n*a*v+l,x=h+u*(-n*r*m-i*a*p),w=d+u*(-i*r*m+n*a*p),C=b+u*(n*r*v+i*a*g),$=y+u*(i*r*v-n*a*g);return o[f]=[x,w,C,$,b,y],o[f]}function n(t,e,n,i){var r=Math.atan2(e,t),o=Math.atan2(i,n);return o>=r?o-r:2*Math.PI-(r-o)}function i(t,e,n,i,r,o,c,l){var u=s.call(arguments);if(a[u])return a[u];var h,d,f,p,m,g,v,b,y=Math.sqrt,x=Math.min,w=Math.max,C=Math.abs,$=[],_=[[],[]];d=6*t-12*n+6*r,h=-3*t+9*n-9*r+3*c,f=3*n-3*t;for(var E=0;2>E;++E)if(E>0&&(d=6*e-12*i+6*o,h=-3*e+9*i-9*o+3*l,f=3*i-3*e),C(h)<1e-12){if(C(d)<1e-12)continue;p=-f/d,p>0&&1>p&&$.push(p)}else v=d*d-4*f*h,0>v||(b=y(v),m=(-d+b)/(2*h),m>0&&1>m&&$.push(m),g=(-d-b)/(2*h),g>0&&1>g&&$.push(g));for(var S,T,A,k=$.length,M=k;k--;)p=$[k],A=1-p,S=A*A*A*t+3*A*A*p*n+3*A*p*p*r+p*p*p*c,_[0][k]=S,T=A*A*A*e+3*A*A*p*i+3*A*p*p*o+p*p*p*l,_[1][k]=T;_[0][M]=t,_[1][M]=e,_[0][M+1]=c,_[1][M+1]=l;var O=[{x:x.apply(null,_[0]),y:x.apply(null,_[1])},{x:w.apply(null,_[0]),y:w.apply(null,_[1])}];return a[u]=O,O}var r={},o={},a={},s=Array.prototype.join;fabric.util.drawArc=function(e,n,i,r){for(var o=r[0],a=r[1],s=r[2],c=r[3],l=r[4],u=r[5],h=r[6],d=[[],[],[],[]],f=t(u-n,h-i,o,a,c,l,s),p=0,m=f.length;m>p;p++)d[p][0]=f[p][0]+n,d[p][1]=f[p][1]+i,d[p][2]=f[p][2]+n,d[p][3]=f[p][3]+i,d[p][4]=f[p][4]+n,d[p][5]=f[p][5]+i,e.bezierCurveTo.apply(e,d[p])},fabric.util.getBoundsOfArc=function(e,n,r,o,a,s,c,l,u){for(var h=0,d=0,f=[],p=[],m=t(l-e,u-n,r,o,s,c,a),g=[[],[]],v=0,b=m.length;b>v;v++)f=i(h,d,m[v][0],m[v][1],m[v][2],m[v][3],m[v][4],m[v][5]),g[0].x=f[0].x+e,g[0].y=f[0].y+n,g[1].x=f[1].x+e,g[1].y=f[1].y+n,p.push(g[0]),p.push(g[1]),h=m[v][4],d=m[v][5];return p},fabric.util.getBoundsOfCurve=i}(),function(){function t(t,e){for(var n=r.call(arguments,2),i=[],o=0,a=t.length;a>o;o++)i[o]=n.length?t[o][e].apply(t[o],n):t[o][e].call(t[o]);return i}function e(t,e){return i(t,e,function(t,e){return t>=e})}function n(t,e){return i(t,e,function(t,e){return e>t})}function i(t,e,n){if(t&&0!==t.length){var i=t.length-1,r=e?t[i][e]:t[i];if(e)for(;i--;)n(t[i][e],r)&&(r=t[i][e]);else for(;i--;)n(t[i],r)&&(r=t[i]);return r}}var r=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==Number.POSITIVE_INFINITY&&i!==Number.NEGATIVE_INFINITY&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=0,i=this.length>>>0;i>n;n++)n in this&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var n=[],i=0,r=this.length>>>0;r>i;i++)i in this&&(n[i]=t.call(e,this[i],i,this));return n}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var n=0,i=this.length>>>0;i>n;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var n=0,i=this.length>>>0;i>n;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var n,i=[],r=0,o=this.length>>>0;o>r;r++)r in this&&(n=this[r],t.call(e,n,r,this)&&i.push(n));return i}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,n=this.length>>>0,i=0;if(arguments.length>1)e=arguments[1];else for(;;){if(i in this){e=this[i++];break}if(++i>=n)throw new TypeError}for(;n>i;i++)i in this&&(e=t.call(null,e,this[i],i,this));return e}),fabric.util.array={invoke:t,min:n,max:e}}(),function(){function t(t,e){for(var n in e)t[n]=e[n];return t}function e(e){return t({},e)}fabric.util.object={extend:t,clone:e}}(),function(){function t(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function e(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())}function n(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:t,capitalize:e,escapeXml:n}}(),function(){var t=Array.prototype.slice,e=Function.prototype.apply,n=function(){};Function.prototype.bind||(Function.prototype.bind=function(i){var r,o=this,a=t.call(arguments,1);return r=a.length?function(){return e.call(o,this instanceof n?this:i,a.concat(t.call(arguments)))}:function(){return e.call(o,this instanceof n?this:i,arguments)},n.prototype=this.prototype,r.prototype=new n,r})}(),function(){function t(){}function e(t){var e=this.constructor.superclass.prototype[t];return arguments.length>1?e.apply(this,i.call(arguments,1)):e.call(this)}function n(){function n(){this.initialize.apply(this,arguments)}var o=null,s=i.call(arguments,0);"function"==typeof s[0]&&(o=s.shift()),n.superclass=o,n.subclasses=[],o&&(t.prototype=o.prototype,n.prototype=new t,o.subclasses.push(n));for(var c=0,l=s.length;l>c;c++)a(n,s[c],o);return n.prototype.initialize||(n.prototype.initialize=r),n.prototype.constructor=n,n.prototype.callSuper=e,n}var i=Array.prototype.slice,r=function(){},o=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),a=function(t,e,n){for(var i in e)t.prototype[i]=i in t.prototype&&"function"==typeof t.prototype[i]&&(e[i]+"").indexOf("callSuper")>-1?function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=n;var r=e[t].apply(this,arguments);return this.constructor.superclass=i,"initialize"!==t?r:void 0}}(i):e[i],o&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};fabric.util.createClass=n}(),function(){function t(t){var e,n,i=Array.prototype.slice.call(arguments,1),r=i.length;for(n=0;r>n;n++)if(e=typeof t[i[n]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}function e(t,e){return{handler:e,wrappedHandler:n(t,e)}}function n(t,e){return function(n){e.call(a(t),n||fabric.window.event)}}function i(t,e){return function(n){if(m[t]&&m[t][e])for(var i=m[t][e],r=0,o=i.length;o>r;r++)i[r].call(this,n||fabric.window.event)}}function r(t,e){t||(t=fabric.window.event);var n=t.target||(typeof t.srcElement!==c?t.srcElement:null),i=fabric.util.getScrollLeftTop(n,e);return{x:g(t)+i.left,y:v(t)+i.top}}function o(t,e,n){var i="touchend"===t.type?"changedTouches":"touches";return t[i]&&t[i][0]?t[i][0][e]-(t[i][0][e]-t[i][0][n])||t[n]:t[n]}var a,s,c="unknown",l=function(){var t=0;return function(e){return e.__uniqueID||(e.__uniqueID="uniqueID__"+t++)}}();!function(){var t={};a=function(e){return t[e]},s=function(e,n){t[e]=n}}();var u,h,d=t(fabric.document.documentElement,"addEventListener","removeEventListener")&&t(fabric.window,"addEventListener","removeEventListener"),f=t(fabric.document.documentElement,"attachEvent","detachEvent")&&t(fabric.window,"attachEvent","detachEvent"),p={},m={};d?(u=function(t,e,n){t.addEventListener(e,n,!1)},h=function(t,e,n){t.removeEventListener(e,n,!1)}):f?(u=function(t,n,i){var r=l(t);s(r,t),p[r]||(p[r]={}),p[r][n]||(p[r][n]=[]);var o=e(r,i);p[r][n].push(o),t.attachEvent("on"+n,o.wrappedHandler)},h=function(t,e,n){var i,r=l(t);if(p[r]&&p[r][e])for(var o=0,a=p[r][e].length;a>o;o++)i=p[r][e][o],i&&i.handler===n&&(t.detachEvent("on"+e,i.wrappedHandler),p[r][e][o]=null)}):(u=function(t,e,n){var r=l(t);if(m[r]||(m[r]={}),!m[r][e]){m[r][e]=[];var o=t["on"+e];o&&m[r][e].push(o),t["on"+e]=i(r,e)}m[r][e].push(n)},h=function(t,e,n){var i=l(t);if(m[i]&&m[i][e])for(var r=m[i][e],o=0,a=r.length;a>o;o++)r[o]===n&&r.splice(o,1)}),fabric.util.addListener=u,fabric.util.removeListener=h;var g=function(t){return typeof t.clientX!==c?t.clientX:0},v=function(t){return typeof t.clientY!==c?t.clientY:0};fabric.isTouchSupported&&(g=function(t){return o(t,"pageX","clientX")},v=function(t){return o(t,"pageY","clientY")}),fabric.util.getPointer=r,fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){function t(t,e){var n=t.style;if(!n)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?o(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)if("opacity"===i)o(t,e[i]);else{var r="float"===i||"cssFloat"===i?"undefined"==typeof n.styleFloat?"cssFloat":"styleFloat":i;n[r]=e[i]}return t}var e=fabric.document.createElement("div"),n="string"==typeof e.style.opacity,i="string"==typeof e.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(t){return t};n?o=function(t,e){return t.style.opacity=e,t}:i&&(o=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),r.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(r,e)):n.filter+=" alpha(opacity="+100*e+")",t}),fabric.util.setStyle=t}(),function(){function t(t){return"string"==typeof t?fabric.document.getElementById(t):t}function e(t,e){var n=fabric.document.createElement(t);for(var i in e)"class"===i?n.className=e[i]:"for"===i?n.htmlFor=e[i]:n.setAttribute(i,e[i]);return n}function n(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)}function i(t,n,i){return"string"==typeof n&&(n=e(n,i)),t.parentNode&&t.parentNode.replaceChild(n,t),n.appendChild(t),n}function r(t,e){var n,i,r=0,o=0,a=fabric.document.documentElement,s=fabric.document.body||{scrollLeft:0,scrollTop:0};for(i=t;t&&t.parentNode&&!n;)t=t.parentNode,1===t.nodeType&&"fixed"===fabric.util.getElementStyle(t,"position")&&(n=t),1===t.nodeType&&i!==e&&"absolute"===fabric.util.getElementStyle(t,"position")?(r=0,o=0):t===fabric.document?(r=s.scrollLeft||a.scrollLeft||0,o=s.scrollTop||a.scrollTop||0):(r+=t.scrollLeft||0,o+=t.scrollTop||0);return{left:r,top:o}}function o(t){var e,n,i=t&&t.ownerDocument,r={left:0,top:0},o={left:0,top:0},a={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return{left:0,top:0};for(var s in a)o[a[s]]+=parseInt(u(t,s),10)||0;return e=i.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),n=fabric.util.getScrollLeftTop(t,null),{left:r.left+n.left-(e.clientLeft||0)+o.left,top:r.top+n.top-(e.clientTop||0)+o.top}}var a,s=Array.prototype.slice,c=function(t){return s.call(t,0)};try{a=c(fabric.document.childNodes)instanceof Array}catch(l){}a||(c=function(t){for(var e=new Array(t.length),n=t.length;n--;)e[n]=t[n];return e});var u;u=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(t,e){var n=fabric.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},function(){function t(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),i?t.style[i]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t}function e(t){return"undefined"!=typeof t.onselectstart&&(t.onselectstart=null),i?t.style[i]="":"string"==typeof t.unselectable&&(t.unselectable=""),t}var n=fabric.document.documentElement.style,i="userSelect"in n?"userSelect":"MozUserSelect"in n?"MozUserSelect":"WebkitUserSelect"in n?"WebkitUserSelect":"KhtmlUserSelect"in n?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=t,fabric.util.makeElementSelectable=e}(),function(){function t(t,e){var n=fabric.document.getElementsByTagName("head")[0],i=fabric.document.createElement("script"),r=!0;i.onload=i.onreadystatechange=function(t){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,e(t||fabric.window.event),i=i.onload=i.onreadystatechange=null}},i.src=t,n.appendChild(i)}fabric.util.getScript=t}(),fabric.util.getById=t,fabric.util.toArray=c,fabric.util.makeElement=e,fabric.util.addClass=n,fabric.util.wrapElement=i,fabric.util.getScrollLeftTop=r,fabric.util.getElementOffset=o,fabric.util.getElementStyle=u}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}function e(){}function n(n,r){r||(r={});var o,a=r.method?r.method.toUpperCase():"GET",s=r.onComplete||function(){},c=i();return c.onreadystatechange=function(){4===c.readyState&&(s(c),c.onreadystatechange=e)},"GET"===a&&(o=null,"string"==typeof r.parameters&&(n=t(n,r.parameters))),c.open(a,n,!0),("POST"===a||"PUT"===a)&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(o),c}var i=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{var n=t[e]();if(n)return t[e]}catch(i){}}();fabric.util.request=n}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){"undefined"!=typeof console[t]&&"function"==typeof console[t].apply&&(fabric[t]=function(){return console[t].apply(console,arguments)})}),function(){function t(t){e(function(n){t||(t={});var i,r=n||+new Date,o=t.duration||500,a=r+o,s=t.onChange||function(){},c=t.abort||function(){return!1},l=t.easing||function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},u="startValue"in t?t.startValue:0,h="endValue"in t?t.endValue:100,d=t.byValue||h-u;t.onStart&&t.onStart(),function f(n){i=n||+new Date;var h=i>a?o:i-r;return c()?void(t.onComplete&&t.onComplete()):(s(l(h,u,d,o)),i>a?void(t.onComplete&&t.onComplete()):void e(f))}(r)})}function e(){return n.apply(fabric.window,arguments)}var n=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)};fabric.util.animate=t,fabric.util.requestAnimFrame=e}(),function(){function t(t,e,n,i){return t<Math.abs(e)?(t=e,i=n/4):i=n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:i}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-t.s)*Math.PI/t.p)}function n(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function i(t,e,n,i){return t/=i/2,1>t?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}function r(t,e,n,i){return n*(t/=i)*t*t*t+e}function o(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e}function a(t,e,n,i){return t/=i/2,1>t?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}function s(t,e,n,i){return n*(t/=i)*t*t*t*t+e}function c(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e}function l(t,e,n,i){return t/=i/2,1>t?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}function u(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e}function h(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e}function d(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}function f(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e}function p(t,e,n,i){return t===i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e}function m(t,e,n,i){return 0===t?e:t===i?e+n:(t/=i/2,1>t?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e)}function g(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e}function v(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e}function b(t,e,n,i){return t/=i/2,1>t?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function y(n,i,r,o){var a=1.70158,s=0,c=r;if(0===n)return i;if(n/=o,1===n)return i+r;s||(s=.3*o);var l=t(c,r,s,a);return-e(l,n,o)+i}function x(e,n,i,r){var o=1.70158,a=0,s=i;if(0===e)return n;if(e/=r,1===e)return n+i;a||(a=.3*r);var c=t(s,i,a,o);return c.a*Math.pow(2,-10*e)*Math.sin(2*(e*r-c.s)*Math.PI/c.p)+c.c+n}function w(n,i,r,o){var a=1.70158,s=0,c=r;if(0===n)return i;if(n/=o/2,2===n)return i+r;s||(s=.3*o*1.5);var l=t(c,r,s,a);return 1>n?-.5*e(l,n,o)+i:l.a*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*o-l.s)*Math.PI/l.p)*.5+l.c+i}function C(t,e,n,i,r){return void 0===r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e}function $(t,e,n,i,r){return void 0===r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e}function _(t,e,n,i,r){return void 0===r&&(r=1.70158),t/=i/2,1>t?n/2*t*t*(((r*=1.525)+1)*t-r)+e:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+e}function E(t,e,n,i){return n-S(i-t,0,n,i)+e}function S(t,e,n,i){return(t/=i)<1/2.75?7.5625*n*t*t+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function T(t,e,n,i){return i/2>t?.5*E(2*t,0,n,i)+e:.5*S(2*t-i,0,n,i)+.5*n+e}fabric.util.ease={easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return t/=i/2,1>t?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:n,easeInOutCubic:i,easeInQuart:r,easeOutQuart:o,easeInOutQuart:a,easeInQuint:s,easeOutQuint:c,easeInOutQuint:l,easeInSine:u,easeOutSine:h,easeInOutSine:d,easeInExpo:f,easeOutExpo:p,easeInOutExpo:m,easeInCirc:g,easeOutCirc:v,easeInOutCirc:b,easeInElastic:y,easeOutElastic:x,easeInOutElastic:w,easeInBack:C,easeOutBack:$,easeInOutBack:_,easeInBounce:E,easeOutBounce:S,easeInOutBounce:T}}(),function(t){"use strict";function e(t){return t in C?C[t]:t}function n(t,e,n,i){var r,o="[object Array]"===Object.prototype.toString.call(e);return"fill"!==t&&"stroke"!==t||"none"!==e?"strokeDashArray"===t?e=e.replace(/,/g," ").split(/\s+/).map(function(t){return parseFloat(t)}):"transformMatrix"===t?e=n&&n.transformMatrix?w(n.transformMatrix,m.parseTransformAttribute(e)):m.parseTransformAttribute(e):"visible"===t?(e="none"===e||"hidden"===e?!1:!0,n&&n.visible===!1&&(e=!1)):"originX"===t?e="start"===e?"left":"end"===e?"right":"center":r=o?e.map(x):x(e,i):e="",!o&&isNaN(r)?e:r}function i(t){for(var e in $)if(t[e]&&"undefined"!=typeof t[$[e]]&&0!==t[e].indexOf("url(")){var n=new m.Color(t[e]);t[e]=n.setAlpha(y(n.getAlpha()*t[$[e]],2)).toRgba()}return t}function r(t,i){var r,o;t.replace(/;$/,"").split(";").forEach(function(t){var a=t.split(":");r=e(a[0].trim().toLowerCase()),o=n(r,a[1].trim()),i[r]=o})}function o(t,i){var r,o;for(var a in t)"undefined"!=typeof t[a]&&(r=e(a.toLowerCase()),o=n(r,t[a]),i[r]=o)}function a(t,e){var n={};for(var i in m.cssRules[e])if(s(t,i.split(" ")))for(var r in m.cssRules[e][i])n[r]=m.cssRules[e][i][r];return n}function s(t,e){var n,i=!0;return n=l(t,e.pop()),n&&e.length&&(i=c(t,e)),n&&i&&0===e.length}function c(t,e){for(var n,i=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)i&&(n=e.pop()),t=t.parentNode,i=l(t,n);return 0===e.length}function l(t,e){var n,i=t.nodeName,r=t.getAttribute("class"),o=t.getAttribute("id");if(n=new RegExp("^"+i,"i"),e=e.replace(n,""),o&&e.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),r&&e.length){r=r.split(" ");for(var a=r.length;a--;)n=new RegExp("\\."+r[a]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")}return 0===e.length}function u(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var i,r,o,a=t.getElementsByTagName("*");for(r=0;r<a.length;r++)if(i=a[r],o===i.getAttribute("id"))return i}function h(t){for(var e=t.getElementsByTagName("use"),n=0;e.length&&n<e.length;){for(var i,r=e[n],o=r.getAttribute("xlink:href").substr(1),a=r.getAttribute("x")||0,s=r.getAttribute("y")||0,c=u(t,o).cloneNode(!0),l=(c.getAttribute("transform")||"")+" translate("+a+", "+s+")",h=e.length,d=0,f=r.attributes,p=f.length;p>d;d++){var m=f.item(d);"x"!==m.nodeName&&"y"!==m.nodeName&&"xlink:href"!==m.nodeName&&("transform"===m.nodeName?l=m.nodeValue+" "+l:c.setAttribute(m.nodeName,m.nodeValue))}c.setAttribute("transform",l),c.setAttribute("instantiated_by_use","1"),c.removeAttribute("id"),i=r.parentNode,i.replaceChild(c,r),e.length===h&&n++}}function d(t,e,n){var i,r,o,a,s=t.getAttribute("viewBox"),c=1,l=1,u=0,h=0;if(s&&(s=s.match(_))&&(u=-parseFloat(s[1]),h=-parseFloat(s[2]),i=parseFloat(s[3]),r=parseFloat(s[4]),e&&e!==i&&(c=e/i),n&&n!==r&&(l=n/r),l=c=c>l?l:c,1!==c||1!==l||0!==u||0!==h)){if(o=" matrix("+c+" 0 0 "+l+" "+u*c+" "+h*l+") ","svg"===t.tagName){for(a=t.ownerDocument.createElement("g");null!=t.firstChild;)a.appendChild(t.firstChild);t.appendChild(a)}else a=t,o=a.getAttribute("transform")+o;a.setAttribute("transform",o)}}function f(t){var e=t.objects,n=t.options;return e=e.map(function(t){return m[v(t.type)].fromObject(t)}),{objects:e,options:n}}function p(t,e,n){e[n]&&e[n].toSVG&&t.push('<pattern x="0" y="0" id="',n,'Pattern" ','width="',e[n].source.width,'" height="',e[n].source.height,'" patternUnits="userSpaceOnUse">','<image x="0" y="0" ','width="',e[n].source.width,'" height="',e[n].source.height,'" xlink:href="',e[n].source.src,'"></image></pattern>')}var m=t.fabric||(t.fabric={}),g=m.util.object.extend,v=m.util.string.capitalize,b=m.util.object.clone,y=m.util.toFixed,x=m.util.parseUnit,w=m.util.multiplyTransformMatrices,C={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},$={stroke:"strokeOpacity",fill:"fillOpacity"};
m.cssRules={},m.gradientDefs={},m.parseTransformAttribute=function(){function t(t,e){var n=e[0];t[0]=Math.cos(n),t[1]=Math.sin(n),t[2]=-Math.sin(n),t[3]=Math.cos(n)}function e(t,e){var n=e[0],i=2===e.length?e[1]:e[0];t[0]=n,t[3]=i}function n(t,e){t[2]=Math.tan(m.util.degreesToRadians(e[0]))}function i(t,e){t[1]=Math.tan(m.util.degreesToRadians(e[0]))}function r(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var o=[1,0,0,1,0,0],a=m.reNum,s="(?:\\s+,?\\s*|,\\s*)",c="(?:(skewX)\\s*\\(\\s*("+a+")\\s*\\))",l="(?:(skewY)\\s*\\(\\s*("+a+")\\s*\\))",u="(?:(rotate)\\s*\\(\\s*("+a+")(?:"+s+"("+a+")"+s+"("+a+"))?\\s*\\))",h="(?:(scale)\\s*\\(\\s*("+a+")(?:"+s+"("+a+"))?\\s*\\))",d="(?:(translate)\\s*\\(\\s*("+a+")(?:"+s+"("+a+"))?\\s*\\))",f="(?:(matrix)\\s*\\(\\s*("+a+")"+s+"("+a+")"+s+"("+a+")"+s+"("+a+")"+s+"("+a+")"+s+"("+a+")\\s*\\))",p="(?:"+f+"|"+d+"|"+h+"|"+u+"|"+c+"|"+l+")",g="(?:"+p+"(?:"+s+p+")*)",v="^\\s*(?:"+g+"?)\\s*$",b=new RegExp(v),y=new RegExp(p,"g");return function(a){var s=o.concat(),c=[];if(!a||a&&!b.test(a))return s;a.replace(y,function(a){var l=new RegExp(p).exec(a).filter(function(t){return""!==t&&null!=t}),u=l[1],h=l.slice(2).map(parseFloat);switch(u){case"translate":r(s,h);break;case"rotate":h[0]=m.util.degreesToRadians(h[0]),t(s,h);break;case"scale":e(s,h);break;case"skewX":n(s,h);break;case"skewY":i(s,h);break;case"matrix":s=h}c.push(s.concat()),s=o.concat()});for(var l=c[0];c.length>1;)c.shift(),l=m.util.multiplyTransformMatrices(l,c[0]);return l}}();var _=new RegExp("^\\s*("+m.reNum+"+)\\s*,?\\s*("+m.reNum+"+)\\s*,?\\s*("+m.reNum+"+)\\s*,?\\s*("+m.reNum+"+)\\s*$");m.parseSVGDocument=function(){function t(t,e){for(;t&&(t=t.parentNode);)if(e.test(t.nodeName)&&!t.getAttribute("instantiated_by_use"))return!0;return!1}var e=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/,n=/^(symbol|image|marker|pattern|view)$/;return function(i,r,o){if(i){h(i);var a,s,c=new Date,l=m.Object.__uid++,u=!1;if(i.getAttribute("width")&&"100%"!==i.getAttribute("width")&&(a=x(i.getAttribute("width"))),i.getAttribute("height")&&"100%"!==i.getAttribute("height")&&(s=x(i.getAttribute("height"))),!a||!s){var f=i.getAttribute("viewBox");f&&(f=f.match(_))?(a=parseFloat(f[3]),s=parseFloat(f[4])):u=!0}d(i,a,s);var p=m.util.toArray(i.getElementsByTagName("*"));if(0===p.length&&m.isLikelyNode){p=i.selectNodes('//*[name(.)!="svg"]');for(var g=[],v=0,y=p.length;y>v;v++)g[v]=p[v];p=g}var w=p.filter(function(i){return n.test(i.tagName)&&d(i,0,0),e.test(i.tagName)&&!t(i,/^(?:pattern|defs|symbol|metadata)$/)});if(!w||w&&!w.length)return void(r&&r([],{}));var C={width:a,height:s,svgUid:l,toBeParsed:u};m.gradientDefs[l]=m.getGradientDefs(i),m.cssRules[l]=m.getCSSRules(i),m.parseElements(w,function(t){m.documentParsingTime=new Date-c,r&&r(t,C)},b(C),o)}}}();var E={has:function(t,e){e(!1)},get:function(){},set:function(){}},S=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+m.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+m.reNum+"))?\\s+(.*)");g(m,{parseFontDeclaration:function(t,e){var n=t.match(S);if(n){var i=n[1],r=n[3],o=n[4],a=n[5],s=n[6];i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),o&&(e.fontSize=x(o)),s&&(e.fontFamily=s),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,n,i,r,o=t.getElementsByTagName("linearGradient"),a=t.getElementsByTagName("radialGradient"),s=0,c=[],l={},u={};for(c.length=o.length+a.length,n=o.length;n--;)c[s++]=o[n];for(n=a.length;n--;)c[s++]=a[n];for(;s--;)e=c[s],r=e.getAttribute("xlink:href"),i=e.getAttribute("id"),r&&(u[i]=r.substr(1)),l[i]=e;for(i in u){var h=l[u[i]].cloneNode(!0);for(e=l[i];h.firstChild;)e.appendChild(h.firstChild)}return l},parseAttributes:function(t,r,o){if(t){var s,c,l={};"undefined"==typeof o&&(o=t.getAttribute("svgUid")),t.parentNode&&/^symbol|[g|a]$/i.test(t.parentNode.nodeName)&&(l=m.parseAttributes(t.parentNode,r,o)),c=l&&l.fontSize||t.getAttribute("font-size")||m.Text.DEFAULT_SVG_FONT_SIZE;var u=r.reduce(function(i,r){return s=t.getAttribute(r),s&&(r=e(r),s=n(r,s,l,c),i[r]=s),i},{});return u=g(u,g(a(t,o),m.parseStyleAttribute(t))),u.font&&m.parseFontDeclaration(u.font,u),i(g(l,u))}},parseElements:function(t,e,n,i){new m.ElementsParser(t,e,n,i).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"==typeof n?r(n,e):o(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;t=t.replace(/,/g," ").trim(),t=t.split(/\s+/);var e,n,i=[];for(e=0,n=t.length;n>e;e+=2)i.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return i},getCSSRules:function(t){for(var i,r=t.getElementsByTagName("style"),o={},a=0,s=r.length;s>a;a++){var c=r[a].textContent;c=c.replace(/\/\*[\s\S]*?\*\//g,""),""!==c.trim()&&(i=c.match(/[^{]*\{[\s\S]*?\}/g),i=i.map(function(t){return t.trim()}),i.forEach(function(t){for(var i=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),r={},a=i[2].trim(),s=a.replace(/;$/,"").split(/\s*;\s*/),c=0,l=s.length;l>c;c++){var u=s[c].split(/\s*:\s*/),h=e(u[0]),d=n(h,u[1],u[0]);r[h]=d}t=i[1],t.split(",").forEach(function(t){t=t.replace(/^svg/i,"").trim(),""!==t&&(o[t]=m.util.object.clone(r))})}))}return o},loadSVGFromURL:function(t,e,n){function i(i){var r=i.responseXML;r&&!r.documentElement&&m.window.ActiveXObject&&i.responseText&&(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(i.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),r&&r.documentElement&&m.parseSVGDocument(r.documentElement,function(n,i){E.set(t,{objects:m.util.array.invoke(n,"toObject"),options:i}),e(n,i)},n)}t=t.replace(/^\n\s*/,"").trim(),E.has(t,function(n){n?E.get(t,function(t){var n=f(t);e(n.objects,n.options)}):new m.util.request(t,{method:"get",onComplete:i})})},loadSVGFromString:function(t,e,n){t=t.trim();var i;if("undefined"!=typeof DOMParser){var r=new DOMParser;r&&r.parseFromString&&(i=r.parseFromString(t,"text/xml"))}else m.window.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));m.parseSVGDocument(i.documentElement,function(t,n){e(t,n)},n)},createSVGFontFacesMarkup:function(t){for(var e="",n=0,i=t.length;i>n;n++)"text"===t[n].type&&t[n].path&&(e+=["@font-face {","font-family: ",t[n].fontFamily,"; ","src: url('",t[n].path,"')","}"].join(""));return e&&(e=['<style type="text/css">',"<![CDATA[",e,"]]>","</style>"].join("")),e},createSVGRefElementsMarkup:function(t){var e=[];return p(e,t,"backgroundColor"),p(e,t,"overlayColor"),e.join("")}})}("undefined"!=typeof exports?exports:this),fabric.ElementsParser=function(t,e,n,i){this.elements=t,this.callback=e,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;e>t;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout(function(){t.createObject(t.elements[e],e)},0)}(this,t)},fabric.ElementsParser.prototype.createObject=function(t,e){var n=fabric[fabric.util.string.capitalize(t.tagName)];if(n&&n.fromElement)try{this._createObject(n,t,e)}catch(i){fabric.log(i)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(t,e,n){if(t.async)t.fromElement(e,this.createCallback(n,e),this.options);else{var i=t.fromElement(e,this.options);this.resolveGradient(i,"fill"),this.resolveGradient(i,"stroke"),this.reviver&&this.reviver(e,i),this.instances[n]=i,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(t,e){var n=this;return function(i){n.resolveGradient(i,"fill"),n.resolveGradient(i,"stroke"),n.reviver&&n.reviver(e,i),n.instances[t]=i,n.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(t,e){var n=t.get(e);if(/^url\(/.test(n)){var i=n.slice(5,n.length-1);fabric.gradientDefs[this.svgUid][i]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][i],t))}},fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances))},function(t){"use strict";function e(t,e){this.x=t,this.y=e}var n=t.fabric||(t.fabric={});return n.Point?void n.warn("fabric.Point is already defined"):(n.Point=e,void(e.prototype={constructor:e,add:function(t){return new e(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new e(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new e(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new e(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new e(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new e(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,n){return new e(this.x+(t.x-this.x)*n,this.y+(t.y-this.y)*n)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return new e(this.x+(t.x-this.x)/2,this.y+(t.y-this.y)/2)},min:function(t){return new e(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new e(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){this.x=t,this.y=e},setFromPoint:function(t){this.x=t.x,this.y=t.y},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n}}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){this.status=t,this.points=[]}var n=t.fabric||(t.fabric={});return n.Intersection?void n.warn("fabric.Intersection is already defined"):(n.Intersection=e,n.Intersection.prototype={appendPoint:function(t){this.points.push(t)},appendPoints:function(t){this.points=this.points.concat(t)}},n.Intersection.intersectLineLine=function(t,i,r,o){var a,s=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),c=(i.x-t.x)*(t.y-r.y)-(i.y-t.y)*(t.x-r.x),l=(o.y-r.y)*(i.x-t.x)-(o.x-r.x)*(i.y-t.y);if(0!==l){var u=s/l,h=c/l;u>=0&&1>=u&&h>=0&&1>=h?(a=new e("Intersection"),a.points.push(new n.Point(t.x+u*(i.x-t.x),t.y+u*(i.y-t.y)))):a=new e}else a=new e(0===s||0===c?"Coincident":"Parallel");return a},n.Intersection.intersectLinePolygon=function(t,n,i){for(var r=new e,o=i.length,a=0;o>a;a++){var s=i[a],c=i[(a+1)%o],l=e.intersectLineLine(t,n,s,c);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},n.Intersection.intersectPolygonPolygon=function(t,n){for(var i=new e,r=t.length,o=0;r>o;o++){var a=t[o],s=t[(o+1)%r],c=e.intersectLinePolygon(a,s,n);i.appendPoints(c.points)}return i.points.length>0&&(i.status="Intersection"),i},void(n.Intersection.intersectPolygonRectangle=function(t,i,r){var o=i.min(r),a=i.max(r),s=new n.Point(a.x,o.y),c=new n.Point(o.x,a.y),l=e.intersectLinePolygon(o,s,t),u=e.intersectLinePolygon(s,a,t),h=e.intersectLinePolygon(a,c,t),d=e.intersectLinePolygon(c,o,t),f=new e;return f.appendPoints(l.points),f.appendPoints(u.points),f.appendPoints(h.points),f.appendPoints(d.points),f.points.length>0&&(f.status="Intersection"),f}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var i=t.fabric||(t.fabric={});return i.Color?void i.warn("fabric.Color is already defined."):(i.Color=e,i.Color.prototype={_tryParsingColor:function(t){var n;return t in e.colorNameMap&&(t=e.colorNameMap[t]),"transparent"===t?void this.setSource([255,255,255,0]):(n=e.sourceFromHex(t),n||(n=e.sourceFromRgb(t)),n||(n=e.sourceFromHsl(t)),void(n&&this.setSource(n)))},_rgbToHsl:function(t,e,n){t/=255,e/=255,n/=255;var r,o,a,s=i.util.array.max([t,e,n]),c=i.util.array.min([t,e,n]);if(a=(s+c)/2,s===c)r=o=0;else{var l=s-c;switch(o=a>.5?l/(2-s-c):l/(s+c),s){case t:r=(e-n)/l+(n>e?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,i=this.getSource();return t=i[0].toString(16),t=1===t.length?"0"+t:t,e=i[1].toString(16),e=1===e.length?"0"+e:e,n=i[2].toString(16),n=1===n.length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),n=t[3];return this.setSource([e,e,e,n]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),i=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(t){t instanceof e||(t=new e(t));for(var n=[],i=this.getAlpha(),r=.5,o=this.getSource(),a=t.getSource(),s=0;3>s;s++)n.push(Math.round(o[s]*(1-r)+a[s]*r));return n[3]=i,this.setSource(n),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,i.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},i.Color.fromRgb=function(t){return e.fromSource(e.sourceFromRgb(t))},i.Color.sourceFromRgb=function(t){var n=t.match(e.reRGBa);if(n){var i=parseInt(n[1],10)/(/%$/.test(n[1])?100:1)*(/%$/.test(n[1])?255:1),r=parseInt(n[2],10)/(/%$/.test(n[2])?100:1)*(/%$/.test(n[2])?255:1),o=parseInt(n[3],10)/(/%$/.test(n[3])?100:1)*(/%$/.test(n[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(o,10),n[4]?parseFloat(n[4]):1]}},i.Color.fromRgba=e.fromRgb,i.Color.fromHsl=function(t){return e.fromSource(e.sourceFromHsl(t))},i.Color.sourceFromHsl=function(t){var i=t.match(e.reHSLa);if(i){var r,o,a,s=(parseFloat(i[1])%360+360)%360/360,c=parseFloat(i[2])/(/%$/.test(i[2])?100:1),l=parseFloat(i[3])/(/%$/.test(i[3])?100:1);if(0===c)r=o=a=l;else{var u=.5>=l?l*(c+1):l+c-l*c,h=2*l-u;r=n(h,u,s+1/3),o=n(h,u,s),a=n(h,u,s-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*a),i[4]?parseFloat(i[4]):1]}},i.Color.fromHsla=e.fromHsl,i.Color.fromHex=function(t){return e.fromSource(e.sourceFromHex(t))},i.Color.sourceFromHex=function(t){if(t.match(e.reHex)){var n=t.slice(t.indexOf("#")+1),i=3===n.length,r=i?n.charAt(0)+n.charAt(0):n.substring(0,2),o=i?n.charAt(1)+n.charAt(1):n.substring(2,4),a=i?n.charAt(2)+n.charAt(2):n.substring(4,6);return[parseInt(r,16),parseInt(o,16),parseInt(a,16),1]}},void(i.Color.fromSource=function(t){var n=new e;return n.setSource(t),n}))}("undefined"!=typeof exports?exports:this),function(){function t(t){var e,n,i,r=t.getAttribute("style"),o=t.getAttribute("offset");if(o=parseFloat(o)/(/%$/.test(o)?100:1),o=0>o?0:o>1?1:o,r){var a=r.split(/\s*;\s*/);""===a[a.length-1]&&a.pop();for(var s=a.length;s--;){var c=a[s].split(/\s*:\s*/),l=c[0].trim(),u=c[1].trim();"stop-color"===l?e=u:"stop-opacity"===l&&(i=u)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),i||(i=t.getAttribute("stop-opacity")),e=new fabric.Color(e),n=e.getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=n,{offset:o,color:e.toRgb(),opacity:i}}function e(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}function n(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}function i(t,e,n){var i,r=0,o=1,a="";for(var s in e)i=parseFloat(e[s],10),o="string"==typeof e[s]&&/^\d+%$/.test(e[s])?.01:1,"x1"===s||"x2"===s||"r2"===s?(o*="objectBoundingBox"===n?t.width:1,r="objectBoundingBox"===n?t.left||0:0):("y1"===s||"y2"===s)&&(o*="objectBoundingBox"===n?t.height:1,r="objectBoundingBox"===n?t.top||0:0),e[s]=i*o+r;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===n&&t.rx!==t.ry){var c=t.ry/t.rx;a=" scale(1, "+c+")",e.y1&&(e.y1/=c),e.y2&&(e.y2/=c)}return a}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=fabric.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var n=new fabric.Color(t[e]);this.colorStops.push({offset:e,color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(){return{type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(t){var e,n,i=fabric.util.object.clone(this.coords);if(this.colorStops.sort(function(t,e){return t.offset-e.offset}),!t.group||"path-group"!==t.group.type)for(var r in i)"x1"===r||"x2"===r||"r2"===r?i[r]+=this.offsetX-t.width/2:("y1"===r||"y2"===r)&&(i[r]+=this.offsetY-t.height/2);n='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(n+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?e=["<linearGradient ",n,' x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,'">\n']:"radial"===this.type&&(e=["<radialGradient ",n,' cx="',i.x2,'" cy="',i.y2,'" r="',i.r2,'" fx="',i.x1,'" fy="',i.y1,'">\n']);for(var o=0;o<this.colorStops.length;o++)e.push("<stop ",'offset="',100*this.colorStops[o].offset+"%",'" style="stop-color:',this.colorStops[o].color,null!=this.colorStops[o].opacity?";stop-opacity: "+this.colorStops[o].opacity:";",'"/>\n');return e.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),e.join("")},toLive:function(t,e){var n,i,r=fabric.util.object.clone(this.coords);if(this.type){if(e.group&&"path-group"===e.group.type)for(i in r)"x1"===i||"x2"===i?r[i]+=-this.offsetX+e.width/2:("y1"===i||"y2"===i)&&(r[i]+=-this.offsetY+e.height/2);"linear"===this.type?n=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(n=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2));for(var o=0,a=this.colorStops.length;a>o;o++){var s=this.colorStops[o].color,c=this.colorStops[o].opacity,l=this.colorStops[o].offset;"undefined"!=typeof c&&(s=new fabric.Color(s).setAlpha(c).toRgba()),n.addColorStop(parseFloat(l),s)}return n}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(r,o){var a,s=r.getElementsByTagName("stop"),c="linearGradient"===r.nodeName?"linear":"radial",l=r.getAttribute("gradientUnits")||"objectBoundingBox",u=r.getAttribute("gradientTransform"),h=[],d={};"linear"===c?d=e(r):"radial"===c&&(d=n(r));for(var f=s.length;f--;)h.push(t(s[f]));a=i(o,d,l);var p=new fabric.Gradient({type:c,coords:d,colorStops:h,offsetX:-o.left,offsetY:-o.top});return(u||""!==a)&&(p.gradientTransform=fabric.parseTransformAttribute((u||"")+a)),p},forObject:function(t,e){return e||(e={}),i(t,e.coords,"userSpaceOnUse"),new fabric.Gradient(e)}})}(),fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(t){if(t||(t={}),this.id=fabric.Object.__uid++,t.source)if("string"==typeof t.source)if("undefined"!=typeof fabric.util.getFunctionBody(t.source))this.source=new Function(fabric.util.getFunctionBody(t.source));else{var e=this;this.source=fabric.util.createImage(),fabric.util.loadImage(t.source,function(t){e.source=t})}else this.source=t.source;t.repeat&&(this.repeat=t.repeat),t.offsetX&&(this.offsetX=t.offsetX),t.offsetY&&(this.offsetY=t.offsetY)},toObject:function(){var t;return"function"==typeof this.source?t=String(this.source):"string"==typeof this.source.src&&(t=this.source.src),{source:t,repeat:this.repeat,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,n=e.width/t.getWidth(),i=e.height/t.getHeight(),r=this.offsetX/t.getWidth(),o=this.offsetY/t.getHeight(),a="";return("repeat-x"===this.repeat||"no-repeat"===this.repeat)&&(i=1),("repeat-y"===this.repeat||"no-repeat"===this.repeat)&&(n=1),e.src?a=e.src:e.toDataURL&&(a=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if("undefined"!=typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed;return e.Shadow?void e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){"string"==typeof t&&(t=this._parseShadow(t));for(var n in t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),i=e.Shadow.reOffsetsAndBlur.exec(n)||[],r=n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseInt(i[1],10)||0,offsetY:parseInt(i[2],10)||0,blur:parseInt(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var e="SourceAlpha",i=40,r=40;return!t||t.fill!==this.color&&t.stroke!==this.color||(e="SourceGraphic"),t.width&&t.height&&(i=100*n(Math.abs(this.offsetX/t.getWidth()),2)+20,r=100*n(Math.abs(this.offsetY/t.getHeight()),2)+20),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n	<feGaussianBlur in="'+e+'" stdDeviation="'+n(this.blur?this.blur/2:0,3)+'" result="blurOut"></feGaussianBlur>\n	<feColorMatrix result="matrixOut" in="blurOut" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.30 0" ></feColorMatrix >\n	<feOffset dx="'+this.offsetX+'" dy="'+this.offsetY+'"></feOffset>\n	<feMerge>\n		<feMergeNode></feMergeNode>\n		<feMergeNode in="SourceGraphic"></feMergeNode>\n	</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY};var t={},n=e.Shadow.prototype;return this.color!==n.color&&(t.color=this.color),this.blur!==n.blur&&(t.blur=this.blur),this.offsetX!==n.offsetX&&(t.offsetX=this.offsetX),this.offsetY!==n.offsetY&&(t.offsetY=this.offsetY),t}}),void(e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/))}("undefined"!=typeof exports?exports:this),function(){"use strict";if(fabric.StaticCanvas)return void fabric.warn("fabric.StaticCanvas is already defined.");var t=fabric.util.object.extend,e=fabric.util.getElementOffset,n=fabric.util.removeFromArray,i=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(t,e){e||(e={}),this._initStatic(t,e),fabric.StaticCanvas.activeInstance=this},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!0,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,preserveObjectStacking:!1,viewportTransform:[1,0,0,1,0,0],onBeforeScaleRotate:function(){},_initStatic:function(t,e){this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),e.overlayImage&&this.setOverlayImage(e.overlayImage,this.renderAll.bind(this)),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,this.renderAll.bind(this)),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,this.renderAll.bind(this)),e.overlayColor&&this.setOverlayColor(e.overlayColor,this.renderAll.bind(this)),this.calcOffset()},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.webkitImageSmoothingEnabled=this.imageSmoothingEnabled,t.mozImageSmoothingEnabled=this.imageSmoothingEnabled,t.msImageSmoothingEnabled=this.imageSmoothingEnabled,t.oImageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,n,i){return"string"==typeof e?fabric.util.loadImage(e,function(e){this[t]=new fabric.Image(e,i),n&&n()},this,i&&i.crossOrigin):(i&&e.setOptions(i),this[t]=e,n&&n()),this},__setBgOverlayColor:function(t,e,n){if(e&&e.source){var i=this;fabric.util.loadImage(e.source,function(r){i[t]=new fabric.Pattern({source:r,repeat:e.repeat,offsetX:e.offsetX,offsetY:e.offsetY}),n&&n()})}else this[t]=e,n&&n();return this},_createCanvasElement:function(){var t=fabric.document.createElement("canvas");if(t.style||(t.style={}),!t)throw i;return this._initCanvasElement(t),t},_initCanvasElement:function(t){if(fabric.util.createCanvasElement(t),"undefined"==typeof t.getContext)throw i},_initOptions:function(t){for(var e in t)this[e]=t[e];this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(),this._initCanvasElement(this.lowerCanvasEl),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;e=e||{};for(var i in t)n=t[i],e.cssOnly||(this._setBackstoreDimension(i,t[i]),n+="px"),e.backstoreOnly||this._setCssDimension(i,n);return e.cssOnly||this.renderAll(),this.calcOffset(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return Math.sqrt(this.viewportTransform[0]*this.viewportTransform[3])},setViewportTransform:function(t){var e=this.getActiveGroup();this.viewportTransform=t,this.renderAll();for(var n=0,i=this._objects.length;i>n;n++)this._objects[n].setCoords();return e&&e.setCoords(),this},zoomToPoint:function(t,e){var n=t;t=fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform)),this.viewportTransform[0]=e,this.viewportTransform[3]=e;var i=fabric.util.transformPoint(t,this.viewportTransform);this.viewportTransform[4]+=n.x-i.x,this.viewportTransform[5]+=n.y-i.y,this.renderAll();for(var r=0,o=this._objects.length;o>r;r++)this._objects[r].setCoords();return this},setZoom:function(t){return this.zoomToPoint(new fabric.Point(0,0),t),this},absolutePan:function(t){this.viewportTransform[4]=-t.x,this.viewportTransform[5]=-t.y,this.renderAll();for(var e=0,n=this._objects.length;n>e;e++)this._objects[e].setCoords();return this},relativePan:function(t){return this.absolutePan(new fabric.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(t,e){if(e){t.save();var n=this.viewportTransform;t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._shouldRenderObject(e)&&e.render(t),t.restore(),this.controlsAboveOverlay||e._renderControls(t)}},_shouldRenderObject:function(t){return t?t!==this.getActiveGroup()||!this.preserveObjectStacking:!1},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared")),this.fire("object:removed",{target:t}),t.fire("removed")},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.discardActiveGroup&&this.discardActiveGroup(),this.discardActiveObject&&this.discardActiveObject(),this.clearContext(this.contextContainer),this.contextTop&&this.clearContext(this.contextTop),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(t){var e=this[t===!0&&this.interactive?"contextTop":"contextContainer"],n=this.getActiveGroup();return this.contextTop&&this.selection&&!this._groupSelector&&this.clearContext(this.contextTop),t||this.clearContext(e),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,e),this._renderBackground(e),this._renderObjects(e,n),this._renderActiveGroup(e,n),this.clipTo&&e.restore(),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render"),this},_renderObjects:function(t,e){var n,i;if(!e||this.preserveObjectStacking)for(n=0,i=this._objects.length;i>n;++n)this._draw(t,this._objects[n]);else for(n=0,i=this._objects.length;i>n;++n)this._objects[n]&&!e.contains(this._objects[n])&&this._draw(t,this._objects[n])},_renderActiveGroup:function(t,e){if(e){var n=[];this.forEachObject(function(t){e.contains(t)&&n.push(t)}),e._set("_objects",n.reverse()),this._draw(t,e)}},_renderBackground:function(t){this.backgroundColor&&(t.fillStyle=this.backgroundColor.toLive?this.backgroundColor.toLive(t):this.backgroundColor,t.fillRect(this.backgroundColor.offsetX||0,this.backgroundColor.offsetY||0,this.width,this.height)),this.backgroundImage&&this._draw(t,this.backgroundImage)},_renderOverlay:function(t){this.overlayColor&&(t.fillStyle=this.overlayColor.toLive?this.overlayColor.toLive(t):this.overlayColor,t.fillRect(this.overlayColor.offsetX||0,this.overlayColor.offsetY||0,this.width,this.height)),this.overlayImage&&this._draw(t,this.overlayImage)},renderTop:function(){var t=this.contextTop||this.contextContainer;
this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection();var e=this.getActiveGroup();return e&&e.render(t),this._renderOverlay(t),this.fire("after:render"),this},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return this._centerObject(t,new fabric.Point(this.getCenter().left,t.getCenterPoint().y)),this.renderAll(),this},centerObjectV:function(t){return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,this.getCenter().top)),this.renderAll(),this},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new fabric.Point(e.left,e.top)),this.renderAll(),this},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var i={objects:this._toObjects(e,n)};return t(i,this.__serializeBgOverlay()),fabric.util.populateWithProperties(this,i,n),i},_toObjects:function(t,e){return this.getObjects().map(function(n){return this._toObject(n,t,e)},this)},_toObject:function(t,e,n){var i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);var r=this._realizeGroupTransformOnObject(t),o=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=i),this._unwindGroupTransformOnObject(t,r),o},_realizeGroupTransformOnObject:function(t){var e=["angle","flipX","flipY","height","left","scaleX","scaleY","top","width"];if(t.group&&t.group===this.getActiveGroup()){var n={};return e.forEach(function(e){n[e]=t[e]}),this.getActiveGroup().realizeTransform(t),n}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},__serializeBgOverlay:function(){var t={background:this.backgroundColor&&this.backgroundColor.toObject?this.backgroundColor.toObject():this.backgroundColor};return this.overlayColor&&(t.overlay=this.overlayColor.toObject?this.overlayColor.toObject():this.overlayColor),this.backgroundImage&&(t.backgroundImage=this.backgroundImage.toObject()),this.overlayImage&&(t.overlayImage=this.overlayImage.toObject()),t},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this._setSVGBgOverlayColor(n,"backgroundColor"),this._setSVGBgOverlayImage(n,"backgroundImage"),this._setSVGObjects(n,e),this._setSVGBgOverlayColor(n,"overlayColor"),this._setSVGBgOverlayImage(n,"overlayImage"),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,i,r;e.viewBox?(n=e.viewBox.width,i=e.viewBox.height):(n=this.width,i=this.height,this.svgViewportTransformation||(r=this.viewportTransform,n/=r[0],i/=r[3])),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',this.backgroundColor&&!this.backgroundColor.toLive?'style="background-color: '+this.backgroundColor+'" ':null,e.viewBox?'viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':null,'xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>","<defs>",fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"</defs>")},_setSVGObjects:function(t,e){for(var n=0,i=this.getObjects(),r=i.length;r>n;n++){var o=i[n],a=this._realizeGroupTransformOnObject(o);t.push(o.toSVG(e)),this._unwindGroupTransformOnObject(o,a)}},_setSVGBgOverlayImage:function(t,e){this[e]&&this[e].toSVG&&t.push(this[e].toSVG())},_setSVGBgOverlayColor:function(t,e){this[e]&&this[e].source?t.push('<rect x="',this[e].offsetX,'" y="',this[e].offsetY,'" ','width="',"repeat-y"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.width:this.width,'" height="',"repeat-x"===this[e].repeat||"no-repeat"===this[e].repeat?this[e].source.height:this.height,'" fill="url(#'+e+'Pattern)"',"></rect>"):this[e]&&"overlayColor"===e&&t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>")},sendToBack:function(t){return n(this._objects,t),this._objects.unshift(t),this.renderAll&&this.renderAll()},bringToFront:function(t){return n(this._objects,t),this._objects.push(t),this.renderAll&&this.renderAll()},sendBackwards:function(t,e){var i=this._objects.indexOf(t);if(0!==i){var r=this._findNewLowerIndex(t,i,e);n(this._objects,t),this._objects.splice(r,0,t),this.renderAll&&this.renderAll()}return this},_findNewLowerIndex:function(t,e,n){var i;if(n){i=e;for(var r=e-1;r>=0;--r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(o){i=r;break}}}else i=e-1;return i},bringForward:function(t,e){var i=this._objects.indexOf(t);if(i!==this._objects.length-1){var r=this._findNewUpperIndex(t,i,e);n(this._objects,t),this._objects.splice(r,0,t),this.renderAll&&this.renderAll()}return this},_findNewUpperIndex:function(t,e,n){var i;if(n){i=e;for(var r=e+1;r<this._objects.length;++r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(o){i=r;break}}}else i=e+1;return i},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this.interactive&&this.removeListeners(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,fabric.Collection),t(fabric.StaticCanvas.prototype,fabric.DataURLExporter),t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=fabric.util.createCanvasElement();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"getImageData":return"undefined"!=typeof n.getImageData;case"setLineDash":return"undefined"!=typeof n.setLineDash;case"toDataURL":return"undefined"!=typeof e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(i){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(t){return this.shadow=new fabric.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop;t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur,t.shadowOffsetX=this.shadow.offsetX,t.shadowOffsetY=this.shadow.offsetY}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),function(){fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){this._captureDrawingPath(t),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new fabric.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){this._points.push(t)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new fabric.Point(t.x,t.y);this._addPoint(e)},_render:function(){var t=this.canvas.contextTop,e=this.canvas.viewportTransform,n=this._points[0],i=this._points[1];t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.beginPath(),2===this._points.length&&n.x===i.x&&n.y===i.y&&(n.x-=.5,i.x+=.5),t.moveTo(n.x,n.y);for(var r=1,o=this._points.length;o>r;r++){var a=n.midPointFrom(i);t.quadraticCurveTo(n.x,n.y,a.x,a.y),n=this._points[r],i=this._points[r+1]}t.lineTo(n.x,n.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=[],n=new fabric.Point(t[0].x,t[0].y),i=new fabric.Point(t[1].x,t[1].y);e.push("M ",t[0].x," ",t[0].y," ");for(var r=1,o=t.length;o>r;r++){var a=n.midPointFrom(i);e.push("Q ",n.x," ",n.y," ",a.x," ",a.y," "),n=new fabric.Point(t[r].x,t[r].y),r+1<t.length&&(i=new fabric.Point(t[r+1].x,t[r+1].y))}return e.push("L ",n.x," ",n.y," "),e},createPath:function(t){var e=new fabric.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){var t=this.canvas.contextTop;t.closePath();var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"===e)return void this.canvas.renderAll();var n=this.createPath(e);this.canvas.add(n),n.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:n})}})}(),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop,i=this.canvas.viewportTransform;n.save(),n.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n.fillStyle=e.fill,n.beginPath(),n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,i=this.points.length;i>n;n++){var r=this.points[n],o=new fabric.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&o.setShadow(this.shadow),e.push(o)}var a=new fabric.Group(e,{originX:"center",originY:"center"});a.canvas=this.canvas,this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},addPoint:function(t){var e=new fabric.Point(t.x,t.y),n=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=i,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render()},onMouseMove:function(t){this.addSprayChunk(t),this.render()},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,i=this.sprayChunks.length;i>n;n++)for(var r=this.sprayChunks[n],o=0,a=r.length;a>o;o++){var s=new fabric.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&s.setShadow(this.shadow),e.push(s)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new fabric.Group(e,{originX:"center",originY:"center"});c.canvas=this.canvas,this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},_getOptimizedRects:function(t){for(var e,n={},i=0,r=t.length;r>i;i++)e=t[i].left+""+t[i].top,n[e]||(n[e]=t[i]);var o=[];for(e in n)o.push(n[e]);return o},render:function(){var t=this.canvas.contextTop;t.fillStyle=this.color;var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var n=0,i=this.sprayChunkPoints.length;i>n;n++){var r=this.sprayChunkPoints[n];"undefined"!=typeof r.opacity&&(t.globalAlpha=r.opacity),t.fillRect(r.x,r.y,r.width,r.width)}t.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e,n,i,r=this.width/2,o=0;o<this.density;o++){e=fabric.util.getRandomInt(t.x-r,t.x+r),n=fabric.util.getRandomInt(t.y-r,t.y+r),i=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new fabric.Point(e,n);a.width=i,this.randomOpacity&&(a.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var t=20,e=5,n=fabric.document.createElement("canvas"),i=n.getContext("2d");return n.width=n.height=t+e,i.fillStyle=this.color,i.beginPath(),i.arc(t/2,t/2,t/2,0,2*Math.PI,!1),i.closePath(),i.fill(),n},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction()}),e}}),function(){var t=fabric.util.getPointer,e=fabric.util.degreesToRadians,n=fabric.util.radiansToDegrees,i=Math.atan2,r=Math.abs,o=.5;fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas(),fabric.Canvas.activeInstance=this},uniScaleTransform:!1,centeredScaling:!1,centeredRotation:!1,interactive:!0,selection:!0,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_resetCurrentTransform:function(t){var e=this._currentTransform;e.target.set({scaleX:e.original.scaleX,scaleY:e.original.scaleY,left:e.original.left,top:e.original.top}),this._shouldCenterTransform(t,e.target)?"rotate"===e.action?this._setOriginToCenter(e.target):("center"!==e.originX&&(e.mouseXSign="right"===e.originX?-1:1),"center"!==e.originY&&(e.mouseYSign="bottom"===e.originY?-1:1),e.originX="center",e.originY="center"):(e.originX=e.original.originX,e.originY=e.original.originY)},containsPoint:function(t,e){var n=this.getPointer(t,!0),i=this._normalizePointer(e,n);return e.containsPoint(i)||e._findTargetCorner(n)},_normalizePointer:function(t,e){var n,i=this.getActiveGroup(),r=e.x,o=e.y,a=i&&"group"!==t.type&&i.contains(t);return a&&(n=new fabric.Point(i.left,i.top),n=fabric.util.transformPoint(n,this.viewportTransform,!0),r-=n.x,o-=n.y),{x:r,y:o}},isTargetTransparent:function(t,e,n){var i=t.hasBorders,r=t.transparentCorners;t.hasBorders=t.transparentCorners=!1,this._draw(this.contextCache,t),t.hasBorders=i,t.transparentCorners=r;var o=fabric.util.isTransparent(this.contextCache,e,n,this.targetFindTolerance);return this.clearContext(this.contextCache),o},_shouldClearSelection:function(t,e){var n=this.getActiveGroup(),i=this.getActiveObject();return!e||e&&n&&!n.contains(e)&&n!==e&&!t.shiftKey||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(t,e){if(e){var n,i=this._currentTransform;return"scale"===i.action||"scaleX"===i.action||"scaleY"===i.action?n=this.centeredScaling||e.centeredScaling:"rotate"===i.action&&(n=this.centeredRotation||e.centeredRotation),n?!t.altKey:t.altKey}},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":("mr"===e||"tr"===e||"br"===e)&&(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":("bl"===e||"mb"===e||"br"===e)&&(n.y="top"),n},_getActionFromCorner:function(t,e){var n="drag";return e&&(n="ml"===e||"mr"===e?"scaleX":"mt"===e||"mb"===e?"scaleY":"mtr"===e?"rotate":"scale"),n},_setupCurrentTransform:function(t,n){if(n){var i=this.getPointer(t),r=n._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(n,r),a=this._getOriginFromCorner(n,r);this._currentTransform={target:n,action:o,scaleX:n.scaleX,scaleY:n.scaleY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:a.x,originY:a.y,ex:i.x,ey:i.y,left:n.left,top:n.top,theta:e(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1},this._currentTransform.original={left:n.left,top:n.top,scaleX:n.scaleX,scaleY:n.scaleY,originX:a.x,originY:a.y},this._resetCurrentTransform(t)}},_translateObject:function(t,e){var n=this._currentTransform.target;n.get("lockMovementX")||n.set("left",t-this._currentTransform.offsetX),n.get("lockMovementY")||n.set("top",e-this._currentTransform.offsetY)},_scaleObject:function(t,e,n){var i=this._currentTransform,r=i.target,o=r.get("lockScalingX"),a=r.get("lockScalingY"),s=r.get("lockScalingFlip");if(!o||!a){var c=r.translateToOriginPoint(r.getCenterPoint(),i.originX,i.originY),l=r.toLocalPoint(new fabric.Point(t,e),i.originX,i.originY);this._setLocalMouse(l,i),this._setObjectScale(l,i,o,a,n,s),r.setPositionByOrigin(c,i.originX,i.originY)}},_setObjectScale:function(t,e,n,i,r,o){var a=e.target,s=!1,c=!1,l="line"===a.type&&0===a.width,u="line"===a.type&&0===a.height,h=u?0:a.strokeWidth,d=l?0:a.strokeWidth;e.newScaleX=t.x/(a.width+h),e.newScaleY=t.y/(a.height+d),o&&e.newScaleX<=0&&e.newScaleX<a.scaleX&&(s=!0),o&&e.newScaleY<=0&&e.newScaleY<a.scaleY&&(c=!0),"equally"!==r||n||i?r?"x"!==r||a.get("lockUniScaling")?"y"!==r||a.get("lockUniScaling")||c||i||a.set("scaleY",e.newScaleY):s||n||a.set("scaleX",e.newScaleX):(s||n||a.set("scaleX",e.newScaleX),c||i||a.set("scaleY",e.newScaleY)):s||c||this._scaleObjectEqually(t,a,e),s||c||this._flipObject(e,r)},_scaleObjectEqually:function(t,e,n){var i=t.y+t.x,r="line"===e.type&&0===e.width,o="line"===e.type&&0===e.height,a=o?0:e.strokeWidth,s=r?0:e.strokeWidth,c=(e.height+s)*n.original.scaleY+(e.width+a)*n.original.scaleX;n.newScaleX=n.original.scaleX*i/c,n.newScaleY=n.original.scaleY*i/c,e.set("scaleX",n.newScaleX),e.set("scaleY",n.newScaleY)},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var n=e.target;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),r(t.x)>n.padding?t.x<0?t.x+=n.padding:t.x-=n.padding:t.x=0,r(t.y)>n.padding?t.y<0?t.y+=n.padding:t.y-=n.padding:t.y=0},_rotateObject:function(t,e){var r=this._currentTransform;if(!r.target.get("lockRotation")){var o=i(r.ey-r.top,r.ex-r.left),a=i(e-r.top,t-r.left),s=n(a-o+r.theta);0>s&&(s=360+s),r.target.angle=s%360}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.setAngle(0)},_drawSelection:function(){var t=this.contextTop,e=this._groupSelector,n=e.left,i=e.top,a=r(n),s=r(i);if(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(n>0?0:-n),e.ey-(i>0?0:-i),a,s),t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1){var c=e.ex+o-(n>0?0:a),l=e.ey+o-(i>0?0:s);t.beginPath(),fabric.util.drawDashedLine(t,c,l,c+a,l,this.selectionDashArray),fabric.util.drawDashedLine(t,c,l+s-1,c+a,l+s-1,this.selectionDashArray),fabric.util.drawDashedLine(t,c,l,c,l+s,this.selectionDashArray),fabric.util.drawDashedLine(t,c+a-1,l,c+a-1,l+s,this.selectionDashArray),t.closePath(),t.stroke()}else t.strokeRect(e.ex+o-(n>0?0:a),e.ey+o-(i>0?0:s),a,s)},_isLastRenderedObject:function(t){return this.controlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay&&this.lastRenderedObjectWithControlsAboveOverlay.visible&&this.containsPoint(t,this.lastRenderedObjectWithControlsAboveOverlay)&&this.lastRenderedObjectWithControlsAboveOverlay._findTargetCorner(this.getPointer(t,!0))},findTarget:function(t,e){if(!this.skipTargetFind){if(this._isLastRenderedObject(t))return this.lastRenderedObjectWithControlsAboveOverlay;var n=this.getActiveGroup();if(n&&!e&&this.containsPoint(t,n))return n;var i=this._searchPossibleTargets(t);return this._fireOverOutEvents(i,t),i}},_fireOverOutEvents:function(t,e){t?this._hoveredTarget!==t&&(this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:e}),this._hoveredTarget.fire("mouseout")),this.fire("mouse:over",{target:t,e:e}),t.fire("mouseover"),this._hoveredTarget=t):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:e}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(t,e,n){if(e&&e.visible&&e.evented&&this.containsPoint(t,e)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;var i=this.isTargetTransparent(e,n.x,n.y);if(!i)return!0}},_searchPossibleTargets:function(t){for(var e,n=this.getPointer(t,!0),i=this._objects.length;i--;)if(!this._objects[i].group&&this._checkTarget(t,this._objects[i],n)){this.relatedTarget=this._objects[i],e=this._objects[i];break}return e},getPointer:function(e,n,i){i||(i=this.upperCanvasEl);var r,o=t(e,i),a=i.getBoundingClientRect(),s=a.width||0,c=a.height||0;return s&&c||("top"in a&&"bottom"in a&&(c=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,n||(o=fabric.util.transformPoint(o,fabric.util.invertTransform(this.viewportTransform))),r=0===s||0===c?{width:1,height:1}:{width:i.width/s,height:i.height/c},{x:o.x*r.width,y:o.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,n=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0}),t.width=e,t.height=n,fabric.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(t){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=t,t.set("active",!0)},setActiveObject:function(t,e){return this._setActiveObject(t),this.renderAll(),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this},getActiveObject:function(){return this._activeObject},_discardActiveObject:function(){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=null},discardActiveObject:function(t){return this._discardActiveObject(),this.renderAll(),this.fire("selection:cleared",{e:t}),this},_setActiveGroup:function(t){this._activeGroup=t,t&&t.set("active",!0)},setActiveGroup:function(t,e){return this._setActiveGroup(t),t&&(this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var t=this.getActiveGroup();t&&t.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(t){return this._discardActiveGroup(),this.fire("selection:cleared",{e:t}),this},deactivateAll:function(){for(var t=this.getObjects(),e=0,n=t.length;n>e;e++)t[e].set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(t){var e=this.getActiveGroup()||this.getActiveObject();return e&&this.fire("before:selection:cleared",{target:e,e:t}),this.deactivateAll(),e&&this.fire("selection:cleared",{e:t}),this},drawControls:function(t){var e=this.getActiveGroup();e?this._drawGroupControls(t,e):this._drawObjectsControls(t)},_drawGroupControls:function(t,e){e._renderControls(t)},_drawObjectsControls:function(t){for(var e=0,n=this._objects.length;n>e;++e)this._objects[e]&&this._objects[e].active&&(this._objects[e]._renderControls(t),this.lastRenderedObjectWithControlsAboveOverlay=this._objects[e])}});for(var a in fabric.StaticCanvas)"prototype"!==a&&(fabric.Canvas[a]=fabric.StaticCanvas[a]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=fabric.util.addListener,n=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this._bindEvents(),e(fabric.window,"resize",this._onResize),e(this.upperCanvasEl,"mousedown",this._onMouseDown),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"mousewheel",this._onMouseWheel),e(this.upperCanvasEl,"touchstart",this._onMouseDown),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this)},removeListeners:function(){n(fabric.window,"resize",this._onResize),n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"mousewheel",this._onMouseWheel),n(this.upperCanvasEl,"touchstart",this._onMouseDown),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!=typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t,e){this.__onMouseWheel&&this.__onMouseWheel(t,e)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onMouseDown:function(t){this.__onMouseDown(t),e(fabric.document,"touchend",this._onMouseUp),e(fabric.document,"touchmove",this._onMouseMove),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?n(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(fabric.document,"mouseup",this._onMouseUp),e(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),n(fabric.document,"mouseup",this._onMouseUp),n(fabric.document,"touchend",this._onMouseUp),n(fabric.document,"mousemove",this._onMouseMove),n(fabric.document,"touchmove",this._onMouseMove),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchend"===t.type){var i=this;setTimeout(function(){e(i.upperCanvasEl,"mousedown",i._onMouseDown)},400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var n=this.getActiveGroup()||this.getActiveObject();return!!(t&&(t.isMoving||t!==n)||!t&&n||!t&&!n&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y))},__onMouseUp:function(t){var e;if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);this._currentTransform?(this._finalizeCurrentTransform(),e=this._currentTransform.target):e=this.findTarget(t,!0);var n=this._shouldRender(e,this.getPointer(t));this._maybeGroupObjects(t),e&&(e.isMoving=!1),n&&this.renderAll(),this._handleCursorAndEvent(t,e)},_handleCursorAndEvent:function(t,e){this._setCursorFromEvent(t,e);var n=this;setTimeout(function(){n._setCursorFromEvent(t,e)},50),this.fire("mouse:up",{target:e,e:t}),e&&e.fire("mouseup",{e:t})},_finalizeCurrentTransform:function(){var t=this._currentTransform,e=t.target;e._scaling&&(e._scaling=!1),e.setCoords(),this.stateful&&e.hasStateChanged()&&(this.fire("object:modified",{target:e}),e.fire("modified")),this._restoreOriginXY(e)},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject(t).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var e=fabric.util.invertTransform(this.viewportTransform),n=fabric.util.transformPoint(this.getPointer(t,!0),e);this.freeDrawingBrush.onMouseDown(n),this.fire("mouse:down",{e:t});var i=this.findTarget(t);"undefined"!=typeof i&&i.fire("mousedown",{e:t,target:i})},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=fabric.util.invertTransform(this.viewportTransform),n=fabric.util.transformPoint(this.getPointer(t,!0),e);this.freeDrawingBrush.onMouseMove(n)}this.setCursor(this.freeDrawingCursor),this.fire("mouse:move",{e:t});var i=this.findTarget(t);"undefined"!=typeof i&&i.fire("mousemove",{e:t,target:i})},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this.fire("mouse:up",{e:t});
var e=this.findTarget(t);"undefined"!=typeof e&&e.fire("mouseup",{e:t,target:e})},__onMouseDown:function(t){var e="which"in t?1===t.which:1===t.button;if(e||fabric.isTouchSupported){if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._currentTransform){var n=this.findTarget(t),i=this.getPointer(t,!0);this._previousPointer=i;var r=this._shouldRender(n,i),o=this._shouldGroup(t,n);this._shouldClearSelection(t,n)?this._clearSelection(t,n,i):o&&(this._handleGrouping(t,n),n=this.getActiveGroup()),n&&n.selectable&&!o&&(this._beforeTransform(t,n),this._setupCurrentTransform(t,n)),r&&this.renderAll(),this.fire("mouse:down",{target:n,e:t}),n&&n.fire("mousedown",{e:t})}}},_beforeTransform:function(t,e){this.stateful&&e.saveState(),e._findTargetCorner(this.getPointer(t))&&this.onBeforeScaleRotate(e),e!==this.getActiveGroup()&&e!==this.getActiveObject()&&(this.deactivateAll(),this.setActiveObject(e,t))},_clearSelection:function(t,e,n){this.deactivateAllWithDispatch(t),e&&e.selectable?this.setActiveObject(e,t):this.selection&&(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0})},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,n;if(this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!("undefined"!=typeof t.touches&&t.touches.length>1)){var i=this._groupSelector;i?(n=this.getPointer(t,!0),i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t),!e||e&&!e.selectable?this.setCursor(this.defaultCursor):this._setCursorFromEvent(t,e)),this.fire("mouse:move",{target:e,e:t}),e&&e.fire("mousemove",{e:t})}},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,this._beforeScaleTransform(t,n),this._performTransformAction(t,n,e),this.renderAll()},_performTransformAction:function(t,e,n){var i=n.x,r=n.y,o=e.target,a=e.action;"rotate"===a?(this._rotateObject(i,r),this._fire("rotating",o,t)):"scale"===a?(this._onScale(t,e,i,r),this._fire("scaling",o,t)):"scaleX"===a?(this._scaleObject(i,r,"x"),this._fire("scaling",o,t)):"scaleY"===a?(this._scaleObject(i,r,"y"),this._fire("scaling",o,t)):(this._translateObject(i,r),this._fire("moving",o,t),this.setCursor(this.moveCursor))},_fire:function(t,e,n){this.fire("object:"+t,{target:e,e:n}),e.fire(t,{e:n})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var n=this._shouldCenterTransform(t,e.target);(n&&("center"!==e.originX||"center"!==e.originY)||!n&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(t),e.reset=!0)}},_onScale:function(t,e,n,i){!t.shiftKey&&!this.uniScaleTransform||e.target.get("lockUniScaling")?(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(t,e.target),e.currentAction="scaleEqually",this._scaleObject(n,i,"equally")):(e.currentAction="scale",this._scaleObject(n,i))},_setCursorFromEvent:function(t,e){if(!e||!e.selectable)return this.setCursor(this.defaultCursor),!1;var n=this.getActiveGroup(),i=e._findTargetCorner&&(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));return i?this._setCornerCursor(i,e):this.setCursor(e.hoverCursor||this.hoverCursor),!0},_setCornerCursor:function(e,n){if(e in t)this.setCursor(this._getRotatedCornerCursor(e,n));else{if("mtr"!==e||!n.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(e,n){var i=Math.round(n.getAngle()%360/45);return 0>i&&(i+=8),i+=t[e],i%=8,this.cursorMap[i]}})}(),function(){var t=Math.min,e=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(t,e){var n=this.getActiveObject();return t.shiftKey&&(this.getActiveGroup()||n&&n!==e)&&this.selection},_handleGrouping:function(t,e){(e!==this.getActiveGroup()||(e=this.findTarget(t,!0),e&&!e.isType("group")))&&(this.getActiveGroup()?this._updateActiveGroup(e,t):this._createActiveGroup(e,t),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(t,e){var n=this.getActiveGroup();if(n.contains(t)){if(n.removeWithUpdate(t),this._resetObjectTransform(n),t.set("active",!1),1===n.size())return this.discardActiveGroup(e),void this.setActiveObject(n.item(0))}else n.addWithUpdate(t),this._resetObjectTransform(n);this.fire("selection:created",{target:n,e:e}),n.set("active",!0)},_createActiveGroup:function(t,e){if(this._activeObject&&t!==this._activeObject){var n=this._createGroup(t);n.addWithUpdate(),this.setActiveGroup(n),this._activeObject=null,this.fire("selection:created",{target:n,e:e})}t.set("active",!0)},_createGroup:function(t){var e=this.getObjects(),n=e.indexOf(this._activeObject)<e.indexOf(t),i=n?[this._activeObject,t]:[t,this._activeObject];return new fabric.Group(i,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects();1===e.length?this.setActiveObject(e[0],t):e.length>1&&(e=new fabric.Group(e.reverse(),{canvas:this}),e.addWithUpdate(),this.setActiveGroup(e,t),e.saveCoords(),this.fire("selection:created",{target:e}),this.renderAll())},_collectObjects:function(){for(var n,i=[],r=this._groupSelector.ex,o=this._groupSelector.ey,a=r+this._groupSelector.left,s=o+this._groupSelector.top,c=new fabric.Point(t(r,a),t(o,s)),l=new fabric.Point(e(r,a),e(o,s)),u=r===a&&o===s,h=this._objects.length;h--&&(n=this._objects[h],!(n&&n.selectable&&n.visible&&(n.intersectsWithRect(c,l)||n.isContainedWithinRect(c,l)||n.containsPoint(c)||n.containsPoint(l))&&(n.set("active",!0),i.push(n),u))););return i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t);var e=this.getActiveGroup();e&&(e.setObjectsCoords().setCoords(),e.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,i=t.multiplier||1,r={left:t.left,top:t.top,width:t.width,height:t.height};return 1!==i?this.__toDataURLWithMultiplier(e,n,r,i):this.__toDataURL(e,n,r)},__toDataURL:function(t,e,n){this.renderAll(!0);var i=this.upperCanvasEl||this.lowerCanvasEl,r=this.__getCroppedCanvas(i,n);"jpg"===t&&(t="jpeg");var o=fabric.StaticCanvas.supports("toDataURLWithQuality")?(r||i).toDataURL("image/"+t,e):(r||i).toDataURL("image/"+t);return this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),r&&(r=null),o},__getCroppedCanvas:function(t,e){var n,i,r="left"in e||"top"in e||"width"in e||"height"in e;return r&&(n=fabric.util.createCanvasElement(),i=n.getContext("2d"),n.width=e.width||this.width,n.height=e.height||this.height,i.drawImage(t,-e.left||0,-e.top||0)),n},__toDataURLWithMultiplier:function(t,e,n,i){var r=this.getWidth(),o=this.getHeight(),a=r*i,s=o*i,c=this.getActiveObject(),l=this.getActiveGroup(),u=this.contextTop||this.contextContainer;i>1&&this.setWidth(a).setHeight(s),u.scale(i,i),n.left&&(n.left*=i),n.top&&(n.top*=i),n.width?n.width*=i:1>i&&(n.width=a),n.height?n.height*=i:1>i&&(n.height=s),l?this._tempRemoveBordersControlsFromGroup(l):c&&this.deactivateAll&&this.deactivateAll(),this.renderAll(!0);var h=this.__toDataURL(t,e,n);return this.width=r,this.height=o,u.scale(1/i,1/i),this.setWidth(r).setHeight(o),l?this._restoreBordersControlsOnGroup(l):c&&this.setActiveObject&&this.setActiveObject(c),this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),h},toDataURLWithMultiplier:function(t,e,n){return this.toDataURL({format:t,multiplier:e,quality:n})},_tempRemoveBordersControlsFromGroup:function(t){t.origHasControls=t.hasControls,t.origBorderColor=t.borderColor,t.hasControls=!0,t.borderColor="rgba(0,0,0,0)",t.forEachObject(function(t){t.origBorderColor=t.borderColor,t.borderColor="rgba(0,0,0,0)"})},_restoreBordersControlsOnGroup:function(t){t.hideControls=t.origHideControls,t.borderColor=t.origBorderColor,t.forEachObject(function(t){t.borderColor=t.origBorderColor,delete t.origBorderColor})}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,n){return this.loadFromJSON(t,e,n)},loadFromJSON:function(t,e,n){if(t){var i="string"==typeof t?JSON.parse(t):t;this.clear();var r=this;return this._enlivenObjects(i.objects,function(){r._setBgOverlay(i,e)},n),this}},_setBgOverlay:function(t,e){var n=this,i={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!(t.backgroundImage||t.overlayImage||t.background||t.overlay))return void(e&&e());var r=function(){i.backgroundImage&&i.overlayImage&&i.backgroundColor&&i.overlayColor&&(n.renderAll(),e&&e())};this.__setBgOverlay("backgroundImage",t.backgroundImage,i,r),this.__setBgOverlay("overlayImage",t.overlayImage,i,r),this.__setBgOverlay("backgroundColor",t.background,i,r),this.__setBgOverlay("overlayColor",t.overlay,i,r),r()},__setBgOverlay:function(t,e,n,i){var r=this;return e?void("backgroundImage"===t||"overlayImage"===t?fabric.Image.fromObject(e,function(e){r[t]=e,n[t]=!0,i&&i()}):this["set"+fabric.util.string.capitalize(t,!0)](e,function(){n[t]=!0,i&&i()})):void(n[t]=!0)},_enlivenObjects:function(t,e,n){var i=this;if(!t||0===t.length)return void(e&&e());var r=this.renderOnAddRemove;this.renderOnAddRemove=!1,fabric.util.enlivenObjects(t,function(t){t.forEach(function(t,e){i.insertAt(t,e,!0)}),i.renderOnAddRemove=r,e&&e()},null,n)},_toDataURL:function(t,e){this.clone(function(n){e(n.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,n){this.clone(function(i){n(i.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(n,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var n=new fabric.Canvas(e);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,function(){n.renderAll(),t&&t(n)}),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.toFixed,r=e.util.string.capitalize,o=e.util.degreesToRadians,a=e.StaticCanvas.supports("setLineDash");e.Object||(e.Object=e.util.createClass({type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,cornerSize:12,transparentCorners:!0,hoverCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockScalingFlip:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor".split(" "),initialize:function(t){t&&this.setOptions(t)},_initGradient:function(t){!t.fill||!t.fill.colorStops||t.fill instanceof e.Gradient||this.set("fill",new e.Gradient(t.fill)),!t.stroke||!t.stroke.colorStops||t.stroke instanceof e.Gradient||this.set("stroke",new e.Gradient(t.stroke))},_initPattern:function(t){!t.fill||!t.fill.source||t.fill instanceof e.Pattern||this.set("fill",new e.Pattern(t.fill)),!t.stroke||!t.stroke.source||t.stroke instanceof e.Pattern||this.set("stroke",new e.Pattern(t.stroke))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var n=e.util.getFunctionBody(t.clipTo);"undefined"!=typeof n&&(this.clipTo=new Function("ctx",n))}},setOptions:function(t){for(var e in t)this.set(e,t[e]);this._initGradient(t),this._initPattern(t),this._initClipping(t)},transform:function(t,e){this.group&&this.canvas.preserveObjectStacking&&this.group===this.canvas._activeGroup&&this.group.transform(t);var n=e?this._getLeftTopCoords():this.getCenterPoint();t.translate(n.x,n.y),t.rotate(o(this.angle)),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.getAngle(),n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation};return this.includeDefaultValues||(r=this._removeDefaultValues(r)),e.util.populateWithProperties(this,r,t),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype,i=n.stateProperties;return i.forEach(function(e){t[e]===n[e]&&delete t[e]}),t},toString:function(){return"#<fabric."+r(this.type)+">"},get:function(t){return this[t]},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,n){var r="scaleX"===t||"scaleY"===t;return r&&(n=this._constrainScale(n)),"scaleX"===t&&0>n?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&0>n?(this.flipY=!this.flipY,n*=-1):"width"===t||"height"===t?this.minScaleLimit=i(Math.min(.1,1/Math.max(this.width,this.height)),2):"shadow"!==t||!n||n instanceof e.Shadow||(n=new e.Shadow(n)),this[t]=n,this},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},setSourcePath:function(t){return this.sourcePath=t,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(t,n){0===this.width&&0===this.height||!this.visible||(t.save(),this._setupCompositeOperation(t),n||this.transform(t),this._setStrokeStyles(t),this._setFillStyles(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._setOpacity(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t),this._render(t,n),this.clipTo&&t.restore(),t.restore())},_setOpacity:function(t){this.group&&this.group._setOpacity(t),t.globalAlpha*=this.opacity},_setStrokeStyles:function(t){this.stroke&&(t.lineWidth=this.strokeWidth,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,t.strokeStyle=this.stroke.toLive?this.stroke.toLive(t,this):this.stroke)},_setFillStyles:function(t){this.fill&&(t.fillStyle=this.fill.toLive?this.fill.toLive(t,this):this.fill)},_renderControls:function(t,n){if(this.active&&!n){var i=this.getViewportTransform();t.save();var r;this.group&&(r=e.util.transformPoint(this.group.getCenterPoint(),i),t.translate(r.x,r.y),t.rotate(o(this.group.angle))),r=e.util.transformPoint(this.getCenterPoint(),i,null!=this.group),this.group&&(r.x*=this.group.scaleX,r.y*=this.group.scaleY),t.translate(r.x,r.y),t.rotate(o(this.angle)),this.drawBorders(t),this.drawControls(t),t.restore()}},_setShadow:function(t){if(this.shadow){var e=this.canvas&&this.canvas.viewportTransform[0]||1,n=this.canvas&&this.canvas.viewportTransform[3]||1;t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*(e+n)*(this.scaleX+this.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*e*this.scaleX,t.shadowOffsetY=this.shadow.offsetY*n*this.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_renderFill:function(t){if(this.fill){if(t.save(),this.fill.gradientTransform){var e=this.fill.gradientTransform;t.transform.apply(t,e)}this.fill.toLive&&t.translate(-this.width/2+this.fill.offsetX||0,-this.height/2+this.fill.offsetY||0),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore()}},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeDashArray)1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),a?(t.setLineDash(this.strokeDashArray),this._stroke&&this._stroke(t)):this._renderDashedStroke&&this._renderDashedStroke(t),t.stroke();else{if(this.stroke.gradientTransform){var e=this.stroke.gradientTransform;t.transform.apply(t,e)}this._stroke?this._stroke(t):t.stroke()}t.restore()}},clone:function(t,n){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(n),t):new e.Object(this.toObject(n))},cloneAsImage:function(t){var n=this.toDataURL();return e.util.loadImage(n,function(n){t&&t(new e.Image(n))}),this},toDataURL:function(t){t||(t={});var n=e.util.createCanvasElement(),i=this.getBoundingRect();n.width=i.width,n.height=i.height,e.util.wrapElement(n,"div");var r=new e.StaticCanvas(n);"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(r.backgroundColor="#fff");var o={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point(n.width/2,n.height/2),"center","center");var a=this.canvas;r.add(this);var s=r.toDataURL(t);return this.set(o).setCoords(),this.canvas=a,r.dispose(),r=null,s},isType:function(t){return this.type===t},complexity:function(){return 0},toJSON:function(t){return this.toObject(t)},setGradient:function(t,n){n||(n={});var i={colorStops:[]};i.type=n.type||(n.r1||n.r2?"radial":"linear"),i.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},(n.r1||n.r2)&&(i.coords.r1=n.r1,i.coords.r2=n.r2);for(var r in n.colorStops){var o=new e.Color(n.colorStops[r]);i.colorStops.push({offset:r,color:o.toRgb(),opacity:o.getAlpha()})}return this.set(t,e.Gradient.forObject(this,i))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},setAngle:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas.centerObjectH(this),this},centerV:function(){return this.canvas.centerObjectV(this),this},center:function(){return this.canvas.centerObject(this),this},remove:function(){return this.canvas.remove(this),this},getLocalPointer:function(t,e){e=e||this.canvas.getPointer(t);var n=this.translateToOriginPoint(this.getCenterPoint(),"left","top");return{x:e.x-n.x,y:e.y-n.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object.__uid=0)}("undefined"!=typeof exports?exports:this),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{translateToCenterPoint:function(e,n,i){var r=e.x,o=e.y;return"left"===n?r=e.x+(this.getWidth()+this.strokeWidth*this.scaleX)/2:"right"===n&&(r=e.x-(this.getWidth()+this.strokeWidth*this.scaleX)/2),"top"===i?o=e.y+(this.getHeight()+this.strokeWidth*this.scaleY)/2:"bottom"===i&&(o=e.y-(this.getHeight()+this.strokeWidth*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(r,o),e,t(this.angle))},translateToOriginPoint:function(e,n,i){var r=e.x,o=e.y;return"left"===n?r=e.x-(this.getWidth()+this.strokeWidth*this.scaleX)/2:"right"===n&&(r=e.x+(this.getWidth()+this.strokeWidth*this.scaleX)/2),"top"===i?o=e.y-(this.getHeight()+this.strokeWidth*this.scaleY)/2:"bottom"===i&&(o=e.y+(this.getHeight()+this.strokeWidth*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(r,o),e,t(this.angle))},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(e,n,i){var r,o,a=this.getCenterPoint();return n&&i?(r="left"===n?a.x-(this.getWidth()+this.strokeWidth*this.scaleX)/2:"right"===n?a.x+(this.getWidth()+this.strokeWidth*this.scaleX)/2:a.x,o="top"===i?a.y-(this.getHeight()+this.strokeWidth*this.scaleY)/2:"bottom"===i?a.y+(this.getHeight()+this.strokeWidth*this.scaleY)/2:a.y):(r=this.left,o=this.top),fabric.util.rotatePoint(new fabric.Point(e.x,e.y),a,-t(this.angle)).subtractEquals(new fabric.Point(r,o))},setPositionByOrigin:function(t,e,n){var i=this.translateToCenterPoint(t,e,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(e){var n=t(this.angle),i=this.getWidth()/2,r=Math.cos(n)*i,o=Math.sin(n)*i,a=this.getWidth(),s=Math.cos(n)*a,c=Math.sin(n)*a;"center"===this.originX&&"left"===e||"right"===this.originX&&"center"===e?(this.left-=r,this.top-=o):"left"===this.originX&&"center"===e||"center"===this.originX&&"right"===e?(this.left+=r,this.top+=o):"left"===this.originX&&"right"===e?(this.left+=s,this.top+=c):"right"===this.originX&&"left"===e&&(this.left-=s,this.top-=c),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var t=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(t,e){var n=this.oCoords,i=new fabric.Point(n.tl.x,n.tl.y),r=new fabric.Point(n.tr.x,n.tr.y),o=new fabric.Point(n.bl.x,n.bl.y),a=new fabric.Point(n.br.x,n.br.y),s=fabric.Intersection.intersectPolygonRectangle([i,r,a,o],t,e);return"Intersection"===s.status},intersectsWithObject:function(t){function e(t){return{tl:new fabric.Point(t.tl.x,t.tl.y),tr:new fabric.Point(t.tr.x,t.tr.y),bl:new fabric.Point(t.bl.x,t.bl.y),br:new fabric.Point(t.br.x,t.br.y)}}var n=e(this.oCoords),i=e(t.oCoords),r=fabric.Intersection.intersectPolygonPolygon([n.tl,n.tr,n.br,n.bl],[i.tl,i.tr,i.br,i.bl]);return"Intersection"===r.status},isContainedWithinObject:function(t){var e=t.getBoundingRect(),n=new fabric.Point(e.left,e.top),i=new fabric.Point(e.left+e.width,e.top+e.height);return this.isContainedWithinRect(n,i)},isContainedWithinRect:function(t,e){var n=this.getBoundingRect();return n.left>=t.x&&n.left+n.width<=e.x&&n.top>=t.y&&n.top+n.height<=e.y},containsPoint:function(t){var e=this._getImageLines(this.oCoords),n=this._findCrossPoints(t,e);return 0!==n&&n%2===1},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,i,r,o,a,s,c,l=0;for(var u in e)if(c=e[u],!(c.o.y<t.y&&c.d.y<t.y||c.o.y>=t.y&&c.d.y>=t.y||(c.o.x===c.d.x&&c.o.x>=t.x?(a=c.o.x,s=t.y):(n=0,i=(c.d.y-c.o.y)/(c.d.x-c.o.x),r=t.y-n*t.x,o=c.o.y-i*c.o.x,a=-(r-o)/(n-i),s=r+n*a),a>=t.x&&(l+=1),2!==l)))break;return l},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(){this.oCoords||this.setCoords();var t=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],e=fabric.util.array.min(t),n=fabric.util.array.max(t),i=Math.abs(e-n),r=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],o=fabric.util.array.min(r),a=fabric.util.array.max(r),s=Math.abs(o-a);return{left:e,top:o,width:i,height:s}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?0>t?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return t=this._constrainScale(t),0>t&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords(),this},scaleToWidth:function(t){var e=this.getBoundingRectWidth()/this.getWidth();return this.scale(t/this.width/e)},scaleToHeight:function(t){var e=this.getBoundingRectHeight()/this.getHeight();return this.scale(t/this.height/e)},setCoords:function(){var e=t(this.angle),n=this.getViewportTransform(),i=function(t){return fabric.util.transformPoint(t,n)},r=this._calculateCurrentDimensions(!1),o=r.x,a=r.y;0>o&&(o=Math.abs(o));var s=Math.sqrt(Math.pow(o/2,2)+Math.pow(a/2,2)),c=Math.atan(isFinite(a/o)?a/o:0),l=Math.cos(c+e)*s,u=Math.sin(c+e)*s,h=Math.sin(e),d=Math.cos(e),f=this.getCenterPoint(),p=new fabric.Point(o,a),m=new fabric.Point(f.x-l,f.y-u),g=new fabric.Point(m.x+p.x*d,m.y+p.x*h),v=i(new fabric.Point(m.x-p.y*h,m.y+p.y*d)),b=i(new fabric.Point(g.x-p.y*h,g.y+p.y*d)),y=i(m),x=i(g),w=new fabric.Point((y.x+v.x)/2,(y.y+v.y)/2),C=new fabric.Point((x.x+y.x)/2,(x.y+y.y)/2),$=new fabric.Point((b.x+x.x)/2,(b.y+x.y)/2),_=new fabric.Point((b.x+v.x)/2,(b.y+v.y)/2),E=new fabric.Point(C.x+h*this.rotatingPointOffset,C.y-d*this.rotatingPointOffset);return this.oCoords={tl:y,tr:x,br:b,bl:v,ml:w,mt:C,mr:$,mb:_,mtr:E},this._setCornerCoords&&this._setCornerCoords(),this}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(){var t=this.fill?this.fill.toLive?"url(#SVGID_"+this.fill.id+")":this.fill:"none",e=this.fillRule,n=this.stroke?this.stroke.toLive?"url(#SVGID_"+this.stroke.id+")":this.stroke:"none",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!=typeof this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":"";return["stroke: ",n,"; ","stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",s,"; ","fill: ",t,"; ","fill-rule: ",e,"; ","opacity: ",c,";",u,l].join("")},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var t=fabric.util.toFixed,e=this.getAngle(),n=!this.canvas||this.canvas.svgViewportTransformation?this.getViewportTransform():[1,0,0,1,0,0],i=fabric.util.transformPoint(this.getCenterPoint(),n),r=fabric.Object.NUM_FRACTION_DIGITS,o="path-group"===this.type?"":"translate("+t(i.x,r)+" "+t(i.y,r)+")",a=0!==e?" rotate("+t(e,r)+")":"",s=1===this.scaleX&&1===this.scaleY&&1===n[0]&&1===n[3]?"":" scale("+t(this.scaleX*n[0],r)+" "+t(this.scaleY*n[3],r)+")",c="path-group"===this.type?this.width*n[0]:0,l=this.flipX?" matrix(-1 0 0 1 "+c+" 0) ":"",u="path-group"===this.type?this.height*n[3]:0,h=this.flipY?" matrix(1 0 0 -1 0 "+u+")":"";return[o,a,s,l,h].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t}}),fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(){return this.stateProperties.some(function(t){return this.get(t)!==this.originalState[t]},this)},saveState:function(t){return this.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),t&&t.stateProperties&&t.stateProperties.forEach(function(t){this.originalState[t]=this.get(t)},this),this},setupState:function(){return this.originalState={},this.saveState(),this}}),function(){var t=fabric.util.degreesToRadians,e=function(){return"undefined"!=typeof G_vmlCanvasManager};fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||!this.active)return!1;var e,n,i=t.x,r=t.y;for(var o in this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),e=this._findCrossPoints({x:i,y:r},n),0!==e&&e%2===1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,n,i=this.oCoords,r=t(45-this.angle),o=Math.sqrt(2*Math.pow(this.cornerSize,2))/2,a=o*Math.cos(r),s=o*Math.sin(r);for(var c in i)e=i[c].x,n=i[c].y,i[c].corner={tl:{x:e-s,y:n-a},tr:{x:e+a,y:n-s},bl:{x:e-a,y:n+s},br:{x:e+s,y:n+a}}},_calculateCurrentDimensions:function(t){var e=this.getViewportTransform(),n=this.strokeWidth,i=this.width,r=this.height,o="round"===this.strokeLineCap||"square"===this.strokeLineCap,a="line"===this.type&&0===this.width,s="line"===this.type&&0===this.height,c=a||s,l=o&&s||!c,u=o&&a||!c;return a?i=n:s&&(r=n),l&&(i+=0>i?-n:n),u&&(r+=0>r?-n:n),i=i*this.scaleX+2*this.padding,r=r*this.scaleY+2*this.padding,t?fabric.util.transformPoint(new fabric.Point(i,r),e,!0):{x:i,y:r}},drawBorders:function(t){if(!this.hasBorders)return this;t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.strokeStyle=this.borderColor,t.lineWidth=1/this.borderScaleFactor;var e=this._calculateCurrentDimensions(!0),n=e.x,i=e.y;if(this.group&&(n*=this.group.scaleX,i*=this.group.scaleY),t.strokeRect(~~-(n/2)-.5,~~-(i/2)-.5,~~n+1,~~i+1),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var r=-i/2;t.beginPath(),t.moveTo(0,r),t.lineTo(0,r-this.rotatingPointOffset),t.closePath(),t.stroke()}return t.restore(),this},drawControls:function(t){if(!this.hasControls)return this;var e=this._calculateCurrentDimensions(!0),n=e.x,i=e.y,r=-(n/2),o=-(i/2),a=this.cornerSize/2,s=this.transparentCorners?"strokeRect":"fillRect";
return t.save(),t.lineWidth=1,t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,t.strokeStyle=t.fillStyle=this.cornerColor,this._drawControl("tl",t,s,r-a,o-a),this._drawControl("tr",t,s,r+n-a,o-a),this._drawControl("bl",t,s,r-a,o+i-a),this._drawControl("br",t,s,r+n-a,o+i-a),this.get("lockUniScaling")||(this._drawControl("mt",t,s,r+n/2-a,o-a),this._drawControl("mb",t,s,r+n/2-a,o+i-a),this._drawControl("mr",t,s,r+n-a,o+i/2-a),this._drawControl("ml",t,s,r-a,o+i/2-a)),this.hasRotatingPoint&&this._drawControl("mtr",t,s,r+n/2-a,o-this.rotatingPointOffset-a),t.restore(),this},_drawControl:function(t,n,i,r,o){if(this.isControlVisible(t)){var a=this.cornerSize;e()||this.transparentCorners||n.clearRect(r,o,a,a),n[i](r,o,a,a)}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){t||(t={});for(var e in t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){e=e||{};var n=function(){},i=e.onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxCenterObjectV:function(t,e){e=e||{};var n=function(){},i=e.onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.renderAll(),r()},onComplete:function(){t.setCoords(),i()}}),this},fxRemove:function(t,e){e=e||{};var n=function(){},i=e.onComplete||n,r=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.set("active",!1)},onChange:function(e){t.set("opacity",e),o.renderAll(),r()},onComplete:function(){o.remove(t),i()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,n=[];for(t in arguments[0])n.push(t);for(var i=0,r=n.length;r>i;i++)t=n[i],e=i!==r-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,i){var r,o=this;e=e.toString(),n=n?fabric.util.object.clone(n):{},~t.indexOf(".")&&(r=t.split("."));var a=r?this.get(r[0])[r[1]]:this.get(t);"from"in n||(n.from=a),e=~e.indexOf("=")?a+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(e){r?o[r[0]][r[1]]=e:o.set(t,e),i||n.onChange&&n.onChange()},onComplete:function(){i||(o.setCoords(),n.onComplete&&n.onComplete())}})}}),function(t){"use strict";function e(t,e){var n=t.origin,i=t.axis1,r=t.axis2,o=t.dimension,a=e.nearest,s=e.center,c=e.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(i),this.get(r));case s:return Math.min(this.get(i),this.get(r))+.5*this.get(o);case c:return Math.max(this.get(i),this.get(r))}}}var n=t.fabric||(t.fabric={}),i=n.util.object.extend,r={x1:1,x2:1,y1:1,y2:1},o=n.StaticCanvas.supports("setLineDash");return n.Line?void n.warn("fabric.Line is already defined"):(n.Line=n.util.createClass(n.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,initialize:function(t,e){e=e||{},t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!=typeof r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t,e){if(t.beginPath(),e){var n=this.getCenterPoint();t.translate(n.x-this.strokeWidth/2,n.y-this.strokeWidth/2)}if(!this.strokeDashArray||this.strokeDashArray&&o){var i=this.calcLinePoints();t.moveTo(i.x1,i.y1),t.lineTo(i.x2,i.y2)}t.lineWidth=this.strokeWidth;var r=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=r},_renderDashedStroke:function(t){var e=this.calcLinePoints();t.beginPath(),n.util.drawDashedLine(t,e.x1,e.y1,e.x2,e.y2,this.strokeDashArray),t.closePath()},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,n=t*this.width*.5,i=e*this.height*.5,r=t*this.width*-.5,o=e*this.height*-.5;return{x1:n,x2:r,y1:i,y2:o}},toSVG:function(t){var e=this._createBaseSVGMarkup(),n={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&"path-group"===this.group.type||(n=this.calcLinePoints()),e.push("<line ",'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),n.Line.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),n.Line.fromElement=function(t,e){var r=n.parseAttributes(t,n.Line.ATTRIBUTE_NAMES),o=[r.x1||0,r.y1||0,r.x2||0,r.y2||0];return new n.Line(o,i(r,e))},void(n.Line.fromObject=function(t){var e=[t.x1,t.y1,t.x2,t.y2];return new n.Line(e,t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";function e(t){return"radius"in t&&t.radius>=0}var n=t.fabric||(t.fabric={}),i=Math.PI,r=n.util.object.extend;return n.Circle?void n.warn("fabric.Circle is already defined."):(n.Circle=n.util.createClass(n.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*i,initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("radius",t.radius||0),this.startAngle=t.startAngle||this.startAngle,this.endAngle=t.endAngle||this.endAngle},_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return r(this.callSuper("toObject",t),{radius:this.get("radius"),startAngle:this.startAngle,endAngle:this.endAngle})},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,r=0,o=(this.endAngle-this.startAngle)%(2*i);if(0===o)this.group&&"path-group"===this.group.type&&(n=this.left+this.radius,r=this.top+this.radius),e.push("<circle ",'cx="'+n+'" cy="'+r+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');else{var a=Math.cos(this.startAngle)*this.radius,s=Math.sin(this.startAngle)*this.radius,c=Math.cos(this.endAngle)*this.radius,l=Math.sin(this.endAngle)*this.radius,u=o>i?"1":"0";e.push('<path d="M '+a+" "+s," A "+this.radius+" "+this.radius," 0 ",+u+" 1"," "+c+" "+l,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.arc(e?this.left+this.radius:0,e?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(t),this._renderStroke(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){this.radius=t,this.set("width",2*t).set("height",2*t)},complexity:function(){return 1}}),n.Circle.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),n.Circle.fromElement=function(t,i){i||(i={});var o=n.parseAttributes(t,n.Circle.ATTRIBUTE_NAMES);if(!e(o))throw new Error("value of `r` attribute is required and can not be negative");o.left=o.left||0,o.top=o.top||0;var a=new n.Circle(r(o,i));return a.left-=a.radius,a.top-=a.radius,a},void(n.Circle.fromObject=function(t){return new n.Circle(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Triangle?void e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("width",t.width||100).set("height",t.height||100)},_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var n=this.width/2,i=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-n,i,0,-i,this.strokeDashArray),e.util.drawDashedLine(t,0,-i,n,i,this.strokeDashArray),e.util.drawDashedLine(t,n,i,-n,i,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.width/2,i=this.height/2,r=[-n+" "+i,"0 "+-i,n+" "+i].join(",");return e.push("<polygon ",'points="',r,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),void(e.Triangle.fromObject=function(t){return new e.Triangle(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=2*Math.PI,i=e.util.object.extend;return e.Ellipse?void e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,initialize:function(t){t=t||{},this.callSuper("initialize",t),this.set("rx",t.rx||0),this.set("ry",t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return i(this.callSuper("toObject",t),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,i=0;return this.group&&"path-group"===this.group.type&&(n=this.left+this.rx,i=this.top+this.ry),e.push("<ellipse ",'cx="',n,'" cy="',i,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left+this.rx:0,e?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,n,!1),t.restore(),this._renderFill(t),this._renderStroke(t)},complexity:function(){return 1}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){n||(n={});var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var o=new e.Ellipse(i(r,n));return o.top-=o.ry,o.left-=o.rx,o},void(e.Ellipse.fromObject=function(t){return new e.Ellipse(t)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;if(e.Rect)return void console.warn("fabric.Rect is already defined");var i=e.Object.prototype.stateProperties.concat();i.push("rx","ry","x","y"),e.Rect=e.util.createClass(e.Object,{stateProperties:i,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(t){t=t||{},this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t,e){if(1===this.width&&1===this.height)return void t.fillRect(0,0,1,1);var n=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,o=this.height,a=e?this.left:-this.width/2,s=e?this.top:-this.height/2,c=0!==n||0!==i,l=.4477152502;t.beginPath(),t.moveTo(a+n,s),t.lineTo(a+r-n,s),c&&t.bezierCurveTo(a+r-l*n,s,a+r,s+l*i,a+r,s+i),t.lineTo(a+r,s+o-i),c&&t.bezierCurveTo(a+r,s+o-l*i,a+r-l*n,s+o,a+r-n,s+o),t.lineTo(a+n,s+o),c&&t.bezierCurveTo(a+l*n,s+o,a,s+o-l*i,a,s+o-i),t.lineTo(a,s+i),c&&t.bezierCurveTo(a,s+l*i,a+l*n,s,a+n,s),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var n=-this.width/2,i=-this.height/2,r=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,n,i,n+r,i,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i,n+r,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n+r,i+o,n,i+o,this.strokeDashArray),e.util.drawDashedLine(t,n,i+o,n,i,this.strokeDashArray),t.closePath()},toObject:function(t){var e=n(this.callSuper("toObject",t),{rx:this.get("rx")||0,ry:this.get("ry")||0});return this.includeDefaultValues||this._removeDefaultValues(e),e},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.left,i=this.top;return this.group&&"path-group"===this.group.type||(n=-this.width/2,i=-this.height/2),e.push("<rect ",'x="',n,'" y="',i,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,i){if(!t)return null;i=i||{};var r=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0;var o=new e.Rect(n(i?e.util.object.clone(i):{},r));return o.visible=o.width>0&&o.height>0,o},e.Rect.fromObject=function(t){return new e.Rect(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});return e.Polyline?void e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,initialize:function(t,n){return e.Polygon.prototype.initialize.call(this,t,n)},_calcDimensions:function(){return e.Polygon.prototype._calcDimensions.call(this)},_applyPointOffset:function(){return e.Polygon.prototype._applyPointOffset.call(this)},toObject:function(t){return e.Polygon.prototype.toObject.call(this,t)},toSVG:function(t){return e.Polygon.prototype.toSVG.call(this,t)},_render:function(t){e.Polygon.prototype.commonRender.call(this,t)&&(this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){var n,i;t.beginPath();for(var r=0,o=this.points.length;o>r;r++)n=this.points[r],i=this.points[r+1]||n,e.util.drawDashedLine(t,n.x,n.y,i.x,i.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,n){if(!t)return null;n||(n={});var i=e.parsePointsAttribute(t.getAttribute("points")),r=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);return new e.Polyline(i,e.util.object.extend(r,n))},void(e.Polyline.fromObject=function(t){var n=t.points;return new e.Polyline(n,t,!0)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max,o=e.util.toFixed;return e.Polygon?void e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Object,{type:"polygon",points:null,minX:0,minY:0,initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._calcDimensions(),"top"in e||(this.top=this.minY),"left"in e||(this.left=this.minX)},_calcDimensions:function(){var t=this.points,e=i(t,"x"),n=i(t,"y"),o=r(t,"x"),a=r(t,"y");this.width=o-e||0,this.height=a-n||0,this.minX=e||0,this.minY=n||0},_applyPointOffset:function(){this.points.forEach(function(t){t.x-=this.minX+this.width/2,t.y-=this.minY+this.height/2},this)},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){for(var e=[],n=this._createBaseSVGMarkup(),i=0,r=this.points.length;r>i;i++)e.push(o(this.points[i].x,2),",",o(this.points[i].y,2)," ");return n.push("<",this.type," ",'points="',e.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),t?t(n.join("")):n.join("")},_render:function(t){this.commonRender(t)&&(this._renderFill(t),(this.stroke||this.strokeDashArray)&&(t.closePath(),this._renderStroke(t)))},commonRender:function(t){var e,n=this.points.length;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),this._applyPointOffset&&(this.group&&"path-group"===this.group.type||this._applyPointOffset(),this._applyPointOffset=null),t.moveTo(this.points[0].x,this.points[0].y);for(var i=0;n>i;i++)e=this.points[i],t.lineTo(e.x,e.y);return!0},_renderDashedStroke:function(t){e.Polyline.prototype._renderDashedStroke.call(this,t),t.closePath()},complexity:function(){return this.points.length}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,i){if(!t)return null;i||(i={});var r=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(r,n(o,i))},void(e.Polygon.fromObject=function(t){return new e.Polygon(t.points,t,!0)}))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,i=e.util.array.max,r=e.util.object.extend,o=Object.prototype.toString,a=e.util.drawArc,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};return e.Path?void e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,initialize:function(t,e){if(e=e||{},this.setOptions(e),!t)throw new Error("`path` argument is required");var n="[object Array]"===o.call(t);this.path=n?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(n||(this.path=this._parsePath()),this._setPositionDimensions(e),e.sourcePath&&this.setSourcePath(e.sourcePath))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.minX=e.left,this.minY=e.top,this.width=e.width,this.height=e.height,"undefined"==typeof t.left&&(this.left=e.left+("center"===this.originX?this.width/2:"right"===this.originX?this.width:0)),"undefined"==typeof t.top&&(this.top=e.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0)),this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_render:function(t){var e,n,i,r=null,o=0,s=0,c=0,l=0,u=0,h=0,d=-this.pathOffset.x,f=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(d=0,f=0),t.beginPath();for(var p=0,m=this.path.length;m>p;++p){switch(e=this.path[p],e[0]){case"l":c+=e[1],l+=e[2],t.lineTo(c+d,l+f);break;case"L":c=e[1],l=e[2],t.lineTo(c+d,l+f);break;case"h":c+=e[1],t.lineTo(c+d,l+f);break;case"H":c=e[1],t.lineTo(c+d,l+f);break;case"v":l+=e[1],t.lineTo(c+d,l+f);break;case"V":l=e[1],t.lineTo(c+d,l+f);break;case"m":c+=e[1],l+=e[2],o=c,s=l,t.moveTo(c+d,l+f);break;case"M":c=e[1],l=e[2],o=c,s=l,t.moveTo(c+d,l+f);break;case"c":n=c+e[5],i=l+e[6],u=c+e[3],h=l+e[4],t.bezierCurveTo(c+e[1]+d,l+e[2]+f,u+d,h+f,n+d,i+f),c=n,l=i;break;case"C":c=e[5],l=e[6],u=e[3],h=e[4],t.bezierCurveTo(e[1]+d,e[2]+f,u+d,h+f,c+d,l+f);break;case"s":n=c+e[3],i=l+e[4],null===r[0].match(/[CcSs]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.bezierCurveTo(u+d,h+f,c+e[1]+d,l+e[2]+f,n+d,i+f),u=c+e[1],h=l+e[2],c=n,l=i;break;case"S":n=e[3],i=e[4],null===r[0].match(/[CcSs]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.bezierCurveTo(u+d,h+f,e[1]+d,e[2]+f,n+d,i+f),c=n,l=i,u=e[1],h=e[2];break;case"q":n=c+e[3],i=l+e[4],u=c+e[1],h=l+e[2],t.quadraticCurveTo(u+d,h+f,n+d,i+f),c=n,l=i;break;case"Q":n=e[3],i=e[4],t.quadraticCurveTo(e[1]+d,e[2]+f,n+d,i+f),c=n,l=i,u=e[1],h=e[2];break;case"t":n=c+e[1],i=l+e[2],null===r[0].match(/[QqTt]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.quadraticCurveTo(u+d,h+f,n+d,i+f),c=n,l=i;break;case"T":n=e[1],i=e[2],null===r[0].match(/[QqTt]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.quadraticCurveTo(u+d,h+f,n+d,i+f),c=n,l=i;break;case"a":a(t,c+d,l+f,[e[1],e[2],e[3],e[4],e[5],e[6]+c+d,e[7]+l+f]),c+=e[6],l+=e[7];break;case"A":a(t,c+d,l+f,[e[1],e[2],e[3],e[4],e[5],e[6]+d,e[7]+f]),c=e[6],l=e[7];break;case"z":case"Z":c=o,l=s,t.closePath()}r=e}this._renderFill(t),this._renderStroke(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){var e=r(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()}),pathOffset:this.pathOffset});return this.sourcePath&&(e.sourcePath=this.sourcePath),this.transformMatrix&&(e.transformMatrix=this.transformMatrix),e},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(t){for(var e=[],n=this._createBaseSVGMarkup(),i="",r=0,o=this.path.length;o>r;r++)e.push(this.path[r].join(" "));var a=e.join(" ");return this.group&&"path-group"===this.group.type||(i=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),n.push("<path ",'d="',a,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),i,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),t?t(n.join("")):n.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,n,i,r,o=[],a=[],l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u=0,h=this.path.length;h>u;u++){for(t=this.path[u],i=t.slice(1).trim(),a.length=0;n=l.exec(i);)a.push(n[0]);r=[t.charAt(0)];for(var d=0,f=a.length;f>d;d++)e=parseFloat(a[d]),isNaN(e)||r.push(e);var p=r[0],m=s[p.toLowerCase()],g=c[p]||p;if(r.length-1>m)for(var v=1,b=r.length;b>v;v+=m)o.push([p].concat(r.slice(v,v+m))),p=g;else o.push(r)}return o},_parseDimensions:function(){for(var t,r,o,a,s=[],c=[],l=null,u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=this.path.length;v>g;++g){switch(t=this.path[g],t[0]){case"l":d+=t[1],f+=t[2],a=[];break;case"L":d=t[1],f=t[2],a=[];break;case"h":d+=t[1],a=[];break;case"H":d=t[1],a=[];break;case"v":f+=t[1],a=[];break;case"V":f=t[1],a=[];break;case"m":d+=t[1],f+=t[2],u=d,h=f,a=[];break;case"M":d=t[1],f=t[2],u=d,h=f,a=[];break;case"c":r=d+t[5],o=f+t[6],p=d+t[3],m=f+t[4],a=e.util.getBoundsOfCurve(d,f,d+t[1],f+t[2],p,m,r,o),d=r,f=o;break;case"C":d=t[5],f=t[6],p=t[3],m=t[4],a=e.util.getBoundsOfCurve(d,f,t[1],t[2],p,m,d,f);break;case"s":r=d+t[3],o=f+t[4],null===l[0].match(/[CcSs]/)?(p=d,m=f):(p=2*d-p,m=2*f-m),a=e.util.getBoundsOfCurve(d,f,p,m,d+t[1],f+t[2],r,o),p=d+t[1],m=f+t[2],d=r,f=o;break;case"S":r=t[3],o=t[4],null===l[0].match(/[CcSs]/)?(p=d,m=f):(p=2*d-p,m=2*f-m),a=e.util.getBoundsOfCurve(d,f,p,m,t[1],t[2],r,o),d=r,f=o,p=t[1],m=t[2];break;case"q":r=d+t[3],o=f+t[4],p=d+t[1],m=f+t[2],a=e.util.getBoundsOfCurve(d,f,p,m,p,m,r,o),d=r,f=o;break;case"Q":p=t[1],m=t[2],a=e.util.getBoundsOfCurve(d,f,p,m,p,m,t[3],t[4]),d=t[3],f=t[4];break;case"t":r=d+t[1],o=f+t[2],null===l[0].match(/[QqTt]/)?(p=d,m=f):(p=2*d-p,m=2*f-m),a=e.util.getBoundsOfCurve(d,f,p,m,p,m,r,o),d=r,f=o;break;case"T":r=t[1],o=t[2],null===l[0].match(/[QqTt]/)?(p=d,m=f):(p=2*d-p,m=2*f-m),a=e.util.getBoundsOfCurve(d,f,p,m,p,m,r,o),d=r,f=o;break;case"a":a=e.util.getBoundsOfArc(d,f,t[1],t[2],t[3],t[4],t[5],t[6]+d,t[7]+f),d+=t[6],f+=t[7];break;case"A":a=e.util.getBoundsOfArc(d,f,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),d=t[6],f=t[7];break;case"z":case"Z":d=u,f=h}l=t,a.forEach(function(t){s.push(t.x),c.push(t.y)}),s.push(d),c.push(f)}var b=n(s),y=n(c),x=i(s),w=i(c),C=x-b,$=w-y,_={left:b,top:y,width:C,height:$};return _}}),e.Path.fromObject=function(t,n){"string"==typeof t.path?e.loadSVGFromURL(t.path,function(i){var r=i[0],o=t.path;delete t.path,e.util.object.extend(r,t),r.setSourcePath(o),n(r)}):n(new e.Path(t.path,t))},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,i){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);n&&n(new e.Path(o.d,r(o,i)))},void(e.Path.async=!0))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.invoke,r=e.Object.prototype.toObject;return e.PathGroup?void e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Path,{type:"path-group",fill:"",initialize:function(t,e){e=e||{},this.paths=t||[];for(var n=this.paths.length;n--;)this.paths[n].group=this;e.toBeParsed&&(this.parseDimensionsFromPaths(e),delete e.toBeParsed),this.setOptions(e),this.setCoords(),e.sourcePath&&this.setSourcePath(e.sourcePath)},parseDimensionsFromPaths:function(t){for(var n,i,r,o,a,s=[],c=[],l=this.transformMatrix,u=this.paths.length;u--;){r=this.paths[u],o=r.height+r.strokeWidth,a=r.width+r.strokeWidth,n=[{x:r.left,y:r.top},{x:r.left+a,y:r.top},{x:r.left,y:r.top+o},{x:r.left+a,y:r.top+o}];for(var h=0;h<n.length;h++)i=n[h],l&&(i=e.util.transformPoint(i,l,!1)),s.push(i.x),c.push(i.y)}t.width=Math.max.apply(null,s),t.height=Math.max.apply(null,c)},render:function(t){if(this.visible){t.save(),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.transform(t),this._setShadow(t),this.clipTo&&e.util.clipContext(this,t),t.translate(-this.width/2,-this.height/2);for(var n=0,i=this.paths.length;i>n;++n)this.paths[n].render(t,!0);this.clipTo&&t.restore(),t.restore()}},_set:function(t,e){if("fill"===t&&e&&this.isSameColor())for(var n=this.paths.length;n--;)this.paths[n]._set(t,e);return this.callSuper("_set",t,e)},toObject:function(t){var e=n(r.call(this,t),{paths:i(this.getObjects(),"toObject",t)});return this.sourcePath&&(e.sourcePath=this.sourcePath),e},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(t){for(var e=this.getObjects(),n=this.getPointByOrigin("left","top"),i="translate("+n.x+" "+n.y+")",r=["<g ",'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),i,this.getSvgTransform(),'" ',">\n"],o=0,a=e.length;a>o;o++)r.push(e[o].toSVG(t));return r.push("</g>\n"),t?t(r.join("")):r.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=(this.getObjects()[0].get("fill")||"").toLowerCase();return this.getObjects().every(function(e){return(e.get("fill")||"").toLowerCase()===t})},complexity:function(){return this.paths.reduce(function(t,e){return t+(e&&e.complexity?e.complexity():0)},0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(t,n){"string"==typeof t.paths?e.loadSVGFromURL(t.paths,function(i){var r=t.paths;delete t.paths;var o=e.util.groupSVGElements(i,t,r);n(o)}):e.util.enlivenObjects(t.paths,function(i){delete t.paths,n(new e.PathGroup(i,t))})},void(e.PathGroup.async=!0))}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max,o=e.util.array.invoke;if(!e.Group){var a={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,initialize:function(t,e){e=e||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;this.originalState={},e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",e),this.setCoords(),this.saveCoords()},_updateObjectsCoords:function(){this.forEachObject(this._updateObjectCoords,this)},_updateObjectCoords:function(t){var e=t.getLeft(),n=t.getTop(),i=this.getCenterPoint();t.set({originalLeft:e,originalTop:n,left:e-i.x,top:n-i.y}),t.setCoords(),t.__origHasControls=t.hasControls,t.hasControls=!1},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this},_setObjectActive:function(t){t.set("active",!0),t.group=this},removeWithUpdate:function(t){return this._moveFlippedObject(t),this._restoreObjectsState(),this.forEachObject(this._setObjectActive,this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this},_onObjectAdded:function(t){t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){delete t.group,t.set("active",!1)},delegatedProperties:{fill:!0,opacity:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(t,e){if(t in this.delegatedProperties||"canvas"===t)for(var n=this._objects.length;n--;)this._objects[n].set(t,e);this.callSuper("_set",t,e)},toObject:function(t){return n(this.callSuper("toObject",t),{objects:o(this._objects,"toObject",t)})},render:function(t){if(this.visible){t.save(),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.transform(t),this.clipTo&&e.util.clipContext(this,t);for(var n=0,i=this._objects.length;i>n;n++)this._renderObject(this._objects[n],t);this.clipTo&&t.restore(),t.restore()}},_renderControls:function(t,e){this.callSuper("_renderControls",t,e);for(var n=0,i=this._objects.length;i>n;n++)this._objects[n]._renderControls(t)},_renderObject:function(t,e){if(t.visible){var n=t.hasRotatingPoint;t.hasRotatingPoint=!1,t.render(e),t.hasRotatingPoint=n}},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){return this._moveFlippedObject(t),this._setObjectPosition(t),t},_moveFlippedObject:function(t){var e=t.get("originX"),n=t.get("originY"),i=t.getCenterPoint();t.set({originX:"center",originY:"center",left:i.x,top:i.y}),this._toggleFlipping(t);var r=t.getPointByOrigin(e,n);return t.set({originX:e,originY:n,left:r.x,top:r.y}),this},_toggleFlipping:function(t){this.flipX&&(t.toggle("flipX"),t.set("left",-t.get("left")),t.setAngle(-t.getAngle())),this.flipY&&(t.toggle("flipY"),t.set("top",-t.get("top")),t.setAngle(-t.getAngle()))},_restoreObjectState:function(t){return this._setObjectPosition(t),t.setCoords(),t.hasControls=t.__origHasControls,delete t.__origHasControls,t.set("active",!1),t.setCoords(),delete t.group,this},_setObjectPosition:function(t){var e=this.getCenterPoint(),n=this._getRotatedLeftTop(t);t.set({angle:t.getAngle()+this.getAngle(),left:e.x+n.left,top:e.y+n.top,scaleX:t.get("scaleX")*this.get("scaleX"),scaleY:t.get("scaleY")*this.get("scaleY")})},_getRotatedLeftTop:function(t){var e=this.getAngle()*(Math.PI/180);return{left:-Math.sin(e)*t.getTop()*this.get("scaleY")+Math.cos(e)*t.getLeft()*this.get("scaleX"),top:Math.cos(e)*t.getTop()*this.get("scaleY")+Math.sin(e)*t.getLeft()*this.get("scaleX")}},destroy:function(){return this._objects.forEach(this._moveFlippedObject,this),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords()}),this},_calcBounds:function(t){for(var e,n,i=[],r=[],o=["tr","br","bl","tl"],a=0,s=this._objects.length;s>a;++a){e=this._objects[a],e.setCoords();for(var c=0;c<o.length;c++)n=o[c],i.push(e.oCoords[n].x),r.push(e.oCoords[n].y)}this.set(this._getBounds(i,r,t))},_getBounds:function(t,n,o){var a=e.util.invertTransform(this.getViewportTransform()),s=e.util.transformPoint(new e.Point(i(t),i(n)),a),c=e.util.transformPoint(new e.Point(r(t),r(n)),a),l={width:c.x-s.x||0,height:c.y-s.y||0};return o||(l.left=s.x||0,l.top=s.y||0,"center"===this.originX&&(l.left+=l.width/2),"right"===this.originX&&(l.left+=l.width),"center"===this.originY&&(l.top+=l.height/2),"bottom"===this.originY&&(l.top+=l.height)),l},toSVG:function(t){for(var e=["<g ",'transform="',this.getSvgTransform(),'">\n'],n=0,i=this._objects.length;i>n;n++)e.push(this._objects[n].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")
},get:function(t){if(t in a){if(this[t])return this[t];for(var e=0,n=this._objects.length;n>e;e++)if(this._objects[e][t])return!0;return!1}return t in this.delegatedProperties?this._objects[0]&&this._objects[0].get(t):this[t]}}),e.Group.fromObject=function(t,n){e.util.enlivenObjects(t.objects,function(i){delete t.objects,n&&n(new e.Group(i,t))})},e.Group.async=!0}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=fabric.util.object.extend;return t.fabric||(t.fabric={}),t.fabric.Image?void fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",_lastScaleX:1,_lastScaleY:1,initialize:function(t,e){e||(e={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element},setElement:function(t,e,n){return this._element=t,this._originalElement=t,this._initConfig(n),0!==this.filters.length?this.applyFilters(e):e&&e(),this},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){t.save(),this._setStrokeStyles(t),t.beginPath(),t.strokeRect(-this.width/2,-this.height/2,this.width,this.height),t.closePath(),t.restore()},_renderDashedStroke:function(t){var e=-this.width/2,n=-this.height/2,i=this.width,r=this.height;t.save(),this._setStrokeStyles(t),t.beginPath(),fabric.util.drawDashedLine(t,e,n,e+i,n,this.strokeDashArray),fabric.util.drawDashedLine(t,e+i,n,e+i,n+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e+i,n+r,e,n+r,this.strokeDashArray),fabric.util.drawDashedLine(t,e,n+r,e,n,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var n=e(this.callSuper("toObject",t),{src:this._originalElement.src||this._originalElement._src,filters:this.filters.map(function(t){return t&&t.toObject()}),crossOrigin:this.crossOrigin,alignX:this.alignX,alignY:this.alignY,meetOrSlice:this.meetOrSlice});return this.resizeFilters.length>0&&(n.resizeFilters=this.resizeFilters.map(function(t){return t&&t.toObject()})),n},toSVG:function(t){var e=[],n=-this.width/2,i=-this.height/2,r="none";if(this.group&&"path-group"===this.group.type&&(n=this.left,i=this.top),"none"!==this.alignX&&"none"!==this.alignY&&(r="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n','<image xlink:href="',this.getSvgSrc(),'" x="',n,'" y="',i,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',r,'"',"></image>\n"),this.stroke||this.strokeDashArray){var o=this.fill;this.fill=null,e.push("<rect ",'x="',n,'" y="',i,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=o}return e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(){return this.getElement()?this.getElement().src||this.getElement()._src:void 0},setSrc:function(t,e,n){fabric.util.loadImage(t,function(t){return this.setElement(t,e,n)},this,n&&n.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},clone:function(t,e){this.constructor.fromObject(this.toObject(e),t)},applyFilters:function(t,e,n,i){if(e=e||this.filters,n=n||this._originalElement){var r=n,o=fabric.util.createCanvasElement(),a=fabric.util.createImage(),s=this;return o.width=r.width,o.height=r.height,o.getContext("2d").drawImage(r,0,0,r.width,r.height),0===e.length?(this._element=n,t&&t(),o):(e.forEach(function(t){t&&t.applyTo(o,t.scaleX||s.scaleX,t.scaleY||s.scaleY),!i&&t&&"Resize"===t.type&&(s.width*=t.scaleX,s.height*=t.scaleY)}),a.width=o.width,a.height=o.height,fabric.isLikelyNode?(a.src=o.toBuffer(void 0,fabric.Image.pngCompression),s._element=a,!i&&(s._filteredEl=a),t&&t()):(a.onload=function(){s._element=a,!i&&(s._filteredEl=a),t&&t(),a.onload=o=r=null},a.src=o.toDataURL("image/png")),o)}},_render:function(t,e){var n,i,r,o=this._findMargins();n=e?this.left:-this.width/2,i=e?this.top:-this.height/2,"slice"===this.meetOrSlice&&(t.beginPath(),t.rect(n,i,this.width,this.height),t.clip()),this.isMoving===!1&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,r=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):r=this._element,r&&t.drawImage(r,n+o.marginX,i+o.marginY,o.width,o.height),this._renderStroke(t)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var t,e,n=this.width,i=this.height,r=0,o=0;return("none"!==this.alignX||"none"!==this.alignY)&&(t=[this.width/this._element.width,this.height/this._element.height],e="meet"===this.meetOrSlice?Math.min.apply(null,t):Math.max.apply(null,t),n=this._element.width*e,i=this._element.height*e,"Mid"===this.alignX&&(r=(this.width-n)/2),"Max"===this.alignX&&(r=this.width-n),"Mid"===this.alignY&&(o=(this.height-i)/2),"Max"===this.alignY&&(o=this.height-i)),{width:n,height:i,marginX:r,marginY:o}},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t){this.setElement(fabric.util.getById(t)),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?fabric.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()?this.getElement().width||0:0,this.height="height"in t?t.height:this.getElement()?this.getElement().height||0:0},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(n){fabric.Image.prototype._initFilters.call(t,t.filters,function(i){t.filters=i||[],fabric.Image.prototype._initFilters.call(t,t.resizeFilters,function(i){t.resizeFilters=i||[];var r=new fabric.Image(n,t);e&&e(r)})})},null,t.crossOrigin)},fabric.Image.fromURL=function(t,e,n){fabric.util.loadImage(t,function(t){e&&e(new fabric.Image(t,n))},null,n&&n.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href".split(" ")),fabric.Image.fromElement=function(t,n,i){var r,o,a,s=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES),c="xMidYMid",l="meet";s.preserveAspectRatio&&(a=s.preserveAspectRatio.split(" ")),a&&a.length&&(l=a.pop(),"meet"!==l&&"slice"!==l?(c=l,l="meet"):a.length&&(c=a.pop())),r="none"!==c?c.slice(1,4):"none",o="none"!==c?c.slice(5,8):"none",s.alignX=r,s.alignY=o,s.meetOrSlice=l,fabric.Image.fromURL(s["xlink:href"],n,e(i?fabric.util.object.clone(i):{},s))},fabric.Image.async=!0,void(fabric.Image.pngCompression=1))}("undefined"!=typeof exports?exports:this),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.getAngle()%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(t){t=t||{};var e=function(){},n=t.onComplete||e,i=t.onChange||e,r=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.setAngle(t),i()},onComplete:function(){r.setCoords(),n()},onStart:function(){r.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Brightness=e.util.createClass(e.Image.filters.BaseFilter,{type:"Brightness",initialize:function(t){t=t||{},this.brightness=t.brightness||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=n.data,r=this.brightness,o=0,a=i.length;a>o;o+=4)i[o]+=r,i[o+1]+=r,i[o+2]+=r;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=function(t){return new e.Image.filters.Brightness(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Convolute=e.util.createClass(e.Image.filters.BaseFilter,{type:"Convolute",initialize:function(t){t=t||{},this.opaque=t.opaque,this.matrix=t.matrix||[0,0,0,0,1,0,0,0,0];var n=e.util.createCanvasElement();this.tmpCtx=n.getContext("2d")},_createImageData:function(t,e){return this.tmpCtx.createImageData(t,e)},applyTo:function(t){for(var e=this.matrix,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=Math.round(Math.sqrt(e.length)),o=Math.floor(r/2),a=i.data,s=i.width,c=i.height,l=s,u=c,h=this._createImageData(l,u),d=h.data,f=this.opaque?1:0,p=0;u>p;p++)for(var m=0;l>m;m++){for(var g=p,v=m,b=4*(p*l+m),y=0,x=0,w=0,C=0,$=0;r>$;$++)for(var _=0;r>_;_++){var E=g+$-o,S=v+_-o;if(!(0>E||E>c||0>S||S>s)){var T=4*(E*s+S),A=e[$*r+_];y+=a[T]*A,x+=a[T+1]*A,w+=a[T+2]*A,C+=a[T+3]*A}}d[b]=y,d[b+1]=x,d[b+2]=w,d[b+3]=C+f*(255-C)}n.putImageData(h,0,0)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=function(t){return new e.Image.filters.Convolute(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.GradientTransparency=e.util.createClass(e.Image.filters.BaseFilter,{type:"GradientTransparency",initialize:function(t){t=t||{},this.threshold=t.threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),i=n.data,r=this.threshold,o=i.length,a=0,s=i.length;s>a;a+=4)i[a+3]=r+255*(o-a)/o;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=function(t){return new e.Image.filters.GradientTransparency(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Grayscale=e.util.createClass(e.Image.filters.BaseFilter,{type:"Grayscale",applyTo:function(t){for(var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=i.width*i.height*4,a=0;o>a;)e=(r[a]+r[a+1]+r[a+2])/3,r[a]=e,r[a+1]=e,r[a+2]=e,a+=4;n.putImageData(i,0,0)}}),e.Image.filters.Grayscale.fromObject=function(){return new e.Image.filters.Grayscale}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Invert=e.util.createClass(e.Image.filters.BaseFilter,{type:"Invert",applyTo:function(t){var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=r.length;for(e=0;o>e;e+=4)r[e]=255-r[e],r[e+1]=255-r[e+1],r[e+2]=255-r[e+2];n.putImageData(i,0,0)}}),e.Image.filters.Invert.fromObject=function(){return new e.Image.filters.Invert}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Mask=e.util.createClass(e.Image.filters.BaseFilter,{type:"Mask",initialize:function(t){t=t||{},this.mask=t.mask,this.channel=[0,1,2,3].indexOf(t.channel)>-1?t.channel:0},applyTo:function(t){if(this.mask){var n,i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,a=this.mask.getElement(),s=e.util.createCanvasElement(),c=this.channel,l=r.width*r.height*4;s.width=a.width,s.height=a.height,s.getContext("2d").drawImage(a,0,0,a.width,a.height);var u=s.getContext("2d").getImageData(0,0,a.width,a.height),h=u.data;for(n=0;l>n;n+=4)o[n+3]=h[n+c];i.putImageData(r,0,0)}},toObject:function(){return n(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(t,n){e.util.loadImage(t.mask.src,function(i){t.mask=new e.Image(i,t.mask),n&&n(new e.Image.filters.Mask(t))})},e.Image.filters.Mask.async=!0}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Noise=e.util.createClass(e.Image.filters.BaseFilter,{type:"Noise",initialize:function(t){t=t||{},this.noise=t.noise||0},applyTo:function(t){for(var e,n=t.getContext("2d"),i=n.getImageData(0,0,t.width,t.height),r=i.data,o=this.noise,a=0,s=r.length;s>a;a+=4)e=(.5-Math.random())*o,r[a]+=e,r[a+1]+=e,r[a+2]+=e;n.putImageData(i,0,0)},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=function(t){return new e.Image.filters.Noise(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Pixelate=e.util.createClass(e.Image.filters.BaseFilter,{type:"Pixelate",initialize:function(t){t=t||{},this.blocksize=t.blocksize||4},applyTo:function(t){var e,n,i,r,o,a,s,c=t.getContext("2d"),l=c.getImageData(0,0,t.width,t.height),u=l.data,h=l.height,d=l.width;for(n=0;h>n;n+=this.blocksize)for(i=0;d>i;i+=this.blocksize){e=4*n*d+4*i,r=u[e],o=u[e+1],a=u[e+2],s=u[e+3];for(var f=n,p=n+this.blocksize;p>f;f++)for(var m=i,g=i+this.blocksize;g>m;m++)e=4*f*d+4*m,u[e]=r,u[e+1]=o,u[e+2]=a,u[e+3]=s}c.putImageData(l,0,0)},toObject:function(){return n(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=function(t){return new e.Image.filters.Pixelate(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.RemoveWhite=e.util.createClass(e.Image.filters.BaseFilter,{type:"RemoveWhite",initialize:function(t){t=t||{},this.threshold=t.threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,n,i,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),a=o.data,s=this.threshold,c=this.distance,l=255-s,u=Math.abs,h=0,d=a.length;d>h;h+=4)e=a[h],n=a[h+1],i=a[h+2],e>l&&n>l&&i>l&&u(e-n)<c&&u(e-i)<c&&u(n-i)<c&&(a[h+3]=1);r.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=function(t){return new e.Image.filters.RemoveWhite(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Sepia=e.util.createClass(e.Image.filters.BaseFilter,{type:"Sepia",applyTo:function(t){var e,n,i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,a=o.length;for(e=0;a>e;e+=4)n=.3*o[e]+.59*o[e+1]+.11*o[e+2],o[e]=n+100,o[e+1]=n+50,o[e+2]=n+255;i.putImageData(r,0,0)}}),e.Image.filters.Sepia.fromObject=function(){return new e.Image.filters.Sepia}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.Sepia2=e.util.createClass(e.Image.filters.BaseFilter,{type:"Sepia2",applyTo:function(t){var e,n,i,r,o=t.getContext("2d"),a=o.getImageData(0,0,t.width,t.height),s=a.data,c=s.length;for(e=0;c>e;e+=4)n=s[e],i=s[e+1],r=s[e+2],s[e]=(.393*n+.769*i+.189*r)/1.351,s[e+1]=(.349*n+.686*i+.168*r)/1.203,s[e+2]=(.272*n+.534*i+.131*r)/2.14;o.putImageData(a,0,0)}}),e.Image.filters.Sepia2.fromObject=function(){return new e.Image.filters.Sepia2}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Tint=e.util.createClass(e.Image.filters.BaseFilter,{type:"Tint",initialize:function(t){t=t||{},this.color=t.color||"#000000",this.opacity="undefined"!=typeof t.opacity?t.opacity:new e.Color(this.color).getAlpha()},applyTo:function(t){var n,i,r,o,a,s,c,l,u,h=t.getContext("2d"),d=h.getImageData(0,0,t.width,t.height),f=d.data,p=f.length;for(u=new e.Color(this.color).getSource(),i=u[0]*this.opacity,r=u[1]*this.opacity,o=u[2]*this.opacity,l=1-this.opacity,n=0;p>n;n+=4)a=f[n],s=f[n+1],c=f[n+2],f[n]=i+a*l,f[n+1]=r+s*l,f[n+2]=o+c*l;h.putImageData(d,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=function(t){return new e.Image.filters.Tint(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Image.filters.Multiply=e.util.createClass(e.Image.filters.BaseFilter,{type:"Multiply",initialize:function(t){t=t||{},this.color=t.color||"#000000"},applyTo:function(t){var n,i,r=t.getContext("2d"),o=r.getImageData(0,0,t.width,t.height),a=o.data,s=a.length;for(i=new e.Color(this.color).getSource(),n=0;s>n;n+=4)a[n]*=i[0]/255,a[n+1]*=i[1]/255,a[n+2]*=i[2]/255;r.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=function(t){return new e.Image.filters.Multiply(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric;e.Image.filters.Blend=e.util.createClass({type:"Blend",initialize:function(t){t=t||{},this.color=t.color||"#000",this.image=t.image||!1,this.mode=t.mode||"multiply",this.alpha=t.alpha||1},applyTo:function(t){var n,i,r,o,a,s,c,l,u,h,d=t.getContext("2d"),f=d.getImageData(0,0,t.width,t.height),p=f.data,m=!1;if(this.image){m=!0;var g=e.util.createCanvasElement();g.width=this.image.width,g.height=this.image.height;var v=new e.StaticCanvas(g);v.add(this.image);var b=v.getContext("2d");h=b.getImageData(0,0,v.width,v.height).data}else h=new e.Color(this.color).getSource(),n=h[0]*this.alpha,i=h[1]*this.alpha,r=h[2]*this.alpha;for(var y=0,x=p.length;x>y;y+=4)switch(o=p[y],a=p[y+1],s=p[y+2],m&&(n=h[y]*this.alpha,i=h[y+1]*this.alpha,r=h[y+2]*this.alpha),this.mode){case"multiply":p[y]=o*n/255,p[y+1]=a*i/255,p[y+2]=s*r/255;break;case"screen":p[y]=1-(1-o)*(1-n),p[y+1]=1-(1-a)*(1-i),p[y+2]=1-(1-s)*(1-r);break;case"add":p[y]=Math.min(255,o+n),p[y+1]=Math.min(255,a+i),p[y+2]=Math.min(255,s+r);break;case"diff":case"difference":p[y]=Math.abs(o-n),p[y+1]=Math.abs(a-i),p[y+2]=Math.abs(s-r);break;case"subtract":c=o-n,l=a-i,u=s-r,p[y]=0>c?0:c,p[y+1]=0>l?0:l,p[y+2]=0>u?0:u;break;case"darken":p[y]=Math.min(o,n),p[y+1]=Math.min(a,i),p[y+2]=Math.min(s,r);break;case"lighten":p[y]=Math.max(o,n),p[y+1]=Math.max(a,i),p[y+2]=Math.max(s,r)}d.putImageData(f,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=function(t){return new e.Image.filters.Blend(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,o=Math.abs,a=Math.max,s=Math.round,c=Math.sin,l=Math.ceil;e.Image.filters.Resize=e.util.createClass(e.Image.filters.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(t,e,n){this.rcpScaleX=1/e,this.rcpScaleY=1/n;var i,r=t.width,o=t.height,a=s(r*e),c=s(o*n);"sliceHack"===this.resizeType&&(i=this.sliceByTwo(t,r,o,a,c)),"hermite"===this.resizeType&&(i=this.hermiteFastResize(t,r,o,a,c)),"bilinear"===this.resizeType&&(i=this.bilinearFiltering(t,r,o,a,c)),"lanczos"===this.resizeType&&(i=this.lanczosResize(t,r,o,a,c)),t.width=a,t.height=c,t.getContext("2d").putImageData(i,0,0)},sliceByTwo:function(t,n,r,o,s){var c,l=t.getContext("2d"),u=.5,h=.5,d=1,f=1,p=!1,m=!1,g=n,v=r,b=e.util.createCanvasElement(),y=b.getContext("2d");for(o=i(o),s=i(s),b.width=a(o,n),b.height=a(s,r),o>n&&(u=2,d=-1),s>r&&(h=2,f=-1),c=l.getImageData(0,0,n,r),t.width=a(o,n),t.height=a(s,r),l.putImageData(c,0,0);!p||!m;)n=g,r=v,o*d<i(g*u*d)?g=i(g*u):(g=o,p=!0),s*f<i(v*h*f)?v=i(v*h):(v=s,m=!0),c=l.getImageData(0,0,n,r),y.putImageData(c,0,0),l.clearRect(0,0,g,v),l.drawImage(b,0,0,n,r,0,0,g,v);return l.getImageData(0,0,o,s)},lanczosResize:function(t,e,a,s,u){function h(t){return function(e){if(e>t)return 0;if(e*=Math.PI,o(e)<1e-16)return 1;var n=e/t;return c(e)*c(n)/e/n}}function d(t){var c,l,h,f,p,A,k,M,O,P,I;for(S.x=(t+.5)*y,T.x=i(S.x),c=0;u>c;c++){for(S.y=(c+.5)*x,T.y=i(S.y),p=0,A=0,k=0,M=0,O=0,l=T.x-$;l<=T.x+$;l++)if(!(0>l||l>=e)){P=i(1e3*o(l-S.x)),E[P]||(E[P]={});for(var D=T.y-_;D<=T.y+_;D++)0>D||D>=a||(I=i(1e3*o(D-S.y)),E[P][I]||(E[P][I]=b(r(n(P*w,2)+n(I*C,2))/1e3)),h=E[P][I],h>0&&(f=4*(D*e+l),p+=h,A+=h*g[f],k+=h*g[f+1],M+=h*g[f+2],O+=h*g[f+3]))}f=4*(c*s+t),v[f]=A/p,v[f+1]=k/p,v[f+2]=M/p,v[f+3]=O/p}return++t<s?d(t):m}var f=t.getContext("2d"),p=f.getImageData(0,0,e,a),m=f.getImageData(0,0,s,u),g=p.data,v=m.data,b=h(this.lanczosLobes),y=this.rcpScaleX,x=this.rcpScaleY,w=2/this.rcpScaleX,C=2/this.rcpScaleY,$=l(y*this.lanczosLobes/2),_=l(x*this.lanczosLobes/2),E={},S={},T={};return d(0)},bilinearFiltering:function(t,e,n,r,o){var a,s,c,l,u,h,d,f,p,m,g,v,b,y=0,x=this.rcpScaleX,w=this.rcpScaleY,C=t.getContext("2d"),$=4*(e-1),_=C.getImageData(0,0,e,n),E=_.data,S=C.getImageData(0,0,r,o),T=S.data;for(d=0;o>d;d++)for(f=0;r>f;f++)for(u=i(x*f),h=i(w*d),p=x*f-u,m=w*d-h,b=4*(h*e+u),g=0;4>g;g++)a=E[b+g],s=E[b+4+g],c=E[b+$+g],l=E[b+$+4+g],v=a*(1-p)*(1-m)+s*p*(1-m)+c*m*(1-p)+l*p*m,T[y++]=v;return S},hermiteFastResize:function(t,e,n,a,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=l(c/2),d=l(u/2),f=t.getContext("2d"),p=f.getImageData(0,0,e,n),m=p.data,g=f.getImageData(0,0,a,s),v=g.data,b=0;s>b;b++)for(var y=0;a>y;y++){for(var x=4*(y+b*a),w=0,C=0,$=0,_=0,E=0,S=0,T=0,A=(b+.5)*u,k=i(b*u);(b+1)*u>k;k++)for(var M=o(A-(k+.5))/d,O=(y+.5)*c,P=M*M,I=i(y*c);(y+1)*c>I;I++){var D=o(O-(I+.5))/h,N=r(P+D*D);N>1&&-1>N||(w=2*N*N*N-3*N*N+1,w>0&&(D=4*(I+k*e),T+=w*m[D+3],$+=w,m[D+3]<255&&(w=w*m[D+3]/250),_+=w*m[D],E+=w*m[D+1],S+=w*m[D+2],C+=w))}v[x]=_/C,v[x+1]=E/C,v[x+2]=S/C,v[x+3]=T/$}return g},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=function(t){return new e.Image.filters.Resize(t)}}("undefined"!=typeof exports?exports:this),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,o=e.StaticCanvas.supports("setLineDash"),a=e.Object.NUM_FRACTION_DIGITS;if(e.Text)return void e.warn("fabric.Text is already defined");var s=e.Object.prototype.stateProperties.concat();s.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor"),e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:{fontSize:!0,fontWeight:!0,fontFamily:!0,fontStyle:!0,lineHeight:!0,stroke:!0,strokeWidth:!0,text:!0,textAlign:!0},_reNewline:/\r?\n/,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:s,stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,initialize:function(t,e){e=e||{},this.text=t,this.__skipDimension=!0,this.setOptions(e),this.__skipDimension=!1,this._initDimensions()},_initDimensions:function(t){if(!this.__skipDimension){t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t)),this._textLines=this.text.split(this._reNewline),this._clearCache();var n=this.textAlign;this.textAlign="left",this.width=this._getTextWidth(t),this.textAlign=n,this.height=this._getTextHeight(t)}},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(t){this.clipTo&&e.util.clipContext(this,t),this._renderTextBackground(t),this._renderText(t),this._renderTextDecoration(t),this.clipTo&&t.restore()},_renderText:function(t){t.save(),this._translateForTextAlign(t),this._setOpacity(t),this._setShadow(t),this._setupCompositeOperation(t),this._renderTextFill(t),this._renderTextStroke(t),t.restore()},_translateForTextAlign:function(t){"left"!==this.textAlign&&"justify"!==this.textAlign&&t.translate("center"===this.textAlign?this.width/2:this.width,0)},_setTextStyles:function(t){t.textBaseline="alphabetic",this.skipTextAlign||(t.textAlign=this.textAlign),t.font=this._getFontDeclaration()},_getTextHeight:function(){return this._textLines.length*this._getHeightOfLine()},_getTextWidth:function(t){for(var e=this._getLineWidth(t,0),n=1,i=this._textLines.length;i>n;n++){var r=this._getLineWidth(t,n);r>e&&(e=r)}return e},_renderChars:function(t,e,n,i,r){var o=t.slice(0,-4);if(this[o].toLive){var a=-this.width/2+this[o].offsetX||0,s=-this.height/2+this[o].offsetY||0;e.save(),e.translate(a,s),i-=a,r-=s}console.log(e.strokeStyle),e[t](n,i,r),this[o].toLive&&e.restore()},_renderTextLine:function(t,e,n,i,r,o){if(r-=this.fontSize*this._fontSizeFraction,"justify"!==this.textAlign)return void this._renderChars(t,e,n,i,r,o);var a=this._getLineWidth(e,o),s=this.width;if(s>=a)for(var c=n.split(/\s+/),l=this._getWidthOfWords(e,n,o),u=s-l,h=c.length-1,d=u/h,f=0,p=0,m=c.length;m>p;p++)this._renderChars(t,e,c[p],i+f,r,o),f+=e.measureText(c[p]).width+d;else this._renderChars(t,e,n,i,r,o)},_getWidthOfWords:function(t,e){return t.measureText(e.replace(/\s+/g,"")).width},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextFill:function(t){if(this.fill||this._skipFillStrokeCheck)for(var e=0,n=0,i=this._textLines.length;i>n;n++){var r=this._getHeightOfLine(t,n),o=r/this.lineHeight;this._renderTextLine("fillText",t,this._textLines[n],this._getLeftOffset(),this._getTopOffset()+e+o,n),e+=r}},_renderTextStroke:function(t){if(this.stroke&&0!==this.strokeWidth||this._skipFillStrokeCheck){var e=0;this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),o&&t.setLineDash(this.strokeDashArray)),t.beginPath();for(var n=0,i=this._textLines.length;i>n;n++){var r=this._getHeightOfLine(t,n),a=r/this.lineHeight;this._renderTextLine("strokeText",t,this._textLines[n],this._getLeftOffset(),this._getTopOffset()+e+a,n),e+=r}t.closePath(),t.restore()}},_getHeightOfLine:function(){return this.fontSize*this._fontSizeMult*this.lineHeight},_renderTextBackground:function(t){this._renderTextBoxBackground(t),this._renderTextLinesBackground(t)},_renderTextBoxBackground:function(t){this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),t.restore())},_renderTextLinesBackground:function(t){var e=0,n=this._getHeightOfLine();if(this.textBackgroundColor){t.save(),t.fillStyle=this.textBackgroundColor;for(var i=0,r=this._textLines.length;r>i;i++){if(""!==this._textLines[i]){var o=this._getLineWidth(t,i),a=this._getLineLeftOffset(o);t.fillRect(this._getLeftOffset()+a,this._getTopOffset()+e,o,this.fontSize*this._fontSizeMult)}e+=n}t.restore()}},_getLineLeftOffset:function(t){return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__lineOffsets=[]},_shouldClearCache:function(){var t=!1;for(var e in this._dimensionAffectingProps)this["__"+e]!==this[e]&&(this["__"+e]=this[e],t=!0);return t},_getLineWidth:function(t,e){return this.__lineWidths[e]?this.__lineWidths[e]:(this.__lineWidths[e]=t.measureText(this._textLines[e]).width,this.__lineWidths[e])},_renderTextDecoration:function(t){function e(e){var r,o,a,s,c=0;for(r=0,o=i._textLines.length;o>r;r++){var l=i._getLineWidth(t,r),u=i._getLineLeftOffset(l),h=i._getHeightOfLine(t,r);for(a=0,s=e.length;s>a;a++)t.fillRect(i._getLeftOffset()+u,c+(i._fontSizeMult-1+e[a])*i.fontSize-n,l,i.fontSize/15);c+=h}}if(this.textDecoration){var n=this.height/2,i=this,r=[];this.textDecoration.indexOf("underline")>-1&&r.push(.85),this.textDecoration.indexOf("line-through")>-1&&r.push(.43),this.textDecoration.indexOf("overline")>-1&&r.push(-.12),r.length>0&&e(r)}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(t,e){this.visible&&(t.save(),this._setTextStyles(t),this._shouldClearCache()&&this._initDimensions(t),e||this.transform(t),this._setStrokeStyles(t),this._setFillStyles(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.group&&"path-group"===this.group.type&&t.translate(this.left,this.top),this._render(t),t.restore())},toObject:function(t){var e=n(this.callSuper("toObject",t),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textAlign:this.textAlign,textBackgroundColor:this.textBackgroundColor});return this.includeDefaultValues||this._removeDefaultValues(e),e},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this._getSVGLeftTopOffsets(this.ctx),i=this._getSVGTextAndBg(n.textTop,n.textLeft);return this._wrapSVGTextAndBg(e,i),t?t(e.join("")):e.join("")},_getSVGLeftTopOffsets:function(t){var e=this._getHeightOfLine(t,0),n=-this.width/2,i=0;return{textLeft:n+(this.group&&"path-group"===this.group.type?this.left:0),textTop:i+(this.group&&"path-group"===this.group.type?-this.top:0),lineTop:e}},_wrapSVGTextAndBg:function(t,e){t.push('	<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',e.textBgRects.join(""),"		<text ",this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" >',e.textSpans.join(""),"</text>\n","	</g>\n")},_getSVGTextAndBg:function(t,e){var n=[],i=[],r=0;this._setSVGBg(i);for(var o=0,a=this._textLines.length;a>o;o++)this.textBackgroundColor&&this._setSVGTextLineBg(i,o,e,t,r),this._setSVGTextLineText(o,n,r,e,t,i),r+=this._getHeightOfLine(this.ctx,o);return{textSpans:n,textBgRects:i}},_setSVGTextLineText:function(t,n,i,o,s){var c=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-s+i-this.height/2;n.push('<tspan x="',r(o+this._getLineLeftOffset(this.__lineWidths[t]),a),'" ','y="',r(c,a),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(this._textLines[t]),"</tspan>")},_setSVGTextLineBg:function(t,e,n,i,o){t.push("		<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',r(n+this._getLineLeftOffset(this.__lineWidths[e]),a),'" y="',r(o-this.height/2,a),'" width="',r(this.__lineWidths[e],a),'" height="',r(this._getHeightOfLine(this.ctx,e)/this.lineHeight,a),'"></rect>\n')},_setSVGBg:function(t){this.backgroundColor&&t.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',r(-this.width/2,a),'" y="',r(-this.height/2,a),'" width="',r(this.width,a),'" height="',r(this.height,a),'"></rect>\n')},_getFillAttributes:function(t){var n=t&&"string"==typeof t?new e.Color(t):"";return n&&n.getSource()&&1!==n.getAlpha()?'opacity="'+n.getAlpha()+'" fill="'+n.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_set:function(t,e){this.callSuper("_set",t,e),t in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n){if(!t)return null;
var i=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES);n=e.util.object.extend(n?e.util.object.clone(n):{},i),n.top=n.top||0,n.left=n.left||0,"dx"in i&&(n.left+=i.dx),"dy"in i&&(n.top+=i.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE),n.originX||(n.originX="left");var r=t.textContent.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),o=new e.Text(r,n),a=0;return"left"===o.originX&&(a=o.getWidth()/2),"right"===o.originX&&(a=-o.getWidth()/2),o.set({left:o.getLeft()+a,top:o.getTop()-o.getHeight()/2+o.fontSize*(.18+o._fontSizeFraction)}),o},e.Text.fromObject=function(t){return new e.Text(t.text,i(t))},e.util.createAccessors(e.Text)}("undefined"!=typeof exports?exports:this),function(){var t=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,styles:null,caching:!0,_skipFillStrokeCheck:!1,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,_charWidthsCache:{},initialize:function(t,e){this.styles=e?e.styles||{}:{},this.callSuper("initialize",t,e),this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache"),this.__maxFontHeights=[],this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var t=this.styles;for(var e in t)for(var n in t[e])for(var i in t[e][n])return!1;return!0},setSelectionStart:function(t){t=Math.max(t,0),this.selectionStart!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this}),this.selectionStart=t),this._updateTextarea()},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this.selectionEnd!==t&&(this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this}),this.selectionEnd=t),this._updateTextarea()},getSelectionStyles:function(t,e){if(2===arguments.length){for(var n=[],i=t;e>i;i++)n.push(this.getSelectionStyles(i));return n}var r=this.get2DCursorLocation(t);return this.styles[r.lineIndex]?this.styles[r.lineIndex][r.charIndex]||{}:{}},setSelectionStyles:function(t){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,t);else for(var e=this.selectionStart;e<this.selectionEnd;e++)this._extendStyles(e,t);return this._clearCache(),this},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this.styles[n.lineIndex]||(this.styles[n.lineIndex]={}),this.styles[n.lineIndex][n.charIndex]||(this.styles[n.lineIndex][n.charIndex]={}),fabric.util.object.extend(this.styles[n.lineIndex][n.charIndex],e)},_render:function(t){this.callSuper("_render",t),this.ctx=t,this.isEditing&&this.renderCursorOrSelection()},renderCursorOrSelection:function(){if(this.active){var t,e,n=this.text.split("");this.canvas.contextTop?(e=this.canvas.contextTop,e.save(),e.transform.apply(e,this.canvas.viewportTransform),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix)):(e=this.ctx,e.save()),this.selectionStart===this.selectionEnd?(t=this._getCursorBoundaries(n,"cursor"),this.renderCursor(t,e)):(t=this._getCursorBoundaries(n,"selection"),this.renderSelection(n,t,e)),e.restore()}},get2DCursorLocation:function(t){"undefined"==typeof t&&(t=this.selectionStart);for(var e=this._textLines.length,n=0;e>n;n++){if(t<=this._textLines[n].length)return{lineIndex:n,charIndex:t};t-=this._textLines[n].length+1}return{lineIndex:n-1,charIndex:this._textLines[n-1].length<t?this._textLines[n-1].length:t}},getCurrentCharStyle:function(t,e){var n=this.styles[t]&&this.styles[t][0===e?0:e-1];return{fontSize:n&&n.fontSize||this.fontSize,fill:n&&n.fill||this.fill,textBackgroundColor:n&&n.textBackgroundColor||this.textBackgroundColor,textDecoration:n&&n.textDecoration||this.textDecoration,fontFamily:n&&n.fontFamily||this.fontFamily,fontWeight:n&&n.fontWeight||this.fontWeight,fontStyle:n&&n.fontStyle||this.fontStyle,stroke:n&&n.stroke||this.stroke,strokeWidth:n&&n.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(t,e){return this.styles[t]&&this.styles[t][0===e?0:e-1]&&this.styles[t][0===e?0:e-1].fontSize||this.fontSize},getCurrentCharColor:function(t,e){return this.styles[t]&&this.styles[t][0===e?0:e-1]&&this.styles[t][0===e?0:e-1].fill||this.cursorColor},_getCursorBoundaries:function(t,e){var n=Math.round(this._getLeftOffset()),i=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:n,top:i,leftOffset:r.left+r.lineLeft,topOffset:r.top}},_getCursorBoundariesOffsets:function(t,e){for(var n=0,i=0,r=0,o=0,a=0,s=0;s<this.selectionStart;s++)"\n"===t[s]?(a=0,o+=this._getHeightOfLine(this.ctx,i),i++,r=0):(a+=this._getWidthOfChar(this.ctx,t[s],i,r),r++),n=this._getCachedLineOffset(i);return"cursor"===e&&(o+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,i)/this.lineHeight-this.getCurrentCharFontSize(i,r)*(1-this._fontSizeFraction)),{top:o,left:a,lineLeft:n}},_getCachedLineOffset:function(t){var e=this._getLineWidth(this.ctx,t);return this.__lineOffsets[t]||(this.__lineOffsets[t]=this._getLineLeftOffset(e))},renderCursor:function(t,e){var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex,o=this.getCurrentCharFontSize(i,r),a=0===i&&0===r?this._getCachedLineOffset(i):t.leftOffset;e.fillStyle=this.getCurrentCharColor(i,r),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+a,t.top+t.topOffset,this.cursorWidth/this.scaleX,o)},renderSelection:function(t,e,n){n.fillStyle=this.selectionColor;for(var i=this.get2DCursorLocation(this.selectionStart),r=this.get2DCursorLocation(this.selectionEnd),o=i.lineIndex,a=r.lineIndex,s=o;a>=s;s++){var c=this._getCachedLineOffset(s)||0,l=this._getHeightOfLine(this.ctx,s),u=0,h=this._textLines[s];if(s===o)for(var d=0,f=h.length;f>d;d++)d>=i.charIndex&&(s!==a||d<r.charIndex)&&(u+=this._getWidthOfChar(n,h[d],s,d)),d<i.charIndex&&(c+=this._getWidthOfChar(n,h[d],s,d));else if(s>o&&a>s)u+=this._getLineWidth(n,s)||5;else if(s===a)for(var p=0,m=r.charIndex;m>p;p++)u+=this._getWidthOfChar(n,h[p],s,p);n.fillRect(e.left+c,e.top+e.topOffset,u,l),e.topOffset+=l}},_renderChars:function(t,e,n,i,r,o){if(this.isEmptyStyles())return this._renderCharsFast(t,e,n,i,r);this.skipTextAlign=!0,i-="center"===this.textAlign?this.width/2:"right"===this.textAlign?this.width:0;var a,s=this._getHeightOfLine(e,o),c=this._getCachedLineOffset(o),l="";i+=c||0,e.save(),r-=s/this.lineHeight*this._fontSizeFraction;for(var u=0,h=n.length;h>=u;u++){a=a||this.getCurrentCharStyle(o,u);var d=this.getCurrentCharStyle(o,u+1);(this._hasStyleChanged(a,d)||u===h)&&(this._renderChar(t,e,o,u-1,l,i,r,s),l="",a=d),l+=n[u]}e.restore()},_renderCharsFast:function(t,e,n,i,r){this.skipTextAlign=!1,"fillText"===t&&this.fill&&this.callSuper("_renderChars",t,e,n,i,r),"strokeText"===t&&(this.stroke&&this.strokeWidth>0||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",t,e,n,i,r)},_renderChar:function(t,e,n,i,r,o,a,s){var c,l,u,h=this._fontSizeFraction*s/this.lineHeight;if(this.styles&&this.styles[n]&&(c=this.styles[n][i])){var d=c.stroke||this.stroke,f=c.fill||this.fill;e.save(),l=this._applyCharStylesGetWidth(e,r,n,i,c),u=this._getHeightOfChar(e,r,n,i),f&&e.fillText(r,o,a),d&&e.strokeText(r,o,a),this._renderCharDecoration(e,c,o,a,h,l,u),e.restore(),e.translate(l,0)}else"strokeText"===t&&this.stroke&&e[t](r,o,a),"fillText"===t&&this.fill&&e[t](r,o,a),l=this._applyCharStylesGetWidth(e,r,n,i),this._renderCharDecoration(e,null,o,a,h,l,this.fontSize),e.translate(e.measureText(r).width,0)},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.fontSize!==e.fontSize||t.textBackgroundColor!==e.textBackgroundColor||t.textDecoration!==e.textDecoration||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth},_renderCharDecoration:function(t,e,n,i,r,o,a){var s=e?e.textDecoration||this.textDecoration:this.textDecoration;s&&(s.indexOf("underline")>-1&&t.fillRect(n,i+a/10,o,a/15),s.indexOf("line-through")>-1&&t.fillRect(n,i-a*(this._fontSizeFraction+this._fontSizeMult-1)+a/15,o,a/15),s.indexOf("overline")>-1&&t.fillRect(n,i-(this._fontSizeMult-this._fontSizeFraction)*a,o,a/15))},_renderTextLine:function(t,e,n,i,r,o){this.isEmptyStyles()||(r+=this.fontSize*(this._fontSizeFraction+.03)),this.callSuper("_renderTextLine",t,e,n,i,r,o)},_renderTextDecoration:function(t){return this.isEmptyStyles()?this.callSuper("_renderTextDecoration",t):void 0},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styles){t.save(),this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor);for(var e=0,n=0,i=this._textLines.length;i>n;n++){var r=this._getHeightOfLine(t,n);if(""!==this._textLines[n]){var o=this._getLineWidth(t,n),a=this._getCachedLineOffset(n);if(this.textBackgroundColor&&(t.fillStyle=this.textBackgroundColor,t.fillRect(this._getLeftOffset()+a,this._getTopOffset()+e,o,r/this.lineHeight)),this.styles[n])for(var s=0,c=this._textLines[n].length;c>s;s++)if(this.styles[n]&&this.styles[n][s]&&this.styles[n][s].textBackgroundColor){var l=this._textLines[n][s];t.fillStyle=this.styles[n][s].textBackgroundColor,t.fillRect(this._getLeftOffset()+a+this._getWidthOfCharsAt(t,n,s),this._getTopOffset()+e,this._getWidthOfChar(t,l,n,s)+1,r/this.lineHeight)}e+=r}else e+=r}t.restore()}},_getCacheProp:function(t,e){return t+e.fontFamily+e.fontSize+e.fontWeight+e.fontStyle+e.shadow},_applyCharStylesGetWidth:function(e,n,i,r,o){var a=o||this.styles[i]&&this.styles[i][r];a=a?t(a):{},this._applyFontStyles(a);var s=this._getCacheProp(n,a);if(this.isEmptyStyles()&&this._charWidthsCache[s]&&this.caching)return this._charWidthsCache[s];"string"==typeof a.shadow&&(a.shadow=new fabric.Shadow(a.shadow));var c=a.fill||this.fill;return e.fillStyle=c.toLive?c.toLive(e,this):c,a.stroke&&(e.strokeStyle=a.stroke&&a.stroke.toLive?a.stroke.toLive(e,this):a.stroke),e.lineWidth=a.strokeWidth||this.strokeWidth,e.font=this._getFontDeclaration.call(a),this._setShadow.call(a,e),this.caching?(this._charWidthsCache[s]||(this._charWidthsCache[s]=e.measureText(n).width),this._charWidthsCache[s]):e.measureText(n).width},_applyFontStyles:function(t){t.fontFamily||(t.fontFamily=this.fontFamily),t.fontSize||(t.fontSize=this.fontSize),t.fontWeight||(t.fontWeight=this.fontWeight),t.fontStyle||(t.fontStyle=this.fontStyle)},_getStyleDeclaration:function(e,n){return this.styles[e]&&this.styles[e][n]?t(this.styles[e][n]):{}},_getWidthOfChar:function(t,e,n,i){if("justify"===this.textAlign&&/\s/.test(e))return this._getWidthOfSpace(t,n);var r=this._getStyleDeclaration(n,i);this._applyFontStyles(r);var o=this._getCacheProp(e,r);if(this._charWidthsCache[o]&&this.caching)return this._charWidthsCache[o];if(t){t.save();var a=this._applyCharStylesGetWidth(t,e,n,i);return t.restore(),a}},_getHeightOfChar:function(t,e,n,i){return this.styles[n]&&this.styles[n][i]?this.styles[n][i].fontSize||this.fontSize:this.fontSize},_getHeightOfCharAt:function(t,e,n){var i=this._textLines[e][n];return this._getHeightOfChar(t,i,e,n)},_getWidthOfCharsAt:function(t,e,n){var i,r,o=0;for(i=0;n>i;i++)r=this._textLines[e][i],o+=this._getWidthOfChar(t,r,e,i);return o},_getLineWidth:function(t,e){return this.__lineWidths[e]?this.__lineWidths[e]:(this.__lineWidths[e]=this._getWidthOfCharsAt(t,e,this._textLines[e].length),this.__lineWidths[e])},_getWidthOfSpace:function(t,e){if(this.__widthOfSpace[e])return this.__widthOfSpace[e];var n=this._textLines[e],i=this._getWidthOfWords(t,n,e),r=this.width-i,o=n.length-n.replace(/\s+/g,"").length,a=r/o;return this.__widthOfSpace[e]=a,a},_getWidthOfWords:function(t,e,n){for(var i=0,r=0;r<e.length;r++){var o=e[r];o.match(/\s/)||(i+=this._getWidthOfChar(t,o,n,r))}return i},_getHeightOfLine:function(t,e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var n=this._textLines[e],i=this._getHeightOfChar(t,n[0],e,0),r=1,o=n.length;o>r;r++){var a=this._getHeightOfChar(t,n[r],e,r);a>i&&(i=a)}return this.__maxFontHeights[e]=i,this.__lineHeights[e]=i*this.lineHeight*this._fontSizeMult,this.__lineHeights[e]},_getTextHeight:function(t){for(var e=0,n=0,i=this._textLines.length;i>n;n++)e+=this._getHeightOfLine(t,n);return e},_renderTextBoxBackground:function(t){this.backgroundColor&&(t.save(),t.fillStyle=this.backgroundColor,t.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),t.restore())},toObject:function(e){return fabric.util.object.extend(this.callSuper("toObject",e),{styles:t(this.styles)})}}),fabric.IText.fromObject=function(e){return new fabric.IText(e.text,t(e))}}(),function(){var t=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation()},initSelectedHandler:function(){this.on("selected",function(){var t=this;setTimeout(function(){t.selected=!0},100)})},initAddedHandler:function(){var t=this;this.on("added",function(){this.canvas&&!this.canvas._hasITextHandlers&&(this.canvas._hasITextHandlers=!0,this._initCanvasHandlers()),t.canvas&&(t.canvas._iTextInstances=t.canvas._iTextInstances||[],t.canvas._iTextInstances.push(t))})},initRemovedHandler:function(){var t=this;this.on("removed",function(){t.canvas&&(t.canvas._iTextInstances=t.canvas._iTextInstances||[],fabric.util.removeFromArray(t.canvas._iTextInstances,t))})},_initCanvasHandlers:function(){var t=this;this.canvas.on("selection:cleared",function(){fabric.IText.prototype.exitEditingOnOthers(t.canvas)}),this.canvas.on("mouse:up",function(){t.canvas._iTextInstances&&t.canvas._iTextInstances.forEach(function(t){t.__isMousedown=!1})}),this.canvas.on("object:selected",function(){fabric.IText.prototype.exitEditingOnOthers(t.canvas)})},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,i){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){r.isAborted||t[i]()},onChange:function(){t.canvas&&(t.canvas.clearContext(t.canvas.contextTop||t.ctx),t.renderCursorOrSelection())},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),this._currentCursorOpacity=1,this.canvas&&(this.canvas.clearContext(this.canvas.contextTop||this.ctx),this.renderCursorOrSelection()),this._cursorTimeout2&&clearTimeout(this._cursorTimeout2),this._cursorTimeout2=setTimeout(function(){e._tick()},n)},abortCursorAnimation:function(){this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){this.setSelectionStart(0),this.setSelectionEnd(this.text.length)},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n--;for(;/\S/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this.text.charAt(n)))for(;this._reSpace.test(this.text.charAt(n));)e++,n++;for(;/\S/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,n=t-1;!/\n/.test(this.text.charAt(n))&&n>-1;)e++,n--;return t-e},findLineBoundaryRight:function(t){for(var e=0,n=t;!/\n/.test(this.text.charAt(n))&&n<this.text.length;)e++,n++;return t+e},getNumNewLinesInSelectedText:function(){for(var t=this.getSelectedText(),e=0,n=0,i=t.length;i>n;n++)"\n"===t[n]&&e++;return e},searchWordBoundary:function(t,e){for(var n=this._reSpace.test(this.text.charAt(t))?t-1:t,i=this.text.charAt(n),r=/[ \n\.,;!\?\-]/;!r.test(i)&&n>0&&n<this.text.length;)n+=e,i=this.text.charAt(n);return r.test(i)&&"\n"!==i&&(n+=1===e?0:1),n},selectWord:function(t){var e=this.searchWordBoundary(t,-1),n=this.searchWordBoundary(t,1);this.setSelectionStart(e),this.setSelectionEnd(n)},selectLine:function(t){var e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);this.setSelectionStart(e),this.setSelectionEnd(n)},enterEditing:function(){return!this.isEditing&&this.editable?(this.canvas&&this.exitEditingOnOthers(this.canvas),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._tick(),this.fire("editing:entered"),this.canvas?(this.canvas.renderAll(),this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this):this):void 0},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){var t=this;this.canvas.on("mouse:move",function(e){if(t.__isMousedown&&t.isEditing){var n=t.getSelectionStartFromPointer(e.e);n>=t.__selectionStartOnMouseDown?(t.setSelectionStart(t.__selectionStartOnMouseDown),t.setSelectionEnd(n)):(t.setSelectionStart(n),t.setSelectionEnd(t.__selectionStartOnMouseDown))}})},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){this.hiddenTextarea&&(this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd)},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),this.canvas&&this.canvas.fire("text:editing:exited",{target:this}),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},_removeCharsFromTo:function(t,e){for(;e!==t;)this._removeSingleCharAndStyle(t+1),e--;this.setSelectionStart(t)},_removeSingleCharAndStyle:function(t){var e="\n"===this.text[t-1],n=e?t:t-1;this.removeStyleObject(e,n),this.text=this.text.slice(0,t-1)+this.text.slice(t),this._textLines=this.text.split(this._reNewline)},insertChars:function(t,e){this.selectionEnd-this.selectionStart>1&&(this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.setSelectionEnd(this.selectionStart));var n="\n"===this.text[this.selectionStart];this.text=this.text.slice(0,this.selectionStart)+t+this.text.slice(this.selectionEnd),this.insertStyleObjects(t,n,e),this.setSelectionStart(this.selectionStart+t.length),this.setSelectionEnd(this.selectionStart),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},insertNewlineStyleObject:function(e,n,i){this.shiftLineStyles(e,1),this.styles[e+1]||(this.styles[e+1]={});var r={},o={};if(this.styles[e]&&this.styles[e][n-1]&&(r=this.styles[e][n-1]),i)o[0]=t(r),this.styles[e+1]=o;else{for(var a in this.styles[e])parseInt(a,10)>=n&&(o[parseInt(a,10)-n]=this.styles[e][a],delete this.styles[e][a]);this.styles[e+1]=o}this._clearCache()},insertCharStyleObject:function(e,n,i){var r=this.styles[e],o=t(r);0!==n||i||(n=1);for(var a in o){var s=parseInt(a,10);s>=n&&(r[s+1]=o[s])}this.styles[e][n]=i||t(r[n-1]),this._clearCache()},insertStyleObjects:function(t,e,n){var i=this.get2DCursorLocation(),r=i.lineIndex,o=i.charIndex;this.styles[r]||(this.styles[r]={}),"\n"===t?this.insertNewlineStyleObject(r,o,e):n?this._insertStyles(this.copiedStyles):this.insertCharStyleObject(r,o)},_insertStyles:function(t){for(var e=0,n=t.length;n>e;e++){var i=this.get2DCursorLocation(this.selectionStart+e),r=i.lineIndex,o=i.charIndex;this.insertCharStyleObject(r,o,t[e])}},shiftLineStyles:function(e,n){var i=t(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>e&&(this.styles[o+n]=i[o],i[o-n]||delete this.styles[o])}},removeStyleObject:function(e,n){var i=this.get2DCursorLocation(n),r=i.lineIndex,o=i.charIndex;if(e){var a=this._textLines[r-1],s=a?a.length:0;this.styles[r-1]||(this.styles[r-1]={});for(o in this.styles[r])this.styles[r-1][parseInt(o,10)+s]=this.styles[r][o];this.shiftLineStyles(r,-1)}else{var c=this.styles[r];c&&delete c[o];var l=t(c);for(var u in l){var h=parseInt(u,10);h>=o&&0!==h&&(c[h-1]=l[h],delete c[h])}}},insertNewline:function(){this.insertChars("\n")}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e)?(this.fire("tripleclick",t),this._stopEvent(t.e)):this.isDoubleClick(e)&&(this.fire("dblclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y&&this.__lastIsEditing},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initSelectedHandler(),this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},initMousedownHandler:function(){this.on("mousedown",function(t){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.hiddenTextarea&&this.canvas&&this.canvas.wrapperEl.appendChild(this.hiddenTextarea),this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.initDelayedCursor(!0))})},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",function(t){this.__isMousedown=!1,this._isObjectMoved(t.e)||(this.__lastSelected&&(this.enterEditing(),this.initDelayedCursor(!0)),this.selected=!0)})},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t);t.shiftKey?e<this.selectionStart?(this.setSelectionEnd(this.selectionStart),this.setSelectionStart(e)):this.setSelectionEnd(e):(this.setSelectionStart(e),this.setSelectionEnd(e))},_getLocalRotatedPointer:function(t){var e=this.canvas.getPointer(t),n=new fabric.Point(e.x,e.y),i=new fabric.Point(this.left,this.top),r=fabric.util.rotatePoint(n,i,fabric.util.degreesToRadians(-this.angle));return this.getLocalPointer(t,r)},getSelectionStartFromPointer:function(t){for(var e,n,i=this._getLocalRotatedPointer(t),r=0,o=0,a=0,s=0,c=0,l=this._textLines.length;l>c;c++){n=this._textLines[c],a+=this._getHeightOfLine(this.ctx,c)*this.scaleY;var u=this._getLineWidth(this.ctx,c),h=this._getLineLeftOffset(u);o=h*this.scaleX,this.flipX&&(this._textLines[c]=n.reverse().join(""));for(var d=0,f=n.length;f>d;d++){if(r=o,o+=this._getWidthOfChar(this.ctx,n[d],c,this.flipX?f-d:d)*this.scaleX,!(a<=i.y||o<=i.x))return this._getNewSelectionStartFromOffset(i,r,o,s+c,f);s++}if(i.y<a)return this._getNewSelectionStartFromOffset(i,r,o,s+c,f)}return"undefined"==typeof e?this.text.length:void 0},_getNewSelectionStartFromOffset:function(t,e,n,i,r){var o=t.x-e,a=n-t.x,s=a>o?0:1,c=i+s;return this.flipX&&(c=r-c),c>this.text.length&&(c=this.text.length),c}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.style.cssText="position: fixed; bottom: 20px; left: 0px; opacity: 0; width: 0px; height: 0px; z-index: -999;",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keypress",this.onKeyPress.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},_keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},_ctrlKeysMap:{65:"selectAll",88:"cut"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){if(t.keyCode in this._keysMap)this[this._keysMap[t.keyCode]](t);else{if(!(t.keyCode in this._ctrlKeysMap&&(t.ctrlKey||t.metaKey)))return;this[this._ctrlKeysMap[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.renderAll()}},forwardDelete:function(t){this.selectionStart===this.selectionEnd&&this.moveCursorRight(t),this.removeChars(t)},copy:function(t){var e=this.getSelectedText(),n=this._getClipboardData(t);n&&n.setData("text",e),this.copiedText=e,this.copiedStyles=this.getSelectionStyles(this.selectionStart,this.selectionEnd)},paste:function(t){var e=null,n=this._getClipboardData(t);e=n?n.getData("text"):this.copiedText,e&&this.insertChars(e,!0)},cut:function(t){this.selectionStart!==this.selectionEnd&&(this.copy(),this.removeChars(t))},_getClipboardData:function(t){return t&&(t.clipboardData||fabric.window.clipboardData)},onKeyPress:function(t){!this.isEditing||t.metaKey||t.ctrlKey||(0!==t.which&&this.insertChars(String.fromCharCode(t.which)),t.stopPropagation())},getDownCursorOffset:function(t,e){var n,i,r=e?this.selectionEnd:this.selectionStart,o=this.get2DCursorLocation(r),a=o.lineIndex,s=this._textLines[a].slice(0,o.charIndex),c=this._textLines[a].slice(o.charIndex),l=this._textLines[a+1]||"";if(a===this._textLines.length-1||t.metaKey||34===t.keyCode)return this.text.length-r;var u=this._getLineWidth(this.ctx,a);i=this._getLineLeftOffset(u);for(var h=i,d=0,f=s.length;f>d;d++)n=s[d],h+=this._getWidthOfChar(this.ctx,n,a,d);var p=this._getIndexOnNextLine(o,l,h);return c.length+1+p},_getIndexOnNextLine:function(t,e,n){for(var i,r=t.lineIndex+1,o=this._getLineWidth(this.ctx,r),a=this._getLineLeftOffset(o),s=a,c=0,l=0,u=e.length;u>l;l++){var h=e[l],d=this._getWidthOfChar(this.ctx,h,r,l);if(s+=d,s>n){i=!0;var f=s-d,p=s,m=Math.abs(f-n),g=Math.abs(p-n);c=m>g?l+1:l;break}}return i||(c=e.length),c},moveCursorDown:function(t){this.abortCursorAnimation(),this._currentCursorOpacity=1;var e=this.getDownCursorOffset(t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorDownWithShift(e):this.moveCursorDownWithoutShift(e),this.initDelayedCursor()},moveCursorDownWithoutShift:function(t){this._selectionDirection="right",this.setSelectionStart(this.selectionStart+t),this.setSelectionEnd(this.selectionStart)},swapSelectionPoints:function(){var t=this.selectionEnd;this.setSelectionEnd(this.selectionStart),this.setSelectionStart(t)},moveCursorDownWithShift:function(t){this.selectionEnd===this.selectionStart&&(this._selectionDirection="right"),"right"===this._selectionDirection?this.setSelectionEnd(this.selectionEnd+t):this.setSelectionStart(this.selectionStart+t),this.selectionEnd<this.selectionStart&&"left"===this._selectionDirection&&(this.swapSelectionPoints(),this._selectionDirection="right"),this.selectionEnd>this.text.length&&this.setSelectionEnd(this.text.length)},getUpCursorOffset:function(t,e){var n=e?this.selectionEnd:this.selectionStart,i=this.get2DCursorLocation(n),r=i.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return n;for(var o,a=this._textLines[r].slice(0,i.charIndex),s=this._textLines[r-1]||"",c=this._getLineWidth(this.ctx,i.lineIndex),l=this._getLineLeftOffset(c),u=l,h=0,d=a.length;d>h;h++)o=a[h],u+=this._getWidthOfChar(this.ctx,o,r,h);var f=this._getIndexOnPrevLine(i,s,u);return s.length-f+a.length},_getIndexOnPrevLine:function(t,e,n){for(var i,r=t.lineIndex-1,o=this._getLineWidth(this.ctx,r),a=this._getLineLeftOffset(o),s=a,c=0,l=0,u=e.length;u>l;l++){var h=e[l],d=this._getWidthOfChar(this.ctx,h,r,l);if(s+=d,s>n){i=!0;var f=s-d,p=s,m=Math.abs(f-n),g=Math.abs(p-n);c=m>g?l:l-1;break}}return i||(c=e.length-1),c},moveCursorUp:function(t){this.abortCursorAnimation(),this._currentCursorOpacity=1;var e=this.getUpCursorOffset(t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorUpWithShift(e):this.moveCursorUpWithoutShift(e),this.initDelayedCursor()},moveCursorUpWithShift:function(t){this.selectionEnd===this.selectionStart&&(this._selectionDirection="left"),"right"===this._selectionDirection?this.setSelectionEnd(this.selectionEnd-t):this.setSelectionStart(this.selectionStart-t),this.selectionEnd<this.selectionStart&&"right"===this._selectionDirection&&(this.swapSelectionPoints(),this._selectionDirection="left")},moveCursorUpWithoutShift:function(t){this.selectionStart===this.selectionEnd&&this.setSelectionStart(this.selectionStart-t),this.setSelectionEnd(this.selectionStart),this._selectionDirection="left"},moveCursorLeft:function(t){(0!==this.selectionStart||0!==this.selectionEnd)&&(this.abortCursorAnimation(),this._currentCursorOpacity=1,t.shiftKey?this.moveCursorLeftWithShift(t):this.moveCursorLeftWithoutShift(t),this.initDelayedCursor())},_move:function(t,e,n){var i="selectionStart"===e?"setSelectionStart":"setSelectionEnd";this[i](t.altKey?this["findWordBoundary"+n](this[e]):t.metaKey||35===t.keyCode||36===t.keyCode?this["findLineBoundary"+n](this[e]):this[e]+("Left"===n?-1:1))},_moveLeft:function(t,e){this._move(t,e,"Left")},_moveRight:function(t,e){this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this._moveLeft(t,"selectionStart"),this.setSelectionEnd(this.selectionStart)},moveCursorLeftWithShift:function(t){"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):(this._selectionDirection="left",this._moveLeft(t,"selectionStart"))
},moveCursorRight:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||(this.abortCursorAnimation(),this._currentCursorOpacity=1,t.shiftKey?this.moveCursorRightWithShift(t):this.moveCursorRightWithoutShift(t),this.initDelayedCursor())},moveCursorRightWithShift:function(t){"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):(this._selectionDirection="right",this._moveRight(t,"selectionEnd"))},moveCursorRightWithoutShift:function(t){this._selectionDirection="right",this.selectionStart===this.selectionEnd?(this._moveRight(t,"selectionStart"),this.setSelectionEnd(this.selectionStart)):(this.setSelectionEnd(this.selectionEnd+this.getNumNewLinesInSelectedText()),this.setSelectionStart(this.selectionEnd))},removeChars:function(t){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(t):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.setSelectionEnd(this.selectionStart),this._removeExtraneousStyles(),this._clearCache(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(t){if(0!==this.selectionStart)if(t.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)}else if(t.altKey){var n=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(n,this.selectionStart),this.setSelectionStart(n)}else this._removeSingleCharAndStyle(this.selectionStart),this.setSelectionStart(this.selectionStart-1)}}),function(){var t=fabric.util.toFixed,e=fabric.Object.NUM_FRACTION_DIGITS;fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(t,e,n,i,r,o){this.styles[t]?this._setSVGTextLineChars(t,e,n,i,o):this.callSuper("_setSVGTextLineText",t,e,n,i,r)},_setSVGTextLineChars:function(t,e,n,i,r){for(var o=this._textLines[t],a=0,s=this._getSVGLineLeftOffset(t)-this.width/2,c=this._getSVGLineTopOffset(t),l=this._getHeightOfLine(this.ctx,t),u=0,h=o.length;h>u;u++){var d=this.styles[t][u]||{};e.push(this._createTextCharSpan(o[u],d,s,c.lineTop+c.offset,a));var f=this._getWidthOfChar(this.ctx,o[u],t,u);d.textBackgroundColor&&r.push(this._createTextCharBg(d,s,c.lineTop,l,f,a)),a+=f}},_getSVGLineLeftOffset:function(t){return fabric.util.toFixed(this._getLineLeftOffset(this.__lineWidths[t]),2)},_getSVGLineTopOffset:function(t){for(var e=0,n=0,i=0;t>i;i++)e+=this._getHeightOfLine(this.ctx,i);return n=this._getHeightOfLine(this.ctx,i),{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(n,i,r,o,a,s){return['<rect fill="',n.textBackgroundColor,'" x="',t(i+s,e),'" y="',t(r-this.height/2,e),'" width="',t(a,e),'" height="',t(o/this.lineHeight,e),'"></rect>'].join("")},_createTextCharSpan:function(t,e,n,i,r){var o=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text"},e));return['<tspan x="',n+r,'" y="',i-this.height/2,'" ',e.fontFamily?'font-family="'+e.fontFamily.replace(/"/g,"'")+'" ':"",e.fontSize?'font-size="'+e.fontSize+'" ':"",e.fontStyle?'font-style="'+e.fontStyle+'" ':"",e.fontWeight?'font-weight="'+e.fontWeight+'" ':"",e.textDecoration?'text-decoration="'+e.textDecoration+'" ':"",'style="',o,'">',fabric.util.string.escapeXml(t),"</tspan>"].join("")}})}(),function(){function request(t,e,n){var i=URL.parse(t);i.port||(i.port=0===i.protocol.indexOf("https:")?443:80);var r=0===i.protocol.indexOf("https:")?HTTPS:HTTP,o=r.request({hostname:i.hostname,port:i.port,path:i.path,method:"GET"},function(t){var i="";e&&t.setEncoding(e),t.on("end",function(){n(i)}),t.on("data",function(e){200===t.statusCode&&(i+=e)})});o.on("error",function(t){fabric.log(t.errno===process.ECONNREFUSED?"ECONNREFUSED: connection refused to "+i.hostname+":"+i.port:t.message),n(null)}),o.end()}function requestFs(t,e){var n=require("fs");n.readFile(t,function(t,n){if(t)throw fabric.log(t),t;e(n)})}if("undefined"==typeof document||"undefined"==typeof window){var DOMParser=require("xmldom").DOMParser,URL=require("url"),HTTP=require("http"),HTTPS=require("https"),Canvas=require("canvas"),Image=require("canvas").Image;fabric.util.loadImage=function(t,e,n){function i(i){i?(r.src=new Buffer(i,"binary"),r._src=t,e&&e.call(n,r)):(r=null,e&&e.call(n,null,!0))}var r=new Image;t&&(t instanceof Buffer||0===t.indexOf("data"))?(r.src=r._src=t,e&&e.call(n,r)):t&&0!==t.indexOf("http")?requestFs(t,i):t?request(t,"binary",i):e&&e.call(n,t)},fabric.loadSVGFromURL=function(t,e,n){t=t.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim(),0!==t.indexOf("http")?requestFs(t,function(t){fabric.loadSVGFromString(t.toString(),e,n)}):request(t,"",function(t){fabric.loadSVGFromString(t,e,n)})},fabric.loadSVGFromString=function(t,e,n){var i=(new DOMParser).parseFromString(t);fabric.parseSVGDocument(i.documentElement,function(t,n){e&&e(t,n)},n)},fabric.util.getScript=function(url,callback){request(url,"",function(body){eval(body),callback&&callback()})},fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,function(n){var i=new fabric.Image(n);i._initConfig(t),i._initFilters(t.filters,function(n){i.filters=n||[],i._initFilters(t.resizeFilters,function(t){i.resizeFilters=t||[],e&&e(i)})})})},fabric.createCanvasForNode=function(t,e,n,i){i=i||n;var r=fabric.document.createElement("canvas"),o=new Canvas(t||600,e||600,i);r.style={},r.width=o.width,r.height=o.height;var a=fabric.Canvas||fabric.StaticCanvas,s=new a(r,n);return s.contextContainer=o.getContext("2d"),s.nodeCanvas=o,s.Font=Canvas.Font,s},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.StaticCanvas.prototype.createJPEGStream=function(t){return this.nodeCanvas.createJPEGStream(t)};var origSetWidth=fabric.StaticCanvas.prototype.setWidth;fabric.StaticCanvas.prototype.setWidth=function(t,e){return origSetWidth.call(this,t,e),this.nodeCanvas.width=t,this},fabric.Canvas&&(fabric.Canvas.prototype.setWidth=fabric.StaticCanvas.prototype.setWidth);var origSetHeight=fabric.StaticCanvas.prototype.setHeight;fabric.StaticCanvas.prototype.setHeight=function(t,e){return origSetHeight.call(this,t,e),this.nodeCanvas.height=t,this},fabric.Canvas&&(fabric.Canvas.prototype.setHeight=fabric.StaticCanvas.prototype.setHeight)}}(),angular.module("ImageEditor",["ngMaterial","ngAnimate","ui.sortable","image.crop","image.text","image.drawing","image.filters","image.shapes","image.directives","image.basics"]).config(["$mdThemingProvider",function(t){t.theme("default").primaryPalette("deep-orange").accentPalette("brown")}]).controller("MainController",["$rootScope","$scope","$timeout","$$rAF","$mdBottomSheet","canvas","history","simpleShapes","filters",function(t,e,n,i,r,o,a,s,c){t.started=!1,t.isDemo=document.URL.indexOf("pixie.vebto.com")>-1,t.isIntegrationMode=!1;try{window.self!==window.top&&$("script",window.parent.document).each(function(e,n){return n.src.indexOf("pixie-integrate")>-1?(t.isIntegrationMode=!0,!1):void 0})}catch(l){t.isIntegrationMode=!1}t.isIntegrationMode&&(t.pixie=window.parent.Pixie),t.getParam=function(e){return t.pixie?t.pixie.getParams()[e]:window.PixieParams?window.PixieParams[e]:void 0},o.start(),$(".actions-menu").draggable({handle:".menu-header",containment:"body"}),t.canvas=o,t.history=a,t.shapes=s,t.loading=!1,t.animationEndEvent="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t.transitionEndEvent="webkitTransitionEnd mozTransitionEnd MSTransitionEnd oatransitionend atransitionend transitionend",t.maxPanelHeight=$(window).height()-120,t.openPanel=function(e,n){if(t.activePanel!==e){t.activePanel=e;var r=$('[data-name="'+e+'"]'),o=n.target.getBoundingClientRect(),a=r[0].getBoundingClientRect(),s=Math.min(.5,o.width/a.width),c=Math.min(.5,o.height/a.height);r.removeClass("transition-in").css("transform","translate3d("+(-a.left+o.left+o.width/2-a.width/2)+"px,"+(-a.top+o.top+o.height/2-a.height/2)+"px,0) scale("+s+","+c+")"),i(function(){$(r).addClass("transition-in").css("transform","")})}},t.isLoading=function(){n(function(){t.loading=!0})},t.isNotLoading=function(){n(function(){t.loading=!1})},t.activePanel=!1,t.activeTab=!1,t.keys={google_fonts:"AIzaSyDhc_8NKxXjtv69htFcUPe6A7oGSQ4om2o"},t.$watch("activePanel",function(){setTimeout(function(){$(window).resize()},100)}),t.resetUI=function(){n(function(){t.activePanel=null,t.activeTab="basics",s.selected=null,c.appliedFilters=[],t.history.all=[]})},o.fabric.on("object:selected",function(e){if("text"==e.target.name)t.activeTab="text";else if("sticker"==e.target.name&&"stickers"!==t.activeTab)t.activeTab="stickers";else if(e.target.name&&"simple-shapes"!==t.activeTab)for(var i=0;i<s.available.length;i++){var r=s.available[i];r.name===e.target.name&&"simple-shapes"!==t.activeTab&&(s.selected=r,t.activeTab="simple-shapes")}n(angular.noop)}),o.fabric.on("selection:cleared",function(){n(angular.noop)}),$("#viewport").on("click",function(t){"viewport"===t.target.id&&n(function(){o.fabric.deactivateAll().renderAll()})}),e.openBottomSheet=function(t){r.show({template:$("#"+t+"-sheet-template").html(),controller:"BottomSheetController"})},e.$on("$destroy",function(){$(".sp-container").remove()}),t.spacify=function(t){if(t){var e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}}}]).controller("BottomSheetController",["$rootScope","$scope","$mdBottomSheet","$mdDialog","simpleShapes",function(t,e,n,i,r){e.shapes=r,e.showDialog=function(t){i.show({template:$("#texture-upload-dialog-template").html(),targetEvent:t,controller:"BottomSheetController"})}}]),angular.module("ImageEditor").factory("localStorage",function(){var t={expireAfter:2,get:function(e){var n=JSON.parse(localStorage.getItem(e));return n&&t.isValid(n.time)?n.value:!1},set:function(t,e){var n={value:e,time:(new Date).getTime()};return localStorage.setItem(t,JSON.stringify(n))},isValid:function(e){var n=((new Date).getTime()-new Date(e).getTime())/864e5;return n<t.expireAfter}};return t}),angular.module("ImageEditor").factory("settings",["$rootScope","$http",function(t,e){var n={all:{},get:function(t){return this.all[t]}};return e.get("config.json").success(function(e){n.all=e,t.$emit("settings.ready")}),n}]),angular.module("ImageEditor").factory("keybinds",["$rootScope",function(){function t(){$(document).on("keydown",e)}function e(t){t=t||window.event,[37,38,39,40].indexOf(t.keyCode)>-1&&i(t),46===t.keyCode&&n()}function n(){var t=r.fabric.getActiveObject();t&&(r.fabric.remove(t),r.fabric.renderAll())}function i(t){var e=2,n=r.fabric.getActiveObject(),i=r.fabric.getActiveGroup();if(37===t.keyCode){if(t.preventDefault(),n){var o=n.get("left")-e;n.set("left",o)}else if(i){var o=i.get("left")-e;i.set("left",o)}}else if(39===t.keyCode){if(t.preventDefault(),n){var o=n.get("left")+e;n.set("left",o)}else if(i){var o=i.get("left")+e;i.set("left",o)}}else if(38===t.keyCode){if(t.preventDefault(),n){var o=n.get("top")-e;n.set("top",o)}else if(i){var o=i.get("top")-e;i.set("top",o)}}else if(40===t.keyCode)if(t.preventDefault(),n){var o=n.get("top")+e;n.set("top",o)}else if(i){var o=i.get("top")+e;i.set("top",o)}n?(n.setCoords(),r.fabric.renderAll()):i&&(i.setCoords(),r.fabric.renderAll())}var r={fabric:!1,init:function(e){this.fabric=e,t()},destroy:function(){$(".canvas-container").off("keydown",processKeys,!1)}};return r}]),angular.module("ImageEditor").service("canvas",["$rootScope","$mdDialog","keybinds",function(t,e,n){var i={original:{},oldWindowDimensions:{width:window.innerWidth,height:window.innerHeight},mainImage:!1,fabric:!1,ctx:!1,container:!1,viewport:!1,offset:!1,element:!1,minWidth:50,minHeight:50,imageStatic:{locked:!0,selectable:!1,evented:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hasControls:!1,hasBorders:!1},destroy:function(){this.fabric.dispose(),this.mainImage=!1,this.fabric=!1,this.ctx=!1,this.container=!1,this.viewport=!1,this.offset=!1,this.element=!1,this.original={},this.currentZoom=1,t.editorCustomActions={},$(window).off("resize"),n.destroy()},start:function(r){if(this.element=document.getElementById("canvas"),this.fabric=new fabric.Canvas("canvas"),this.ctx=this.fabric.getContext("2d"),this.container=$(".canvas-container"),this.viewport=document.getElementById("viewport"),t.editorCustomActions={},this.fabric.selection=!1,this.fabric.renderOnAddRemove=!1,fabric.Object.prototype.borderColor="#2196F3",fabric.Object.prototype.cornerColor="#2196F3",fabric.Object.prototype.transparentCorners=!1,r||(r=t.getParam("url")),r)this.loadMainImage(r),t.started=!0;else if(t.getParam("blankCanvasSize")){var o=t.getParam("blankCanvasSize");this.openNew(o.width,o.height,"newCanvas"),t.started=!0}t.started||t.isIntegrationMode||t.delayEditorStart||e.show({template:$("#main-image-upload-dialog-template").html(),controller:"TopPanelController",clickOutsideToClose:!1}),$(window).off("resize").on("resize",function(t){(i.oldWindowDimensions.height!==t.target.innerHeight||i.oldWindowDimensions.width!==t.target.innerWidth)&&i.fitToScreen(),i.oldWindowDimensions.width=t.target.innerWidth,i.oldWindowDimensions.height=t.target.innerHeight}),t.$emit("canvas.init"),n.init(this.fabric),t.getParam("onLoad")&&t.getParam("onLoad")(this.viewport,t,window)},hideModals:function(){e.hide()},mergeObjects:function(){i.zoom(1),this.fabric.deactivateAll();var t=this.fabric.toDataURL();this.fabric.clear(),this.loadMainImage(t)},loadFromJSON:function(e,n){i.fabric.loadFromJSON(e.serialized_editor_state||e.state,function(){i.fabric.forEachObject(function(t){t.applyFilters&&t.filters.length&&t.applyFilters(i.fabric.renderAll.bind(i.fabric)),"mainImage"==t.name&&(i.mainImage=t)}),e.width&&e.height&&(i.fabric.setWidth(e.width),i.fabric.setHeight(e.height),i.original.height=e.height,i.original.width=e.width),i.fabric.renderAll(),i.fabric.calcOffset(),i.fitToScreen(),t.$emit("history.loaded"),n&&n(e)})},openNew:function(e,n,r){e=e<this.minWidth?this.minWidth:e,n=n<this.minHeight?this.minHeight:n,this.fabric.clear(),this.fabric.setWidth(e),this.fabric.setHeight(n),this.fabric.renderAll(),i.fitToScreen(),t.userPreset={width:e,height:n,name:r},i.original.height=n,i.original.width=e,t.$emit("canvas.openedNew")},center:function(t){t.center(),i.zoom>100&&(t.setLeft(10),t.setTop(35)),t.setCoords()},serialize:function(){return this.fabric.toJSON(["selectable","name"])},loadMainImage:function(e,n,r,o,a){var s;fabric.util.loadImage(e,function(e){s=new fabric.Image(e,i.imageStatic),s.name="mainImage",r&&n&&(s.width=r,s.height=n),i.mainImage=s,i.fabric.forEachObject(function(t){"mainImage"==t.name&&i.fabric.remove(t)}),i.fabric.add(s),s.top=-.5,s.left=-.5,s.moveTo(0),i.fabric.setHeight(s.height),i.fabric.setWidth(s.width),i.original.height=s.height,i.original.width=s.width,o||i.fitToScreen(),t.$apply(function(){t.$emit("editor.mainImage.loaded")}),a&&a()})},openImage:function(t){i.zoom(1),fabric.util.loadImage(t,function(t){if(t){var e=new fabric.Image(t);e.name="image";var n=i.mainImage?i.mainImage.getWidth():i.fabric.getWidth(),r=i.mainImage?i.mainImage.getHeight():i.fabric.getHeight();if(e.width>=n||e.height>=r){var o=n-.1*n,a=r-.1*r,s=1/Math.min(a/e.getHeight(),o/e.getWidth());e.scaleX=e.scaleX*(1/s),e.scaleY=e.scaleY*(1/s)}i.fabric.add(e),e.left=(i.fabric.getWidth()-e.getWidth())/2,e.top=(i.fabric.getHeight()-e.getHeight())/2,e.setCoords(),i.fabric.setActiveObject(e),i.fabric.renderAll(),i.fitToScreen()}})},getDataURL:function(t){return t||(t={}),t.multiplier=1/i.currentZoom,this.fabric.toDataURL(t)},currentZoom:1,zoom:function(t){this.fabric.setZoom(t),this.fabric.setHeight(this.original.height*t),this.fabric.setWidth(this.original.width*t),this.currentZoom=t},fitToScreen:function(){var t=i.viewport.offsetWidth-40,e=i.viewport.offsetHeight-120,n=i.mainImage||i.fabric,r=Math.min(e/n.getHeight(),t/n.getWidth());(n.getHeight()>e||n.getWidth()>t)&&i.zoom(r)}};return i}]),angular.module("image.crop",[]).service("cropper",["$rootScope","cropzone","canvas","history",function(t,e,n,i){var r={start:function(n){e.initiated||(e.add(),t.openPanel("crop",n))},stop:function(){e.remove(),t.activePanel=!1},crop:function(){if(!e.initiated)return!1;e.hide();var r=new Image;r.onload=function(){var r=new fabric.Image(this,n.imageStatic);r.name="mainImage",n.mainImage&&n.mainImage.remove(),n.fabric.clear(),n.fabric.setWidth(Math.ceil(e.rect.getWidth())),n.fabric.setHeight(Math.ceil(e.rect.getHeight())),n.fabric.add(r),r.moveTo(0),r.center(),n.mainImage=r,e.remove(),i.add("crop","crop"),t.$apply(function(){t.activePanel=!1})},n.zoom(1),t.editorCustomActions.crop={left:e.rect.getLeft(),top:e.rect.getTop(),width:Math.ceil(e.rect.getWidth()),height:Math.ceil(e.rect.getHeight())},r.src=n.fabric.toDataURL({left:e.rect.getLeft(),top:e.rect.getTop(),width:Math.ceil(e.rect.getWidth()),height:Math.ceil(e.rect.getHeight())}),n.original.width=Math.ceil(e.rect.getWidth()),n.original.height=Math.ceil(e.rect.getHeight())}};return r}]),angular.module("image.crop").service("cropzone",["$rootScope","canvas",function(t,e){var n={rect:{},dragging:!1,initiated:!1,minHeight:25,minWidth:25,setWidth:function(t){t&&(t=parseInt(t),t<this.minWidth&&(t=this.minWidth),t>e.original.width&&(t=e.original.width-25),this.rect.width=t,this.rect.setTop((e.original.height-this.rect.getHeight())/2),this.rect.setLeft((e.original.width-this.rect.getWidth())/2),this.rect.setCoords(),this.drawGrid(),this.drawOverlay(),e.fabric.renderAll())},setHeight:function(t){t&&(t=parseInt(t),t<this.minHeight&&(t=this.minHeight),t>e.original.height&&(t=e.original.height-25),this.rect.height=t,this.rect.setTop((e.original.height-this.rect.getHeight())/2),this.rect.setLeft((e.original.width-this.rect.getWidth())/2),this.rect.setCoords(),this.drawGrid(),this.drawOverlay(),e.fabric.renderAll())},add:function(){this.drawMainZone(),this.drawOverlay(),this.drawGrid(),this.attachEvents(),e.fabric.renderAll(),this.initiated=!0,t.$emit("cropzone.added")},constrainWithinCanvas:function(t){var n=t.getLeft(),i=t.getTop(),r=t.getWidth(),o=t.getHeight(),a=e.original.width-r,s=e.original.height-o;0>n&&t.set("left",0),0>i&&t.set("top",0),n>a&&t.set("left",a),i>s&&t.set("top",s)},constrainWithinCanvasOnScaling:function(t){var n=t.getLeft(),i=t.getTop(),r=t.getLeft()+t.getWidth(),o=t.getTop()+t.getHeight();if(0>n||r>e.original.width){var a=this.lastScaleX||1;t.setScaleX(a)}if(0>n&&t.setLeft(0),0>i||o>e.original.height){var s=this.lastScaleY||1;t.setScaleY(s)}0>i&&t.setTop(0),t.getWidth()<this.minWidth&&(t.width=this.minWidth,t.setScaleX(1)),t.getHeight()<this.minHeight&&(t.height=this.minHeight,t.setScaleY(1)),this.lastScaleX=t.getScaleX(),this.lastScaleY=t.getScaleY()},onMouseDown:function(t){(!t.target||"cropzone"!==t.target.name&&"crop.grid"!==t.target.name)&&(n.dragging=!0,n.overlay.visible=!1,n.grid.visible=!1,n.rect.visible=!1,n.rect.left=t.e.pageX-e.fabric._offset.left,n.rect.top=t.e.pageY-e.fabric._offset.top,n.rect.scale(1),n.overlay.scale(1),n.grid.scale(1),n.mousex=t.e.pageX,n.mousey=t.e.pageY,e.fabric.selection=!1,n.drawOverlay())},onMouseMove:function(t){if(n.dragging){var i=t.e.pageX-n.mousex,r=t.e.pageY-n.mousey;e.offset.left+e.original.width<t.e.pageX&&(i=e.offset.left+e.original.width-n.mousex),e.offset.left>t.e.pageX&&(i=e.offset.left-n.mousex),e.offset.top+e.original.height<t.e.pageY&&(r=e.offset.top+e.original.height-n.mousey),e.offset.top>t.e.pageY&&(r=e.offset.top-n.mousey),n.rect.width=i,n.rect.height=r,n.rect.moveTo(3),n.rect.setCoords(),n.drawOverlay(),n.drawGrid(),n.rect.visible||(n.rect.visible=!0,n.overlay.visible=!0,n.grid.visible=!0)}},onMouseUp:function(){n.dragging=!1,e.fabric.selection=!0,n.rect.setCoords(),n.grid.setCoords(),n.overlay.setCoords(),n.rect.visible&&e.fabric.setActiveObject(n.rect)},attachEvents:function(){this.rect.on("moving",function(){n.constrainWithinCanvas(n.rect),n.drawOverlay(),n.drawGrid()}),this.rect.on("scaling",function(t){n.constrainWithinCanvasOnScaling(n.rect,t),n.drawOverlay(),n.drawGrid()}),e.fabric.on("mouse:down",n.onMouseDown),e.fabric.on("mouse:move",n.onMouseMove),e.fabric.on("mouse:up",n.onMouseUp)},remove:function(){e.fabric.off("mouse:down",n.onMouseDown),e.fabric.off("mouse:move",n.onMouseMove),e.fabric.off("mouse:up",n.onMouseUp),e.fabric.remove(this.rect),e.fabric.remove(this.grid),e.fabric.remove(this.overlay),e.fabric.renderAll(),this.initiated=!1},hide:function(){this.rect.visible=!1,this.rect.hasControls=!1,this.grid.visible=!1,this.overlay.visible=!1},getOptimalDimensions:function(){var t=e.original.width/2,n=e.original.height/2,i=e.original.width/4,r=e.original.height/4;return e.viewport.offsetWidth<e.original.width&&(t=e.viewport.offsetWidth/2,i=e.viewport.offsetWidth/4),e.viewport.offsetHeight<e.original.height&&(n=e.viewport.offsetHeight/2,r=e.viewport.offsetHeight/4),{width:t,height:n,left:i,top:r}},drawMainZone:function(){var t=this.getOptimalDimensions();this.rect=new fabric.Rect({fill:"transparent",stroke:"rgba(255, 255, 255, 0.6)",hasBorders:!1,width:t.width,height:t.height,left:t.left,top:t.top,hasRotatingPoint:!1,name:"cropzone",cornerColor:"rgba(255, 255, 255, 0.6)",transparentCorners:!1,ignore:!0}),e.fabric.add(this.rect),this.rect.moveTo(3),e.fabric.setActiveObject(n.rect)},drawGrid:function(){this.initiated||(this.line1=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.line2=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.line3=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.line4=new fabric.Line([],{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,selectable:!1,evented:!1}),this.grid=new fabric.Group([this.line1,this.line2,this.line3,this.line4]),this.grid.originY="left",this.grid.originX="top",this.grid.ignore=!0,this.grid.selectable=!1,e.fabric.add(this.grid),this.grid.moveTo(10)),this.grid.width=this.rect.getWidth(),this.grid.height=this.rect.getHeight(),this.grid.left=this.rect.getLeft(),this.grid.top=this.rect.getTop();var t=n.rect.getWidth()/3,i=n.rect.getHeight()/3;this.line1.set({x1:t,y1:0,x2:t,y2:n.grid.getHeight()}),this.line2.set({x1:2*t,y1:0,x2:2*t,y2:n.grid.getHeight()}),this.line3.set({x1:0,y1:i,x2:n.grid.getWidth(),y2:i}),this.line4.set({x1:0,y1:2*i,x2:n.grid.getWidth(),y2:2*i}),this.constrainWithinCanvas(this.grid)},drawOverlay:function(){this.initiated||(this.topRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.rightRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.bottomRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.leftRect=new fabric.Rect({fill:"rgba(0,0,0,0.7)",selectable:!0,evented:!1}),this.overlay=new fabric.Group([this.topRect,this.rightRect,this.bottomRect,this.leftRect]),this.overlay.ignore=!0,this.overlay.name="grid.overlay",e.fabric.add(this.overlay),this.overlay.moveTo(1)),this.topRect.set({left:0,top:0,width:e.original.width,height:this.rect.getHeight()<0?this.rect.getTop()-Math.abs(this.rect.getHeight()):this.rect.getTop()}),this.rightRect.set({left:this.rect.getWidth()<0?this.rect.getLeft():this.rect.getLeft()+this.rect.getWidth(),top:this.rect.getTop(),width:this.rect.getWidth()<0?e.original.width-(this.rect.getLeft()+this.rect.getWidth())-Math.abs(this.rect.getWidth()):e.original.width-(this.rect.getLeft()+this.rect.getWidth()),height:this.rect.getHeight()}),this.bottomRect.set({left:0,top:this.rect.getHeight()<0?this.rect.getTop():this.rect.getTop()+this.rect.getHeight(),width:e.original.width,height:this.rect.getHeight()<0?e.original.height-this.rect.getTop():e.original.height-(this.rect.getTop()+this.rect.getHeight())}),this.leftRect.set({left:0,top:this.rect.getTop(),width:this.rect.getWidth()>0?this.rect.getLeft():this.rect.getLeft()-Math.abs(this.rect.getWidth()),height:this.rect.getHeight()})}};return n}]),angular.module("image.crop").controller("CropController",["$scope","$rootScope","cropper","cropzone",function(t,e,n,i){t.cropper=n,t.cropzone=i,e.$on("tab.changed",function(t,e,i){"basics"===i&&"basics"!==e&&n.stop()}),e.$watch("activePanel",function(t,e){"crop"!==t&&"crop"===e&&i.remove()}),e.$on("cropzone.added",function(){t.width=Math.round(i.rect.width),t.height=Math.round(i.rect.height)})}]),angular.module("image.basics",[]).controller("RotateController",["$scope","$rootScope","canvas","history",function(t,e,n,i){t.angle=0,t.startRotator=function(e){i.add("rotate-original-state","backup",!0),t.openPanel("rotate",e)},t.applyRotation=function(){e.activePanel=!1,i.add("rotation","rotate-right")},t.cancel=function(){i.load("rotate-original-state"),e.activePanel=!1,t.angle=0},t.rotateProper=function(t){n.zoom(1);var i=(n.mainImage.getAngle()+t)%360,r=Math.abs(n.mainImage.getWidth()*Math.sin(i*Math.PI/180))+Math.abs(n.mainImage.getHeight()*Math.cos(i*Math.PI/180)),o=Math.abs(n.mainImage.getHeight()*Math.sin(i*Math.PI/180))+Math.abs(n.mainImage.getWidth()*Math.cos(i*Math.PI/180));n.fabric.setWidth(o*n.currentZoom),n.fabric.setHeight(r*n.currentZoom),n.original.height=r,n.original.width=o,n.mainImage.center(),n.fabric.forEachObject(function(e){e.rotate((e.getAngle()+t)%360),e.setCoords()}),e.editorCustomActions.rotate=t,n.fabric.renderAll(),n.fitToScreen()},t.rotate=function(e,i){if(!(!e||e>360||0>e)){var r=!1;n.fabric.forEachObject(function(n){i&&"left"===i?e=n.getAngle()-90:i&&"right"===i&&(e=n.getAngle()+90),"center"===n.originX&&"center"===n.originY||!n.centeredRotation||(t.setOriginToCenter&&t.setOriginToCenter(n),r=!0),e=e>360?90:0>e?270:e,n.setAngle(e).setCoords(),r&&t.setCenterToOrigin&&t.setCenterToOrigin(n)}),n.fitToScreen(),n.fabric.renderAll()}},t.setOriginToCenter=function(t){t._originalOriginX=t.originX,t._originalOriginY=t.originY;var e=t.getCenterPoint();t.set({originX:"center",originY:"center",left:e.x,top:e.y})},t.setCenterToOrigin=function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),t._originalOriginX,t._originalOriginY);t.set({originX:t._originalOriginX,originY:t._originalOriginY,left:e.x,top:e.y})}}]),angular.module("image.basics").controller("CanvasBackgroundController",["$scope","$rootScope","canvas","history",function(t,e,n,i){t.setBackground=function(t){n.fabric.setBackgroundColor(t),n.fabric.renderAll()},t.apply=function(){e.activePanel=!1,i.add("Canvas Color","format-color-fill")},t.cancel=function(){e.activePanel=!1,n.fabric.setBackgroundColor(""),n.fabric.renderAll()}}]),angular.module("image.basics").controller("ResizeController",["$scope","$rootScope","canvas","history",function(t,e,n,i){function r(t,e){var i=Math.round(n.original.height*e),r=Math.round(n.original.width*t);n.fabric.setHeight(i),n.fabric.setWidth(r),n.original.width=r,n.original.height=i;var o=n.fabric.getObjects();for(var a in o){var s=o[a].scaleX,c=o[a].scaleY,l=o[a].left,u=o[a].top,h=s*t,d=c*e,f=l*t,p=u*e;o[a].scaleX=h,o[a].scaleY=d,o[a].left=f,o[a].top=p,o[a].setCoords()}n.fabric.renderAll()}t.constrainProportions=!0,t.percent=100,t.startResizer=function(e){t.width=t.usePercentages?100:Math.ceil(n.original.width),t.height=t.usePercentages?100:Math.ceil(n.original.height),i.add("beforeResize",!1,!0),n.zoom(1),t.openPanel("resize",e)},t.togglePercentages=function(e){e?(t.width=t.width/n.original.width*100,t.height=t.height/n.original.height*100):(t.width=t.width*n.original.width/100,t.height=t.height*n.original.height/100)},t.apply=function(){var o=Math.ceil(n.original.width),a=Math.ceil(n.original.height),s=Math.ceil(t.width),c=Math.ceil(t.height);if(t.usePercentages)var l=t.width/100,u=t.height/100;else var l=t.width/n.original.width,u=t.height/n.original.height;(o!==s||a!==c)&&(r(l,u),e.activePanel=!1,i.add("resize","open-width"),n.fitToScreen())},t.close=function(){e.activePanel=!1,n.fitToScreen()},t.aspectToHeight=function(e){if(t.constrainProportions)if(t.usePercentages)t.height=e;else{var i=parseFloat((n.original.width/e).toPrecision(3));t.height=Math.ceil(n.original.height/i)}},t.aspectToWidth=function(e){if(t.constrainProportions)if(t.usePercentages)t.width=e;else{var i=parseFloat((n.original.height/e).toPrecision(3));t.width=Math.floor(n.original.width/i)}}}]),angular.module("image.basics").controller("RoundedCornersController",["$scope","$rootScope","canvas","history",function(t,e,n,i){t.radius=50,t.startRoundedCorners=function(i){"round"!==e.activePanel&&(e.openPanel("round",i),t.rect=new fabric.Rect({width:n.original.width,height:n.original.height,rx:t.radius,ry:t.radius,opacity:1,fill:"transparent",name:"rounding-rect",stroke:"#fff",strokeDashArray:[5,5],selectable:!1,evented:!1,ignore:!0}),n.fabric.add(t.rect),n.fabric.renderAll())},t.adjustPreview=function(){t.rect&&(t.rect.set({rx:t.radius,ry:t.radius}),n.fabric.renderAll())},t.cancel=function(i){n.fabric.remove(t.rect),t.rect=!1,t.radius=50,n.fabric.renderAll(),i||(e.activePanel=!1)},t.apply=function(){e.editorCustomActions.roundCorners=angular.copy(t.radius),n.fabric.remove(t.rect),n.zoom(1),n.fabric.clipTo=function(e){t.rect.render(e),n.fabric.clipTo=!1};var r=n.fabric.toDataURL();n.fabric.clear(),t.cancel(),n.loadMainImage(r,!1,!1,!1,function(){e.$apply(function(){i.add("Round Corners","panorama-wide-angle")})})},e.$on("tab.changed",function(e,n,i){"basics"===i&&t.rect&&"basics"!==n&&t.cancel()}),e.$watch("activePanel",function(e,n){"round"!==e&&"round"===n&&t.cancel(!0)})}]),angular.module("ImageEditor").controller("ZoomController",["$rootScope","$scope","canvas",function(t,e,n){e.canvas=n,e.zoom=1,e.maxScale=200,e.minScale=30,t.$on("editor.mainImage.loaded",function(){e.fitToScreen()}),t.$on("canvas.openedNew",function(){e.fitToScreen()}),e.$watch("canvas.currentZoom",function(t){var n=100*t;n!==e.zoom&&(e.zoom=n)}),e.fitToScreen=function(){if(e.zoom=100*n.currentZoom,n.mainImage)var t=n.mainImage.originalState.width,i=n.mainImage.originalState.height;else var t=n.original.width,i=n.original.height;var r=100*Math.min(3582/i,5731/t),o=100*Math.min(141/i,211/t);e.maxScale=Math.ceil(r),e.minScale=Math.ceil(o),n.zoom(n.currentZoom)},t.$on("history.loaded",function(){e.zoom=100*n.currentScale}),e.doZoom=function(){n.zoom(e.zoom/100)},e.getCurrentZoom=function(){return Math.round(100*n.currentZoom)}}]),angular.module("ImageEditor").controller("TopPanelController",["$rootScope","$scope","$mdDialog","$mdToast","$$rAF","canvas","history","saver",function(t,e,n,i,r,o,a,s){e.history=a,e.isDemo=t.isDemo,e.canOpenImage=!1,e.canvas=o,e.openImageMode="open",e.canvasWidth=800,e.canvasHeight=600,e.imageName="image",e.imageType="jpeg",e.imageQuality=8,e.objectsPanelOpen=!0,e.historyPanelOpen=!1,e.openUploadDialog=function(t){n.show({template:$("#main-image-upload-dialog-template").html(),targetEvent:t,controller:"TopPanelController",clickOutsideToClose:!0})},e.toggleRightPanel=function(t){var n=e[t+"PanelOpen"];n?(e[t+"PanelOpen"]=!1,$("#"+t).hide()):(e[t+"PanelOpen"]=!0,$("#"+t).show())},e.transformOpen=function(t,n){var i=$("#"+t);i.removeClass("transition-out transition-in").show(),e.transformToClickElement(i,n),r(function(){i.addClass("transition-in").css("transform",""),n.currentTarget.blur()})},e.transformClose=function(n,i){var r=$("#"+n);r.addClass("transition-out").removeClass("transition-in"),e.transformToClickElement(r,i),r.one(t.transitionEndEvent,function(){r.hide().css("transform","").removeClass("transition-out"),i.currentTarget.blur()})},e.transformToClickElement=function(t,e){var n=e.target.getBoundingClientRect(),i=t[0].getBoundingClientRect(),r=Math.min(.5,n.width/i.width),o=Math.min(.5,n.height/i.height);t.css("transform","translate3d("+(-i.left+n.left+n.width/2-i.width/2)+"px,"+(-i.top+n.top+n.height/2-i.height/2)+"px,0) scale("+r+","+o+")")},e.openSaveDialog=function(e){return t.getParam("onSaveButtonClick")?t.getParam("onSaveButtonClick")():t.delayEditorStart?s.saveImage():void n.show({template:$("#save-image-dialog").html(),targetEvent:e,controller:"TopPanelController",clickOutsideToClose:!0})
},e.createNewCanvas=function(n,i){o.openNew(n,i),e.closeUploadDialog(),t.started=!0,t.resetUI()},e.openSampleImage=function(){o.loadMainImage("assets/images/lotus.jpg"),e.closeUploadDialog(),t.started=!0},e.saveImage=function(t){s.saveImage(e.imageType,e.imageQuality,e.imageName,t)},e.showImagePreview=function(n){return"data"!==n.substr(0,4)?(e.$apply(function(){e.canOpenImage=!1}),o.fabric.clear(),a.load(JSON.parse(n)),e.closeUploadDialog(),void(t.started=!0)):void fabric.util.loadImage(n,function(t){e.$apply(t?function(){$(".img-preview").html("").append(t),e.canOpenImage=!0}:function(){e.canOpenImage=!1})})},e.openImage=function(){var n=$(".img-preview img").attr("src");n&&e.canOpenImage&&(o.fabric._objects.length&&o.mainImage||t.userPreset?o.openImage(n):(o.fabric.clear(),o.loadMainImage(n)),e.closeUploadDialog(),t.started=!0)},e.closeUploadDialog=function(){e.canUploadImage=!1,e.openImageMode="open",$(".img-preview").html(),n.hide()}}]),angular.module("image.directives",[]).directive("edTabs",["$rootScope",function(t){return{link:function(e,n,i){var r=!1;$("#"+i.edTabs).addClass("open"),$('[data-activates="'+i.edTabs+'"]').addClass("active"),n.find("#navigation-bar").on("click",".nav-item",function(n){r!==!0&&e.$apply(function(){r=!0,t.activeTab=n.currentTarget.dataset.activates})}),t.$watch("activeTab",function(t,e){if(t&&t!==e){var i=n.find(e?"#"+e:".tab.open");o(t,i,n.find("#"+t),$('[data-activates="'+t+'"]'))}});var o=function(n,i,o,a){var s="fadeInLeft",c="fadeOutRight";a.hasClass("active")||($(".nav-item.active").removeClass("active"),a.addClass("active"),parseInt(o.data("index"))<parseInt(i.data("index"))&&(c="fadeOutLeft",s="fadeInRight"),i.addClass("animated "+c).one(t.animationEndEvent,function(){o[0].id===e.activeTab&&$(this).removeClass("open "+c)}),o.addClass("open animated "+s).one(t.animationEndEvent,function(){$(this).removeClass(s)}),t.$emit("tab.changed",n,i[0].id),t.activePanel=!1,setTimeout(function(){o.removeClass("fadeOutRight fadeOutLeft"),r=!1},270))}}}}]),angular.module("image.directives").directive("edPrettyScrollbar",function(){return{restrict:"A",compile:function(t,e){setTimeout(function(){t.mCustomScrollbar({theme:e.edScrollTheme||"inset",scrollInertia:300,autoExpandScrollbar:!1,axis:e.edScrollAxis||"x",advanced:{autoExpandHorizontalScroll:!0}})},1)}}}).directive("edIeSliderFix",function(){return{restrict:"A",template:'<div class="slider-fix-outter" style="height: 2px; position: absolute"><div class="slider-fix-inner" style="height: 1px; overflow: auto;">IE FIX</div></div>',compile:function(t){t.find(".slider-fix-inner").mCustomScrollbar()}}}),angular.module("image.directives").directive("edColorPicker",["$rootScope","$parse",function(t,e){return{link:function(t,n,i){var r="edFlat"in i;t.$watch(i.ngDisabled,function(t){n.spectrum(t?"disable":"enable")});var o={color:i.startColor,clickoutFiresChange:!0,showPalette:!r,palette:colorsForPicker,preferredFormat:"hex",showAlpha:!0,showInput:!0,flat:r,showButtons:!r},a=function(r){e(i.edColorPicker)(t,{color:r.toString()}),n.val(r.toString())};void 0!==i.edDiscrete?(n.on("dragstop.spectrum",function(t,e){a(e)}),o.change=function(t){a(t)}):o.move=function(t){a(t)},n.spectrum(o)}}}]),angular.module("image.directives").directive("edFileUploader",["$parse","$mdDialog","$mdBottomSheet",function(t,e,n){var i=["png","jpg","jpeg","gif"];return{restrict:"A",link:function(r,o,a){var s=t(a.edFileUploader)(r);$(o[0]).on("change",function(t){var r=new FileReader;r.onload=function(t){var r=t.target.result.split(",")[0].split(":")[1].split(";")[0].split("/")[1];i.indexOf(r)<0,s&&(s(t.target.result),"undefined"!=typeof a.edCloseAfter&&(e.hide(),n.hide()))},t.target.files[0].name.match(".json")?r.readAsText(t.target.files[0]):r.readAsDataURL(t.target.files[0])})}}}]),angular.module("image.directives").directive("edTogglePanelVisibility",function(){return{restrict:"A",compile:function(t,e){t.on("click",function(){t.find(".icon").toggleClass("toggled"),$("#"+e.edTogglePanelVisibility).find("ul").mCustomScrollbar("disable").slideToggle(150,function(){$(this).mCustomScrollbar("update")})})}}}),angular.module("image.directives").directive("edToggleSidebar",function(){return{restrict:"A",compile:function(t){var e=$("#left-sidebar");t.on("click",function(){e.toggleClass("open")})}}}),angular.module("image.text",[]).service("text",["$rootScope","canvas",function(t,e){var n={removeTextFromCanvas:function(t){t||(t=e.fabric.getActiveObject()),t.setFontSize&&(e.fabric.remove(t),e.fabric.renderAll())},getTextObject:function(){var t=e.fabric.getActiveObject();if(t&&t.fontFamily)return t;if(!t||!t.fontFamily)for(var n=e.fabric.getObjects(),i=0;i<n.length;i++)if(n[i].fontFamily)return n[i]},toggleTextDecoration:function(t){var n=this.getTextObject(),i=n.textDecoration.trim();"italic"==t?n.setFontStyle(n.fontStyle.indexOf("italic")>-1?"normal":"italic"):(i.indexOf(t)>-1?i=i.replace(t,"").trim():i+=" "+t,n.setTextDecoration&&n.setTextDecoration(i)),e.fabric.renderAll();var r=n.fontStyle+" "+n.textDecoration.trim();return r.split(" ")},setProperty:function(t,n){var i=this.getTextObject(),r=this.makeSetterName(t);i[r]&&i[r](n),e.fabric.renderAll()},toggleProperty:function(t,n){var i=this.getTextObject(),r=this.makeSetterName(t);i[r]&&i[r](n),e.fabric.renderAll()},makeSetterName:function(t){return"set"+t.charAt(0).toUpperCase()+t.slice(1)}};return n}]),angular.module("image.text").controller("TextController",["$scope","$rootScope","$timeout","canvas","text","fonts",function(t,e,n,i,r,o){t.text=r,t.fonts=o,t.opacity=1,t.fontSize=25,t.enableOutline=!0,t.filters={category:"handwriting",family:""},t.isPanelEnabled=function(){var t=i.fabric.getActiveObject();return t&&"text"===t.name&&"text"===e.activeTab},t.changeFont=function(t,n){var o=i.fabric.getActiveObject();if(e.openPanel("text",n),!o||"text"!==o.name){var a=new fabric.IText("Double click me to edit my contents.",{fontWeight:400,fontSize:28/i.currentZoom,fill:"#fff",removeOnCancel:!0,name:"text"});i.fabric.add(a),a.setTop(25),a.setLeft(25),i.fabric.setActiveObject(a),i.fabric.renderAll()}r.setProperty("fontFamily",t)},t.cancelAddingTextToCanvas=function(){var t=r.getTextObject();t.removeOnCancel&&r.removeTextFromCanvas(t),e.activePanel=!1},t.finishAddingTextToCanvas=function(){var t=r.getTextObject();e.activePanel=!1,e.$emit("text.added",t),i.fabric.setActiveObject(i.mainImage),o.createLinkToFont(t.fontFamily)},e.$on("tab.changed",function(e,n){if("text"==n){var r=t.text.getTextObject();r&&(r.removeOnCancel=!1,i.fabric.setActiveObject(r))}}),o.getAll(t.filters)}]),angular.module("image.text").directive("edTextAlignButtons",["text",function(t){return{compile:function(e){e.on("click","i",function(n){var i=n.currentTarget.dataset.align;t.setProperty("textAlign",i),e.find("i").removeClass("active"),$(n.currentTarget).addClass("active")})}}}]),angular.module("image.text").directive("edTextDecorationButtons",["text",function(t){return{compile:function(e){e.on("click",".toolbar-btn",function(n){var i=n.currentTarget.dataset.decoration,r=t.toggleTextDecoration(i);e.find(".toolbar-btn").removeClass("active");for(var o=0;o<r.length;o++)e.find('[data-decoration="'+r[o].trim()+'"]').addClass("active")})}}}]),angular.module("image.text").directive("edFontsPagination",["$rootScope","fonts",function(t,e){return{restrict:"A",link:function(t,n){n.pagination({items:0,itemsOnPage:e.paginator.perPage,onPageClick:function(n){t.$apply(function(){e.paginator.selectPage(n)})}}),t.$watch("fonts.paginator.totalItems",function(t){t&&n.pagination("updateItems",t)})}}}]).factory("fonts",["$rootScope","$http","$timeout","$filter","localStorage",function(t,e,n,i,r){var o={loading:!1,paginator:{sourceItems:[],filteredItems:[],currentItems:[],perPage:17,totalItems:0,selectPage:function(t){this.currentItems=this.filteredItems.slice((t-1)*this.perPage,(t-1)*this.perPage+this.perPage),o.load()},filter:function(t){this.start(i("filter")(o.paginator.sourceItems,t))},start:function(t){this.filteredItems=t,this.totalItems=t.length,this.currentItems=t.slice(0,this.perPage),o.load()}},getAll:function(n){var i=this,o=r.get("googleFonts"),a=t.keys.google_fonts;return o?(i.paginator.sourceItems=o,n?i.paginator.filter(n):i.paginator.start(o)):void e.get("https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key="+a).success(function(t){r.set("googleFonts",t.items),i.paginator.sourceItems=t.items,n?i.paginator.filter(n):i.paginator.start(t.items)})},load:function(e){var n=$("head");t.loading=!0,e?angular.isArray(e)||(e=[e]):e=$.map(o.paginator.currentItems,function(t){return t.family}),$(n).find("#dynamic-fonts").remove(),n.append('<link rel="stylesheet" id="dynamic-fonts" href="http://fonts.googleapis.com/css?family='+e.join("|").replace(/ /g,"+")+'">'),t.loading=!1},createLinkToFont:function(t){var e=t.replace(/ /g,"+"),n=$("#"+e);n[0]?n.attr("href","http://fonts.googleapis.com/css?family="+e):$("head").append('<link rel="stylesheet" id="'+e+'" href="http://fonts.googleapis.com/css?family='+e+'">')}};return o}]),angular.module("image.drawing",[]).service("drawing",["$rootScope","canvas",function(t,e){var n={availableBrushes:["pencil","vLine","diamond","hLine","circle","square","spray"],defaultBrushName:"pencil",activeBrushName:!1,isEnabled:!1,params:{shadowColor:"#1E89E6",brushWidth:9,brushColor:"#000",shadowBlur:30,shadowOffsetX:10,shadowOffsetY:10,enableShadow:!1},enable:function(){e.fabric.isDrawingMode=!0,this.changeBrush(this.defaultBrushName),this.shadow||(this.shadow=new fabric.Shadow({color:this.params.shadowColor,blur:this.params.shadowBlur,offsetX:this.params.shadowOffsetX,offsetY:this.params.shadowOffsetY})),this.isEnabled=!0},disable:function(){e.fabric.isDrawingMode=!1,this.isEnabled=!1},setShadowProperty:function(t,n){e.fabric.freeDrawingBrush.shadow[t]&&(e.fabric.freeDrawingBrush.shadow[t]=n)},setProperty:function(t,n){e.fabric.freeDrawingBrush[t]&&(e.fabric.freeDrawingBrush[t]=n)},toggleShadow:function(t){t?e.fabric.freeDrawingBrush.shadow=this.shadow:(this.shadow=e.fabric.freeDrawingBrush.shadow,e.fabric.freeDrawingBrush.shadow=void 0)},changeBrush:function(t){this.activeBrushName=t,t=this.makeBrushName(t),fabric[t]?e.fabric.freeDrawingBrush=new fabric[t](e.fabric):this[t]?e.fabric.freeDrawingBrush=this[t]:this["make"+t]&&(e.fabric.freeDrawingBrush=this["make"+t]()),e.fabric.freeDrawingBrush.width=this.params.brushWidth,e.fabric.freeDrawingBrush.color=this.params.brushColor,this.params.enableShadow&&(e.fabric.freeDrawingBrush.shadow=this.shadow)},makeBrushName:function(t){return t.charAt(0).toUpperCase()+t.slice(1)+"Brush"},makeVLineBrush:function(){return this.VLineBrush=new fabric.PatternBrush(e.fabric),this.VLineBrush.getPatternSrc=function(){var t=fabric.document.createElement("canvas");t.width=t.height=10;var e=t.getContext("2d");return e.strokeStyle=this.color,e.lineWidth=5,e.beginPath(),e.moveTo(0,5),e.lineTo(10,5),e.closePath(),e.stroke(),t},this.VLineBrush},makeDiamondBrush:function(){return this.DiamondBrush=new fabric.PatternBrush(e.fabric),this.DiamondBrush.getPatternSrc=function(){var t=10,e=5,n=fabric.document.createElement("canvas"),i=new fabric.Rect({width:t,height:t,angle:45,fill:this.color}),r=i.getBoundingRectWidth();n.width=n.height=r+e,i.set({left:r/2,top:r/2});var o=n.getContext("2d");return i.render(o),n},this.DiamondBrush},makeHLineBrush:function(){return this.HLineBrush=new fabric.PatternBrush(e.fabric),this.HLineBrush.getPatternSrc=function(){var t=fabric.document.createElement("canvas");t.width=t.height=10;var e=t.getContext("2d");return e.strokeStyle=this.color,e.lineWidth=5,e.beginPath(),e.moveTo(5,0),e.lineTo(5,10),e.closePath(),e.stroke(),t},this.HLineBrush},makeSquareBrush:function(){return this.SquareBrush=new fabric.PatternBrush(e.fabric),this.SquareBrush.getPatternSrc=function(){var t=10,e=2,n=fabric.document.createElement("canvas");n.width=n.height=t+e;var i=n.getContext("2d");return i.fillStyle=this.color,i.fillRect(0,0,t,t),n},this.SquareBrush}};return n}]),angular.module("image.drawing").controller("DrawingController",["$scope","$rootScope","canvas","drawing","history",function(t,e,n,i,r){t.drawing=i,window.fb=n.fabric,t.changeBrush=function(e,n){t.openPanel("drawing",n),i.isEnabled||i.enable(),i.changeBrush(e)},t.finishAddingDrawingsToCanvas=function(){e.activePanel=!1,n.mainImage&&n.fabric.setActiveObject(n.mainImage),n.fabric.forEachObject(function(t){"freeDrawing"===t.name&&(t.removeOnCancel=!1)}),i.disable(),r.add("added drawing","brush")},t.cancelAddingDrawingsToCanvas=function(){n.fabric.forEachObject(function(t){"freeDrawing"===t.name&&t.removeOnCancel&&n.fabric.remove(t)}),i.disable(),n.fabric.renderAll(),e.activePanel=!1},e.$on("tab.changed",function(e,n){"drawing"!==n&&(i.disable(),t.cancelAddingDrawingsToCanvas())}),n.fabric.on("path:created",function(t){i.isEnabled&&(t.path.setOptions(n.imageStatic),t.path.name="freeDrawing",t.path.removeOnCancel=!0)})}]),angular.module("image.directives").directive("edRenderBrushes",["$rootScope","$compile",function(t,e){return{link:function(n,i){var r='<div ng-repeat="brush in drawing.availableBrushes" ng-class="{ active: drawing.activeBrushName == brush }" class="brush animated-in-sequence" ng-click="changeBrush(brush)"><img class="img-responsive" ng-src="assets/images/brushes/{{brush}}.png"/><div class="brush-name">{{ brush }}</div></div>',o=t.$on("tab.changed",function(t,a){"drawing"===a&&(n.$apply(function(){i.append(e(r)(n))}),o())})}}}]),angular.module("ImageEditor").factory("history",["$rootScope","canvas",function(t,e){var n={all:[],ignored:[],add:function(t,n,i){var r=i?"ignored":"all";if("ignored"===r)for(var o=0;o<this.ignored.length;o++)this.ignored[o].name===t&&this.ignored.splice(o,1);this[r].unshift({name:t,state:e.fabric.toJSON(["selectable","name"]),index:this.all.length+1,icon:n,zoom:e.zoom,canvasWidth:e.original.width||e.fabric.getWidth(),canvasHeight:e.original.height||e.fabric.getHeight()})},get:function(t,e){e||(e="ignored");for(var i=0;i<n[e].length;i++)if(n[e][i].name===t)return n[e][i]},getCurrentCanvasState:function(){return{state:e.fabric.toJSON(["selectable","name"]),index:this.all.length+1,zoom:e.zoom,canvasWidth:e.original.width||e.fabric.getWidth(),canvasHeight:e.original.height||e.fabric.getHeight()}},load:function(n){return t.isLoading(),angular.isString(n)&&(n=this.get(n)),n?void setTimeout(function(){e.fabric.loadFromJSON(n.state,function(){e.fabric.forEachObject(function(t){t.applyFilters&&t.filters.length&&t.applyFilters(e.fabric.renderAll.bind(e.fabric)),"mainImage"==t.name&&(e.mainImage=t)}),e.zoom(1),n.canvasWidth&&n.canvasHeight&&(e.fabric.setWidth(n.canvasWidth),e.fabric.setHeight(n.canvasHeight),e.original.width=n.canvasWidth,e.original.height=n.canvasHeight),e.fabric.renderAll(),e.fabric.calcOffset(),t.isNotLoading(),e.fitToScreen(),t.$emit("history.loaded")})},30):t.isNotLoading()}};return n}]),angular.module("ImageEditor").factory("saver",["$rootScope","$mdDialog","$http","$timeout","canvas","cropper","history",function(t,e,n,i,r,o,a){var s={saveImage:function(e,n,i,a){return r.fabric.deactivateAll(),o.stop(),t.isDemo?this.handleDemoSiteSave(a):t.isIntegrationMode?this.handleIntegrationModeSave(e,n,i):void this.saveToComputer(e,n,i)},handleIntegrationModeSave:function(n,i,o){r.zoom(1);var a=this.getDataUrl(n,i);this.handleCallbacks(a,o),$(".md-dialog-container").remove(),e.hide(),t.pixie.close()},saveToComputer:function(t,n,i){r.zoom(1);var o=document.createElement("a"),a=this.getDataUrl(t,n);this.handleCallbacks(a,i),"undefined"!=typeof o.download?(o.download=(i||"image")+"."+t,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o)):r.fabric.lowerCanvasEl.toBlob(function(e){saveAs(e,i+"."+t)},"image/"+t,n),e.hide()},handleCallbacks:function(e,i){if(t.getParam("replaceOriginal")&&t.getParam("image")&&(t.getParam("image").src=e),t.getParam("saveUrl")&&n.post(t.getParam("saveUrl"),{data:e,name:i}),t.getParam("onSave")){var r=t.getParam("image")||new Image(e);t.getParam("onSave")(e,r,i)}},handleDemoSiteSave:function(e){$(".demo-alert").one(t.animationEndEvent,function(){$(this).removeClass("animated shake"),e.target.blur()}).addClass("animated shake")},getDataUrl:function(t,e){return"json"===t?"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a.getCurrentCanvasState())):r.fabric.toDataURL({format:t||"png",quality:(e||8)/10})}};return s}]),angular.module("image.filters",[]).controller("FiltersController",["$scope","$rootScope","canvas","filters",function(t,e,n,i){t.filters=i,e.$on("history.loaded",function(){if(n.mainImage){for(var e=[],r=0;r<n.mainImage.filters.length;r++)e.push(n.mainImage.filters[r].name);t.$apply(function(){i.appliedFilters=e})}})}]),angular.module("image.filters").service("filters",["$rootScope","canvas","history",function(t,e,n){var i={all:[{name:"grayscale"},{name:"invert"},{name:"sepia"},{name:"sepia2"},{name:"removeWhite",options:{distance:{current:10},threshold:{current:50}}},{name:"brightness",options:{brightness:{current:50}}},{name:"noise",options:{noise:{current:40,max:600}}},{name:"GradientTransparency",displayName:"Gradient",options:{threshold:{current:40}}},{name:"pixelate",options:{blocksize:{max:40,current:2}}},{name:"sharpen",uses:"Convolute",matrix:[0,-1,0,-1,5,-1,0,-1,0]},{name:"blur",uses:"Convolute",matrix:[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9]},{name:"emboss",uses:"Convolute",matrix:[1,1,1,1,.7,-1,-1,-1,-1]},{name:"tint",options:{opacity:{current:.5,min:.1,max:1,step:.1},color:{colorpicker:!0,current:"#FF4081"}}},{name:"multiply",options:{color:{colorpicker:!0,current:"#FF4081"}}},{name:"blend",options:{mode:{current:"add",select:!0,available:["add","multiply","subtract","diff","screen","lighten","darken"]},alpha:{current:.5,min:.1,max:1,step:.1},color:{colorpicker:!0,current:"#FF4081"}}}],appliedFilters:[],applyFilter:function(r){if(this.filterExists(r)){if(this.filterAlreadyApplied(r.name))return this.removeFilter(r);t.isLoading(),i.markAsApplied(r.name),setTimeout(function(){e.fabric.forEachObject(function(t){t.applyFilters&&(t.filters.push(i.getFilter(r)),t.applyFilters(e.fabric.renderAll.bind(e.fabric)))}),n.add("filter: "+(r.displayName||r.name),"brightness-6"),i.lastAppliedFilter=r,t.isNotLoading()},30)}},removeFilter:function(n){this.filterExists(n)&&(t.isLoading(),i.unmarkAsApplied(n.name),setTimeout(function(){e.fabric.forEachObject(function(t){if(t.applyFilters)for(var i=0;i<t.filters.length;i++)t.filters[i].name.toLowerCase()===n.name.toLowerCase()&&(t.filters.splice(i,1),t.applyFilters(e.fabric.renderAll.bind(e.fabric)))}),i.lastAppliedFilter=!1,t.isNotLoading()},30))},applyValue:function(n,i,r){t.isLoading(),setTimeout(function(){e.fabric.forEachObject(function(t){if(t.applyFilters)for(var o=0;o<t.filters.length;o++){var a=t.filters[o];a.type.toLowerCase()===n.toLowerCase()&&(a[i]=r,t.applyFilters(e.fabric.renderAll.bind(e.fabric)))}}),t.isNotLoading()},30)},filterAlreadyApplied:function(t){return-1!==this.appliedFilters.indexOf(t)},markAsApplied:function(t){-1===this.appliedFilters.indexOf(t)&&this.appliedFilters.push(t)},unmarkAsApplied:function(t){for(var e=0;e<this.appliedFilters.length;e++)this.appliedFilters[e]===t&&this.appliedFilters.splice(e,1)},filterExists:function(t){return void 0!==fabric.Image.filters[fabric.util.string.capitalize(t.uses||t.name,!0)]},getFilter:function(t){var e;if(t.uses)e=new(fabric.Image.filters[fabric.util.string.capitalize(t.uses,!0)])({matrix:t.matrix});else{var n={};for(var i in t.options)n[i]=t.options[i].current;e=new(fabric.Image.filters[fabric.util.string.capitalize(t.name,!0)])(n)}return e.name=t.name,e}};return i}]),angular.module("image.shapes",[]).controller("SimpleShapesController",["$scope","$rootScope","$timeout","canvas","simpleShapes",function(t,e,n,i,r){t.shapes=r,t.available=["rect","triangle","circle","ellipse","polygon"],t.isPanelEnabled=function(){var e=i.fabric.getActiveObject();return e&&t.available.indexOf(e.name)>-1&&r.selected.options},i.fabric.on("object:selected",function(t){"simple-shapes"===e.activeTab&&r.selectShape(t.target.name)})}]),angular.module("image.shapes").controller("StickersController",["$scope","$rootScope","canvas","simpleShapes","history","settings",function(t,e,n,i,r,o){t.shapes=i,t.opacity=.9,e.$on("settings.ready",function(){for(var e=o.get("stickers"),n=e.length-1;n>=0;n--)e[n].items=new Array(e[n].items);t.categories=e}),t.activeCategory="doodles",t.activeStickerIsSvg=function(){var t=n.fabric.getActiveObject();return t&&angular.isDefined(t.svgUid)},t.isPanelEnabled=function(){var t=n.fabric.getActiveObject();return t&&"sticker"===t.name&&"stickers"===e.activeTab},t.setActiveCategory=function(e){t.activeCategory=t.activeCategory===e?!1:e},t.setOpacity=function(t){i.getShape("sticker").setOpacity(t),n.fabric.renderAll()},t.setColor=function(t){var e=i.getShape("sticker");if(e.isSameColor&&e.isSameColor()||!e.paths)e.setFill(t);else if(e.paths)for(var r=0;r<e.paths.length;r++)e.paths[r].setFill(t);n.fabric.renderAll()},t.addToCanvas=function(e,i,o){t.loading||(t.loading=!0,t.openPanel("stickers",o),"svg"===e.type?fabric.loadSVGFromURL("assets/images/stickers/"+e.name+"/"+i+"."+e.type,function(e,i){var o=fabric.util.groupSVGElements(e,i);o.name="sticker",n.fabric.add(o),o.scaleToHeight(.4*n.fabric.getHeight()),o.center(),o.setCoords(),n.fabric.setActiveObject(o),n.fabric.renderAll(),t.$apply(function(){t.loading=!1}),r.add("Added: Sticker","favorite")}):fabric.util.loadImage("assets/images/stickers/"+e.name+"/"+i+"."+e.type,function(e){var i=new fabric.Image(e);i.name="sticker",n.fabric.add(i),i.center(),i.setCoords(),i.scaleToHeight(.4*n.original.height),n.fabric.setActiveObject(i),n.fabric.renderAll(),t.$apply(function(){t.loading=!1}),r.add("Added: Sticker","favorite")}))}}]),angular.module("image.shapes").directive("edStickersCategories",function(){return{restrict:"A",link:function(t,e){var n=t.$watch("activeTab",function(t){if("stickers"===t){var e=$(".category-stickers.open");e.find("img").each(function(){this.src=this.dataset.src}),e.parent().addClass("loaded"),n()}});e.on("click",".category-header",function(e){t.$apply(function(){t.setActiveCategory(e.target.dataset.name)});var n=$(e.currentTarget).parent();n.hasClass("loaded")||n.addClass("loaded").find("img").each(function(){this.src=this.dataset.src})})}}}),angular.module("image.shapes").filter("orderOptions",function(){return function(t,e,n){var i=[];return angular.forEach(t,function(t,e){t.name=e,i.push(t)}),i.sort(function(t,n){return t[e]>n[e]?1:-1}),n&&i.reverse(),i}}).service("simpleShapes",["$rootScope","canvas","polygon","history",function(t,e,n,i){var r={gradients:edGradients,textures:new Array(28),baseOptions:{main:{enabled:!0,opacity:{type:"slider",current:1,min:.1,max:1,step:.1},fill:{type:"colorpicker",current:"#263238",hidden:!0}},border:{enabled:!1,onToggle:"toggleBorder",stroke:{type:"colorpicker",current:"#2196F3",displayName:"Color"},strokeWidth:{type:"slider",current:5,max:40,displayName:"Width"}},shadow:{enabled:!1,onToggle:"toggleShadow",color:{type:"colorpicker",current:"rgba(0,0,0,0.5)"},blur:{type:"slider",current:5,max:80},offsetX:{type:"slider",current:8,max:30},offsetY:{type:"slider",current:5,max:30}}},available:[],selected:!1,fillWithGradient:function(t,n){var i=e.fabric.getActiveObject();i.setGradient(n||"fill",this.gradients[t]),e.fabric.renderAll()},fillWithImage:function(t){var n=e.fabric.getActiveObject();fabric.util.loadImage(t,function(t){n.setPatternFill({source:t}),e.fabric.renderAll()})},addToCanvas:function(t){if(this.shapeExists(t)){if(this.selected=t,t.service&&t.service.enable)return t.service.enable();var n=this.createNewShape(t);e.fabric.add(n),e.center(n),e.fabric.setActiveObject(n),e.fabric.renderAll(),i.add("Added: "+t.name,"panorama-vertical")}},applyValue:function(t,n,i,r){var o="set"+fabric.util.string.capitalize(i,!0),a=this.getShape(n);return"shadow"===t?this.applyShadowValue(a,i,r):void(this.selected&&this.selected.name===n&&(a[o]?a[o](r):a[i]=r,a.setCoords(),e.fabric.setActiveObject(a),e.fabric.renderAll()))},applyShadowValue:function(t,n,i){if(t){var r={color:this.selected.options.shadow.color.current,blur:this.selected.options.shadow.blur.current,offsetX:this.selected.options.shadow.offsetX.current,offsetY:this.selected.options.shadow.offsetY.current};n&&i&&(r[n]=i),t.setShadow(r),e.fabric.renderAll()}},toggleShadow:function(t,n){n?this.applyShadowValue(this.getShape(t)):(this.getShape(t).setShadow(!1),e.fabric.renderAll())},toggleBorder:function(t,n){this.getShape(t).setStroke(n?this.selected.options.border.stroke:!1),e.fabric.renderAll()},shapeExists:function(t){for(var e=0;e<this.available.length;e++)if(this.available[e].name===t.name)return!0},getShape:function(t){var n=e.fabric.getActiveObject();return n&&n.name===t?n:(e.fabric.forEachObject(function(i){return i.name===t?(e.fabric.setActiveObject(i),n=i):void 0}),n)},createNewShape:function(t){var e=fabric.util.string.capitalize(t.name,!0);if(fabric[e]){var n={strokeWidth:t.options.border.strokeWidth.current};if(angular.forEach(t.options.main,function(t,e){"boolean"!=typeof t&&(n[e]=t.current)}),t.options.points)var i=new fabric[e](t.options.points.current,n);else var i=new fabric[e](n);return i.name=t.name,i}},selectShape:function(t){if(t&&this.selected.name!==t)for(var e=0;e<this.available.length;e++)if(this.available[e].name===t)return this.selected=this.available[e]}},o=angular.copy(r.baseOptions);o.main.radius={type:"slider",current:72,min:20},r.available.push({name:"circle",options:o});var a=angular.copy(r.baseOptions);a.main.width={type:"slider",current:140},a.main.height={type:"slider",current:140},r.available.push({name:"rect",displayName:"rectangle",options:a});var s=angular.copy(r.baseOptions);s.main.width={type:"slider",current:140,min:25},s.main.height={type:"slider",current:140,min:25},r.available.push({name:"triangle",options:s});var c=angular.copy(r.baseOptions);return c.main.rx={type:"slider",current:80,displayName:"horizontal radius"},c.main.ry={type:"slider",current:30,displayName:"vertical radius"},r.available.push({name:"ellipse",options:c}),r.available.push({name:"polygon",options:angular.copy(r.baseOptions),service:n}),r}]),angular.module("image.shapes").service("polygon",["$rootScope","$mdDialog","canvas",function(t,e,n){var i={mode:"add",currentShape:!1,onMouseMove:function(t){var e=n.fabric.getPointer(t.e);if("edit"===i.mode&&i.currentShape){var r=i.currentShape.get("points");r[r.length-1].x=e.x-i.currentShape.get("left"),r[r.length-1].y=e.y-i.currentShape.get("top"),i.currentShape.set({points:r}),n.fabric.renderAll()}},onMouseDown:function(t){var e=n.fabric.getPointer(t.e);if("add"===i.mode){var r=new fabric.Polygon([{x:e.x,y:e.y},{x:e.x+.5,y:e.y+.5}],{fill:"black",opacity:1,selectable:!1});i.currentShape=r,i.currentShape.name="polygon",n.fabric.add(i.currentShape),i.mode="edit"}else if("edit"===i.mode&&i.currentShape&&"polygon"===i.currentShape.type){var o=i.currentShape.get("points");o.push({x:e.x-i.currentShape.get("left"),y:e.y-i.currentShape.get("top")}),i.currentShape.set({points:o}),n.fabric.renderAll()}},onEscape:function(t){(!t&&i.currentShape||t&&27===t.keyCode)&&("edit"===i.mode||"add"===i.mode?(i.mode="normal",i.currentShape.set({selectable:!0}),i.currentShape._calcDimensions(),i.currentShape.setCoords(),n.fabric.setActiveObject(i.currentShape),n.fabric.renderAll()):i.mode="add",i.currentShape=null)},onClick:function(t){var e=$(t.target).closest(".md-dialog-container")[0];"CANVAS"===t.target.nodeName||"polygon"===$(t.target).closest(".shape").data("name")||e||i.disable()},enable:function(){this.enabled||(this.enabled=!0,n.fabric.on("mouse:move",i.onMouseMove),n.fabric.on("mouse:down",i.onMouseDown),fabric.util.addListener(window,"keyup",i.onEscape),setTimeout(function(){fabric.util.addListener(window,"click",i.onClick)},20),e.show({templateUrl:"modals/polygon.html",clickOutsideToClose:!0,controller:["$scope","$mdDialog",function(t,e){t.closeModal=e.hide}]}))},disable:function(){this.enabled=!1,n.fabric.off("mouse:move",i.onMouseMove),n.fabric.off("mouse:down",i.onMouseDown),fabric.util.removeListener(window,"keyup",i.onEscape),fabric.util.removeListener(window,"click",i.onClick),i.onEscape()}};return i}]),angular.module("ImageEditor").controller("ObjectsPanelController",["$scope","$rootScope","$timeout","canvas",function(t,e,n,i){t.objects=i.fabric._objects||[],t.sortableOptions={items:".object:visible",scroll:!1,containment:"parent",start:function(t,e){e.item.data("start",e.item.index())},update:function(t,e){var r=e.item.data("start"),o=e.item.index();if(obj=i.fabric.getObjects()[r]){if(o>r)for(var a=0;o-r>a;a++)i.fabric.bringForward(obj);else for(var a=0;r-o>a;a++)i.fabric.sendBackwards(obj);n(function(){i.fabric.renderAll(),r=!1,o=!1})}}},t.setAsActive=function(t){t&&i.fabric.setActiveObject(t)},t.toggleVisibility=function(t){t&&(t.visible?t.set({visible:!1,evented:!1,selectable:!1,hasBorders:!1,hasCorners:!1}):(t.set({visible:!0,evented:!0,selectable:!0,hasBorders:!0,hasCorners:!0}),i.fabric.setActiveObject(t)),i.fabric.renderAll())},t.deleteObject=function(t){t&&(i.fabric.remove(t),i.fabric.renderAll())},t.toggleLock=function(t){t&&(t.locked?(t.set({locked:!1,selectable:!0,evented:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,hasControls:!0,hasBorders:!0}),i.fabric.setActiveObject(t)):t.set({locked:!0,selectable:!1,evented:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hasControls:!1,hasBorders:!1}),i.fabric.renderAll())}}]);